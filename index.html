<!DOCTYPE html>
<!--
    This file is genereted by build.js. このファイルは build.js によって生成されました。
    build options: ../build.json all
    build at: Tue Dec 02 2025 06:49:12 GMT+0900 (日本標準時)
    repository: https://github.com/wraith13/web-media-player/
-->
<!-- license:
Boost Software License - Version 1.0 - August 17th, 2003

Permission is hereby granted, free of charge, to any person or organization
obtaining a copy of the software and accompanying documentation covered by
this license (the "Software") to use, reproduce, display, distribute,
execute, and transmit the Software, and to prepare derivative works of the
Software, and to permit third-parties to whom the Software is furnished to
do so, all subject to the following:

The copyright notices in the Software and this entire statement, including
the above license grant, this restriction and the following disclaimer,
must be included in all copies of the Software, in whole or in part, and
all derivative works of the Software, unless such copies or derivative
works are solely in the form of machine-executable object code generated by
a source language processor.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE, TITLE AND NON-INFRINGEMENT. IN NO EVENT
SHALL THE COPYRIGHT HOLDERS OR ANYONE DISTRIBUTING THE SOFTWARE BE LIABLE
FOR ANY DAMAGES OR OTHER LIABILITY, WHETHER IN CONTRACT, TORT OR OTHERWISE,
ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
DEALINGS IN THE SOFTWARE.
-->
<html>
<head>
<meta charset="utf-8">
<title>Web Media Player</title>
<link id="favicon" rel="shortcut icon" href="./image/favicon.png">
<link rel="canonical" href="https://wraith13.github.io/web-media-player/">
<link rel="apple-touch-icon" href="./image/favicon.png">
<meta name="theme-color" content="black">
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
<meta name="description" lang="ar" content="مشغل وسائط يعمل في متصفح الويب">
<meta name="description" lang="de" content="Webbasierter Mediaplayer, der im Webbrowser läuft">
<meta name="description" lang="el" content="Πρόγραμμα αναπαραγωγής πολυμέσων που τρέχει σε πρόγραμμα περιήγησης ιστού">
<meta name="description" lang="en" content="Web-based media player that runs in a web browser">
<meta name="description" lang="es" content="Reproductor multimedia web que se ejecuta en un navegador">
<meta name="description" lang="fa" content="پخش‌کننده رسانه مبتنی بر وب که در مرورگر اجرا می‌شود">
<meta name="description" lang="fr" content="Lecteur multimédia basé sur le web qui s'exécute dans un navigateur">
<meta name="description" lang="hi" content="वेब ब्राउज़र में चलने वाला वेब-आधारित मीडिया प्लेयर">
<meta name="description" lang="id" content="Pemutar media berbasis web yang berjalan di peramban">
<meta name="description" lang="it" content="Lettore multimediale web che viene eseguito nel browser">
<meta name="description" lang="ja" content="Web ブラウザ上で動作するメディアプレイヤー">
<meta name="description" lang="ko" content="웹 브라우저에서 실행되는 웹 기반 미디어 플레이어">
<meta name="description" lang="nl" content="Webgebaseerde mediaspeler die in een webbrowser draait">
<meta name="description" lang="pl" content="Odtwarzacz multimedialny działający w przeglądarce">
<meta name="description" lang="pt" content="Reprodutor de mídia baseado na web que roda em um navegador">
<link id="manifest" rel="manifest" href="web.manifest/generated/en.json" />
<meta name="apple-mobile-web-app-title" content="Web Media Player">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="mobile-web-app-capable" content="yes">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@wraith13">
<!-- meta name="twitter:creator" content="@wraith13" -->
<meta name="twitter:title" content="Web Media Player">
<meta name="twitter:description" lang="ar" content="مشغل وسائط يعمل في متصفح الويب">
<meta name="twitter:description" lang="de" content="Webbasierter Mediaplayer, der im Webbrowser läuft">
<meta name="twitter:description" lang="el" content="Πρόγραμμα αναπαραγωγής πολυμέσων που τρέχει σε πρόγραμμα περιήγησης ιστού">
<meta name="twitter:description" lang="en" content="Web-based media player that runs in a web browser">
<meta name="twitter:description" lang="es" content="Reproductor multimedia web que se ejecuta en un navegador">
<meta name="twitter:description" lang="fa" content="پخش‌کننده رسانه مبتنی بر وب که در مرورگر اجرا می‌شود">
<meta name="twitter:description" lang="fr" content="Lecteur multimédia basé sur le web qui s'exécute dans un navigateur">
<meta name="twitter:description" lang="hi" content="वेब ब्राउज़र में चलने वाला वेब-आधारित मीडिया प्लेयर">
<meta name="twitter:description" lang="id" content="Pemutar media berbasis web yang berjalan di peramban">
<meta name="twitter:description" lang="it" content="Lettore multimediale web che viene eseguito nel browser">
<meta name="twitter:description" lang="ja" content="Web ブラウザ上で動作するメディアプレイヤー">
<meta name="twitter:description" lang="ko" content="웹 브라우저에서 실행되는 웹 기반 미디어 플레이어">
<meta name="twitter:description" lang="nl" content="Webgebaseerde mediaspeler die in een webbrowser draait">
<meta name="twitter:description" lang="pl" content="Odtwarzacz multimedialny działający w przeglądarce">
<meta name="twitter:description" lang="pt" content="Reprodutor de mídia baseado na web que roda em um navegador">
<meta name="twitter:image" content="https://wraith13.github.io/web-media-player/image/twitter-card.png">
<meta property="og:title" content="Web Media Player" />
<meta property="og:description" content="Web-based media player that runs in a web browser" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://wraith13.github.io/web-media-player/" />
<meta property="og:image" content="https://wraith13.github.io/web-media-player/image/twitter-card.png" />
<meta property="og:image:width" content="1200" />
<meta property="og:image:height" content="630" />
<meta property="og:site_name" content="Web Media Player" />
<meta property="og:locale" content="en_US" />
<link rel="image_src" href="https://wraith13.github.io/web-media-player/image/twitter-card.png" />
<style>
@property --short-side {
  syntax: "<length>";
  inherits: true;
  initial-value: calc(30vw + 30vh);
}
@property --volume {
  syntax: "<number>";
  inherits: false;
  initial-value: 1;
}
@property --progress {
  syntax: "<number>";
  inherits: false;
  initial-value: 0deg;
}
@property --blur {
  syntax: "<length>";
  inherits: false;
  initial-value: 0px;
}
@property --brightness {
  syntax: "<number>";
  inherits: false;
  initial-value: 1;
}
@keyframes vanish {
  100% {
    display: none;
  }
}
.pixelated {
  image-rendering: pixelated;
  image-rendering: crisp-edges;
}

@keyframes ripple {
  0% {
    min-width: 4.5rem;
    max-width: 4.5rem;
    min-height: 4.5rem;
    max-height: 4.5rem;
    opacity: 0;
    filter: blur(0.125rem);
  }
  5% {
    min-width: 4.5rem;
    max-width: 4.5rem;
    min-height: 4.5rem;
    max-height: 4.5rem;
    opacity: 1;
    filter: blur(0rem);
  }
  100% {
    min-width: 200vh;
    max-width: 200vh;
    min-height: 200vh;
    max-height: 200vh;
    opacity: 0;
    filter: blur(0.125rem);
  }
}
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  border: 0;
  line-height: 120%;
  color: inherit;
  outline: 0;
  vertical-align: baseline;
}

html {
  -webkit-text-size-adjust: auto;
  height: 100%;
  min-height: 100vh;
  min-height: 100dvh;
  max-height: 100vh;
  max-height: 100dvh;
  box-sizing: border-box;
  padding-block-start: env(safe-area-inset-top);
  padding-block-end: env(safe-area-inset-bottom);
  padding-inline-start: env(safe-area-inset-left);
  padding-inline-end: env(safe-area-inset-right);
  overflow: hidden;
}
html[dir=rtl] svg {
  scale: -1 1;
}

body {
  margin: 0px;
  padding: 0px;
  overflow: hidden;
  height: auto;
  min-height: 100vh;
  min-height: 100dvh;
  max-height: 100vh;
  max-height: 100dvh;
  box-sizing: border-box;
  padding-block-start: env(safe-area-inset-top);
  padding-block-end: env(safe-area-inset-bottom);
  padding-inline-start: env(safe-area-inset-left);
  padding-inline-end: env(safe-area-inset-right);
  background-color: black;
}

button {
  cursor: pointer;
}

#noscript *[lang] {
  opacity: 0;
  animation: noscript-langs-fade 67.5s infinite;
}
#noscript *[lang=ar] {
  animation-delay: 1s;
}
#noscript *[lang=de] {
  animation-delay: 5.5s;
}
#noscript *[lang=el] {
  animation-delay: 10s;
}
#noscript *[lang=en] {
  animation-delay: 14.5s;
}
#noscript *[lang=es] {
  animation-delay: 19s;
}
#noscript *[lang=fa] {
  animation-delay: 23.5s;
}
#noscript *[lang=fr] {
  animation-delay: 28s;
}
#noscript *[lang=hi] {
  animation-delay: 32.5s;
}
#noscript *[lang=id] {
  animation-delay: 37s;
}
#noscript *[lang=it] {
  animation-delay: 41.5s;
}
#noscript *[lang=ja] {
  animation-delay: 46s;
}
#noscript *[lang=ko] {
  animation-delay: 50.5s;
}
#noscript *[lang=nl] {
  animation-delay: 55s;
}
#noscript *[lang=pl] {
  animation-delay: 59.5s;
}
#noscript *[lang=pt] {
  animation-delay: 64s;
}

@keyframes noscript-langs-fade {
  0% {
    opacity: 0;
  }
  1.3333333333333335% {
    opacity: 1;
  }
  6.666666666666667% {
    opacity: 1;
  }
  8% {
    opacity: 0;
  }
  100% {
    opacity: 0;
  }
}
#noscript {
  position: fixed;
  z-index: 9999;
  color: white;
  background-color: black;
  top: 0;
  left: 0px;
  right: 0px;
  bottom: 0px;
  padding: 1rem;
  padding-top: calc(1rem + env(safe-area-inset-top));
  padding-right: calc(1rem + env(safe-area-inset-right));
  padding-bottom: calc(1rem + env(safe-area-inset-bottom));
  padding-left: calc(1rem + env(safe-area-inset-left));
  overflow: auto;
  display: flex;
  flex-direction: column;
  justify-content: start;
  align-items: center;
}
#noscript .panel {
  animation-name: noscript-fadein;
  animation-direction: normal;
  animation-delay: 0.5s;
  animation-duration: 0.5s;
  animation-timing-function: ease-in-out;
  animation-fill-mode: both;
  width: 100%;
  position: relative;
}
#noscript .panel *[lang] {
  position: absolute;
}
#noscript .panel .section h2 + div {
  white-space: pre-wrap;
}
#noscript .panel .section + .section {
  margin-top: 4.5rem;
}

@keyframes noscript-fadein {
  0% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
}
#screen-body {
  margin: 0px;
  inset-block-start: 0px;
  inset-block-end: 0px;
  inset-inline-start: 0px;
  inset-inline-end: 0px;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  transition: opacity 3000ms;
  position: fixed;
  overflow: hidden;
  z-index: 50;
}
body.play:not(.mousemove) #screen-body {
  cursor: none;
}

#screen-body #background-screen {
  transition: display 750ms, opacity 750ms, filter 750ms;
  display: block;
  margin: 0px;
  padding: 0px;
  border: 0;
  margin: 0px;
  inset-block-start: 0px;
  inset-block-end: 0px;
  inset-inline-start: 0px;
  inset-inline-end: 0px;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
}
body.play #screen-body #background-screen:not(.show) {
  opacity: 0;
  cursor: none;
  pointer-events: none;
  filter: blur(1em);
}
body.play #screen-body #background-screen:not(.show)::before {
  content: "";
  position: absolute;
  top: -1em;
  left: -1em;
  right: -1em;
  bottom: -1em;
  background: inherit;
  filter: blur(1em);
  z-index: -1;
  transition: filter 750ms;
}

body.show-paused-media #screen-body #background-screen:not(.show) {
  opacity: 0;
  cursor: none;
  pointer-events: none;
  filter: blur(1em);
}
body.show-paused-media #screen-body #background-screen:not(.show)::before {
  content: "";
  position: absolute;
  top: -1em;
  left: -1em;
  right: -1em;
  bottom: -1em;
  background: inherit;
  filter: blur(1em);
  z-index: -1;
  transition: filter 750ms;
}

body.show-settings-panel #screen-body #background-screen:not(.show) {
  opacity: 0;
  cursor: none;
  pointer-events: none;
  filter: blur(1em);
}
body.show-settings-panel #screen-body #background-screen:not(.show)::before {
  content: "";
  position: absolute;
  top: -1em;
  left: -1em;
  right: -1em;
  bottom: -1em;
  background: inherit;
  filter: blur(1em);
  z-index: -1;
  transition: filter 750ms;
}

#screen-body #background-screen {
  text-shadow: -1px -1px 0px black, 1px -1px 0px black, -1px 1px 0px black, 1px 1px 0px black;
}
#screen-body #background-screen {
  font-size: 0.75rem;
  font-weight: 400;
}
@media (min-width: 1024px) and (max-width: 1599px) {
  #screen-body #background-screen {
    font-size: 0.9rem;
  }
}
@media (min-width: 1600px) {
  #screen-body #background-screen {
    font-size: 1rem;
  }
}
#screen-body #background-screen {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Noto Sans", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji";
}
#screen-body #background-screen {
  color: rgb(230, 237, 243);
  z-index: 20;
  gap: 1.5rem 1.5rem;
  padding: 1.5rem;
  max-width: 100vw;
  max-width: calc(100vw - env(safe-area-inset-left) - env(safe-area-inset-right));
}
#screen-body #media-screen {
  transition: opacity 750ms, filter 750ms;
  display: block;
  margin: 0px;
  padding: 0px;
  border: 0;
  margin: 0px;
  inset-block-start: 0px;
  inset-block-end: 0px;
  inset-inline-start: 0px;
  inset-inline-end: 0px;
  position: fixed;
  overflow: visible;
}
body.list #screen-body #media-screen:not(.show) {
  opacity: 0;
  cursor: none;
  pointer-events: none;
  filter: blur(1em);
}
body.list #screen-body #media-screen:not(.show)::before {
  content: "";
  position: absolute;
  top: -1em;
  left: -1em;
  right: -1em;
  bottom: -1em;
  background: inherit;
  filter: blur(1em);
  z-index: -1;
  transition: filter 750ms;
}

#screen-body #media-screen .track-frame {
  margin: 0px;
  inset-block-start: 0px;
  inset-block-end: 0px;
  inset-inline-start: 0px;
  inset-inline-end: 0px;
  position: fixed;
  overflow: hidden;
}
#screen-body #media-screen .track-frame,
#screen-body #media-screen .visualizer {
  filter: blur(var(--blur)) brightness(var(--brightness));
}
#screen-body #media-screen .player:not(audio):not(.sound-only), #screen-body #media-screen > .visualizer {
  position: absolute;
  object-fit: cover;
  top: 50%;
  left: 50%;
  translate: -50% -50%;
}
#screen-body #media-screen .track-frame.fade-out .player:not(audio):not(.sound-only), #screen-body #media-screen .visualizer.fade-out {
  transition: opacity 3000ms;
  opacity: 0;
}
#screen-body #media-screen video::-webkit-media-controls,
#screen-body #media-screen video::-moz-media-controls,
#screen-body #media-screen video::-ms-media-controls,
#screen-body #media-screen video::-o-media-controls,
#screen-body #media-screen video::-media-controls {
  display: none !important;
}
#screen-body #media-screen .padding {
  filter: blur(calc(0.5vw + 0.5vh));
  filter: blur(calc(0.5dvw + 0.5dvh));
}
#screen-body #media-screen > .visualizer {
  color: rgb(230, 237, 243);
  background-color: black;
}
#screen-body #media-screen > .visualizer .visual-canvas {
  margin: 0px;
  inset-block-start: 0px;
  inset-block-end: 0px;
  inset-inline-start: 0px;
  inset-inline-end: 0px;
  position: fixed;
}
#screen-body #media-screen > .visualizer svg {
  position: absolute;
  height: calc(15vw + 15vh);
  height: calc(15dvw + 15dvh);
  width: calc(15vw + 15vh);
  width: calc(15dvw + 15dvh);
  inset-block-start: 50%;
  inset-inline-start: 50%;
  transform: translate(-50%, -50%);
  fill: black;
  filter: drop-shadow(rgb(230, 237, 243) 0px 0px 0.5rem);
  z-index: 100;
}
#screen-body #media-screen > .visualizer.muted svg {
  fill: red;
}
#screen-body #media-screen > .visualizer.muted svg.audio-icon {
  display: none;
}
#screen-body #media-screen > .visualizer:not(.muted) svg.mute-icon {
  display: none;
}
#screen-body #media-screen:not(.simple) .visual-progress-circle {
  display: none;
}
#screen-body #media-screen.simple .visual-canvas {
  display: none;
}
#screen-body #media-screen.disable-transition {
  transition: none !important;
}
#screen-body #media-list {
  transition: display 750ms, opacity 750ms, filter 750ms;
  display: block;
  margin: 0px;
  padding: 0px;
  border: 0;
  margin: 0px;
  inset-block-start: 0px;
  inset-block-end: 0px;
  inset-inline-start: 0px;
  inset-inline-end: 0px;
  display: flex;
  flex-direction: row;
  justify-content: start;
  align-items: start;
  overflow-y: auto;
  z-index: 30;
  flex-wrap: wrap;
  align-content: flex-start;
  padding-top: 0.25rem;
  padding-top: calc(0.25rem + env(safe-area-inset-top));
  padding-left: 0.25rem;
  padding-left: calc(0.25rem + env(safe-area-inset-left));
  padding-right: 0.25rem;
  padding-right: calc(0.25rem + env(safe-area-inset-right));
  padding-bottom: calc(100vh - 2.5rem);
  padding-bottom: calc(100vh - (2.5rem + env(safe-area-inset-top)));
  padding-bottom: calc(100dvh - (2.5rem + env(safe-area-inset-top)));
  position: absolute;
  counter-reset: item-num;
}
body.play #screen-body #media-list:not(.show) {
  opacity: 0;
  cursor: none;
  pointer-events: none;
  filter: blur(1em);
}
body.play #screen-body #media-list:not(.show)::before {
  content: "";
  position: absolute;
  top: -1em;
  left: -1em;
  right: -1em;
  bottom: -1em;
  background: inherit;
  filter: blur(1em);
  z-index: -1;
  transition: filter 750ms;
}

#screen-body #media-list:not(:has(.item:not(.add))) {
  padding-bottom: 0px;
}
#screen-body #media-list .item {
  display: block;
  margin: 0px;
  padding: 0px;
  border: 0;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  counter-increment: item-num;
  position: relative;
  flex-grow: 1;
  flex-shrink: 1;
  flex-basis: 20rem;
  min-width: 20rem;
  height: 5rem;
  margin: 0.25rem;
  border-radius: 0.5rem;
  background-color: rgba(32, 28, 38, 0.6);
  color: rgb(230, 237, 243);
  font-size: 1.25rem;
  text-align: center;
  cursor: pointer;
  overflow: hidden;
  transition: background-color 300ms, transform 300ms;
}
#screen-body #media-list .item:not(.add) {
  border-color: rgba(230, 237, 243, 0.9);
  border-width: 1px;
  border-style: solid;
}
#screen-body #media-list .item:not(.add)::before {
  font-size: 0.75rem;
  font-weight: 400;
}
@media (min-width: 1024px) and (max-width: 1599px) {
  #screen-body #media-list .item:not(.add)::before {
    font-size: 0.9rem;
  }
}
@media (min-width: 1600px) {
  #screen-body #media-list .item:not(.add)::before {
    font-size: 1rem;
  }
}
#screen-body #media-list .item:not(.add)::before {
  font-family: "Consolas", "Liberation Mono", "Courier New", monospace;
}
#screen-body #media-list .item:not(.add)::before {
  content: attr(data-index);
  position: absolute;
  inset-block-start: 0.125rem;
  inset-inline-start: 0.125rem;
  font-size: 1rem;
  color: rgb(230, 237, 243);
  background-color: rgba(32, 28, 38, 0.6);
  z-index: 50;
  padding: 0.25rem;
  border-radius: 1.5rem;
  min-width: 1.5rem;
  text-align: center;
  user-select: none;
}
#screen-body #media-list .item > .thumbnail {
  margin: 0px;
  inset-block-start: 0px;
  inset-block-end: 0px;
  inset-inline-start: 0px;
  inset-inline-end: 0px;
  object-fit: cover;
  object-position: center;
  border-radius: 0.5rem;
  position: absolute;
  z-index: 10;
  width: 100%;
  height: 100%;
  fill: rgba(230, 237, 243, 0.4);
}
#screen-body #media-list .item > span {
  text-shadow: -1px -1px 0px black, 1px -1px 0px black, -1px 1px 0px black, 1px 1px 0px black;
}
#screen-body #media-list .item > span {
  font-size: 0.75rem;
  font-weight: 400;
}
@media (min-width: 1024px) and (max-width: 1599px) {
  #screen-body #media-list .item > span {
    font-size: 0.9rem;
  }
}
@media (min-width: 1600px) {
  #screen-body #media-list .item > span {
    font-size: 1rem;
  }
}
#screen-body #media-list .item > span {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Noto Sans", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji";
}
#screen-body #media-list .item > span {
  color: rgb(230, 237, 243);
}
#screen-body #media-list .item > span.name {
  font-size: 1.25rem;
  text-overflow: ellipsis;
  overflow: hidden;
  white-space: nowrap;
  width: 100%;
  padding: 0.5rem;
  text-align: center;
  z-index: 100;
}
#screen-body #media-list .item > span.type {
  display: none;
  font-size: 1rem;
  padding: 0.25rem;
  z-index: 100;
  position: absolute;
  inset-block-start: 0rem;
  inset-inline-start: 0rem;
}
#screen-body #media-list .item > span.size {
  font-size: 0.75rem;
  font-weight: 400;
}
@media (min-width: 1024px) and (max-width: 1599px) {
  #screen-body #media-list .item > span.size {
    font-size: 0.9rem;
  }
}
@media (min-width: 1600px) {
  #screen-body #media-list .item > span.size {
    font-size: 1rem;
  }
}
#screen-body #media-list .item > span.size {
  font-family: "Consolas", "Liberation Mono", "Courier New", monospace;
}
#screen-body #media-list .item > span.size {
  font-size: 1rem;
  padding: 0.25rem;
  z-index: 100;
  position: absolute;
  inset-inline-start: 0rem;
  inset-block-end: 0rem;
}
#screen-body #media-list .item > span.duration {
  font-size: 0.75rem;
  font-weight: 400;
}
@media (min-width: 1024px) and (max-width: 1599px) {
  #screen-body #media-list .item > span.duration {
    font-size: 0.9rem;
  }
}
@media (min-width: 1600px) {
  #screen-body #media-list .item > span.duration {
    font-size: 1rem;
  }
}
#screen-body #media-list .item > span.duration {
  font-family: "Consolas", "Liberation Mono", "Courier New", monospace;
}
#screen-body #media-list .item > span.duration {
  font-size: 1rem;
  padding: 0.25rem;
  z-index: 100;
  position: absolute;
  inset-inline-end: 0rem;
  inset-block-end: 0rem;
}
#screen-body #media-list .item > button.remove-button {
  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: center;
}
#screen-body #media-list .item > button.remove-button {
  position: absolute;
  inset-inline-end: 0.125rem;
  inset-block-start: 0.125rem;
  font-size: 1.25rem;
  background-color: rgba(32, 28, 38, 0.3);
  z-index: 150;
  border-radius: 1.5rem;
  height: 2rem;
  width: 2rem;
}
#screen-body #media-list .item > button.remove-button svg {
  height: 1.25rem;
  width: 1.25rem;
  fill: rgba(230, 237, 243, 0.7);
}
@media (hover: hover) {
  #screen-body #media-list .item > button.remove-button:hover {
    background-color: rgba(32, 28, 38, 0.9);
    filter: drop-shadow(rgb(230, 237, 243) 0px 0px 0.5rem);
  }
  #screen-body #media-list .item > button.remove-button:hover svg {
    fill: rgba(230, 237, 243, 0.9);
  }
}
@media (hover: hover) {
  #screen-body #media-list .item:not(.add):hover {
    z-index: 100;
    background-color: rgba(32, 28, 38, 0.95);
    filter: drop-shadow(rgb(230, 237, 243) 0px 0px 0.5rem);
  }
}
@media (min-width: 3000px) {
  #screen-body #media-list .item {
    flex-basis: 9vw;
    min-width: 9vw;
  }
}
#screen-body #media-list .item.add {
  transition: display 750ms, opacity 750ms, filter 750ms;
  background-color: transparent;
  padding: 0px;
  cursor: default;
  overflow: visible;
  min-width: 91%;
  min-width: calc(100% - 1rem);
  min-width: calc(100% - 1rem - env(safe-area-inset-left) - env(safe-area-inset-right));
}
body.progress-circle #screen-body #media-list .item.add:not(.show) {
  opacity: 0;
  cursor: none;
  pointer-events: none;
  filter: blur(1em);
}
body.progress-circle #screen-body #media-list .item.add:not(.show)::before {
  content: "";
  position: absolute;
  top: -1em;
  left: -1em;
  right: -1em;
  bottom: -1em;
  background: inherit;
  filter: blur(1em);
  z-index: -1;
  transition: filter 750ms;
}

#screen-body #media-list .item.add:first-child::before {
  position: fixed;
  content: " ";
  margin-left: auto;
  margin-right: auto;
  min-width: 4.5rem;
  max-width: 4.5rem;
  min-height: 4.5rem;
  max-height: 4.5rem;
  border-radius: 100%;
  border-width: 1px;
  border-style: solid;
  border-color: white;
  animation: ripple 10s infinite linear;
  pointer-events: none;
}
#screen-body #media-list .item.add #add-media {
  border-width: 2px;
  border-radius: 2.25rem;
  border-color: white;
  border-style: solid;
  background-color: rgba(32, 28, 38, 0.9);
  padding-block: calc(1rem - 2px);
  padding-inline: calc(1rem - 2px);
  width: calc(4.5rem - 2px);
  height: calc(4.5rem - 2px);
  vertical-align: baseline;
  cursor: pointer;
}
#screen-body #media-list .item.add #add-media svg {
  width: 2.5rem;
  height: 2.5rem;
  fill: rgb(230, 237, 243);
}
@media (hover: hover) {
  #screen-body #media-list .item.add #add-media:hover {
    z-index: 100;
    background-color: rgba(32, 28, 38, 0.95);
    filter: drop-shadow(rgb(230, 237, 243) 0px 0px 0.5rem);
  }
}
#screen-body #media-list .item.add #add-file {
  display: none;
}
#screen-body #media-list.dragging {
  cursor: grabbing;
}
#screen-body #media-list.dragging .item {
  cursor: grabbing;
}
#screen-body #media-list.dragging .item:not(.dragging) .thumbnail {
  opacity: 0.25;
}
#screen-body #media-list.dragging .item.drag-over:not(.dragging) {
  background-color: rgba(230, 237, 243, 0.9);
}
#screen-body #media-list.dragging .item.drag-over.dragging {
  background-color: black;
}
#screen-body.black #canvas {
  display: none;
}

.visualizer {
  font-size: 2rem;
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100%;
  width: 100%;
}
.visualizer .viaul-text {
  z-index: 100;
}
.visualizer .visual-progress-circle {
  border-radius: 50%;
  background: conic-gradient(hsl(160, 100%, 50%) calc(var(--progress) * 360deg), hsl(160, 100%, 50%) calc(var(--progress) * 360deg), transparent calc(var(--progress) * 360deg));
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) scale(calc(0.75 + 0.5 * var(--volume)));
  height: calc(25vw + 25vh);
  height: calc(25dvw + 25dvh);
  width: calc(25vw + 25vh);
  width: calc(25dvw + 25dvh);
  filter: drop-shadow(black 0px 0px 0.5rem);
  border-color: hsl(160, 100%, 50%);
  border-width: 0.125rem;
  border-style: solid;
  z-index: 50;
}
.visualizer.odd .visual-progress-circle {
  border-radius: 50%;
  background: conic-gradient(transparent calc(var(--progress) * 360deg), transparent calc(var(--progress) * 360deg), hsl(160, 100%, 50%) calc(var(--progress) * 360deg));
}

#analog-clock-panel {
  transition: display 750ms, opacity 750ms, filter 750ms;
  margin: 0px;
  inset-block-start: 0px;
  inset-block-end: 0px;
  inset-inline-start: 0px;
  inset-inline-end: 0px;
  mix-blend-mode: difference;
  position: fixed;
}
body.list #analog-clock-panel:not(.show) {
  opacity: 0;
  cursor: none;
  pointer-events: none;
  filter: blur(1em);
}
body.list #analog-clock-panel:not(.show)::before {
  content: "";
  position: absolute;
  top: -1em;
  left: -1em;
  right: -1em;
  bottom: -1em;
  background: inherit;
  filter: blur(1em);
  z-index: -1;
  transition: filter 750ms;
}

#analog-clock-panel.hide:not(.show) {
  opacity: 0;
  cursor: none;
  pointer-events: none;
  filter: blur(1em);
}
#analog-clock-panel.hide:not(.show)::before {
  content: "";
  position: absolute;
  top: -1em;
  left: -1em;
  right: -1em;
  bottom: -1em;
  background: inherit;
  filter: blur(1em);
  z-index: -1;
  transition: filter 750ms;
}
#analog-clock-panel div {
  position: fixed;
  top: 50%;
  left: 50%;
  translate: -50% -50%;
  border-radius: 50%;
}
#analog-clock-panel div#milli-seconds-niddle {
  background: conic-gradient(black, black 270deg, white 360deg);
  transform: rotate(calc(var(--progress) * 360deg));
  transition: display 750ms, opacity 750ms, filter 750ms;
  width: calc(var(--short-side) * 96);
  height: calc(var(--short-side) * 96);
}
#analog-clock-panel div#milli-seconds-niddle.hide:not(.show) {
  opacity: 0;
  cursor: none;
  pointer-events: none;
  filter: blur(1em);
}
#analog-clock-panel div#milli-seconds-niddle.hide:not(.show)::before {
  content: "";
  position: absolute;
  top: -1em;
  left: -1em;
  right: -1em;
  bottom: -1em;
  background: inherit;
  filter: blur(1em);
  z-index: -1;
  transition: filter 750ms;
}
#analog-clock-panel div#seconds-niddle {
  background: conic-gradient(black, black 270deg, white 360deg);
  transform: rotate(calc(var(--progress) * 360deg));
  width: calc(var(--short-side) * 95);
  height: calc(var(--short-side) * 95);
}
#analog-clock-panel div#minutes-niddle {
  background: conic-gradient(black, black 270deg, white 360deg);
  transform: rotate(calc(var(--progress) * 360deg));
  width: calc(var(--short-side) * 85);
  height: calc(var(--short-side) * 85);
}
#analog-clock-panel div#scale60-panel {
  --scale-width: calc(var(--short-side) * 0.2);
  --scale-color: rgba(0, 0, 0, 0.3);
  width: calc(var(--short-side) * 95);
  height: calc(var(--short-side) * 95);
  background: linear-gradient(0deg, transparent calc(50% - var(--scale-width)), var(--scale-color) calc(50% - var(--scale-width)), var(--scale-color) calc(50% + var(--scale-width)), transparent calc(50% + var(--scale-width))), linear-gradient(6deg, transparent calc(50% - var(--scale-width)), var(--scale-color) calc(50% - var(--scale-width)), var(--scale-color) calc(50% + var(--scale-width)), transparent calc(50% + var(--scale-width))), linear-gradient(12deg, transparent calc(50% - var(--scale-width)), var(--scale-color) calc(50% - var(--scale-width)), var(--scale-color) calc(50% + var(--scale-width)), transparent calc(50% + var(--scale-width))), linear-gradient(18deg, transparent calc(50% - var(--scale-width)), var(--scale-color) calc(50% - var(--scale-width)), var(--scale-color) calc(50% + var(--scale-width)), transparent calc(50% + var(--scale-width))), linear-gradient(24deg, transparent calc(50% - var(--scale-width)), var(--scale-color) calc(50% - var(--scale-width)), var(--scale-color) calc(50% + var(--scale-width)), transparent calc(50% + var(--scale-width))), linear-gradient(30deg, transparent calc(50% - var(--scale-width)), var(--scale-color) calc(50% - var(--scale-width)), var(--scale-color) calc(50% + var(--scale-width)), transparent calc(50% + var(--scale-width))), linear-gradient(36deg, transparent calc(50% - var(--scale-width)), var(--scale-color) calc(50% - var(--scale-width)), var(--scale-color) calc(50% + var(--scale-width)), transparent calc(50% + var(--scale-width))), linear-gradient(42deg, transparent calc(50% - var(--scale-width)), var(--scale-color) calc(50% - var(--scale-width)), var(--scale-color) calc(50% + var(--scale-width)), transparent calc(50% + var(--scale-width))), linear-gradient(48deg, transparent calc(50% - var(--scale-width)), var(--scale-color) calc(50% - var(--scale-width)), var(--scale-color) calc(50% + var(--scale-width)), transparent calc(50% + var(--scale-width))), linear-gradient(54deg, transparent calc(50% - var(--scale-width)), var(--scale-color) calc(50% - var(--scale-width)), var(--scale-color) calc(50% + var(--scale-width)), transparent calc(50% + var(--scale-width))), linear-gradient(60deg, transparent calc(50% - var(--scale-width)), var(--scale-color) calc(50% - var(--scale-width)), var(--scale-color) calc(50% + var(--scale-width)), transparent calc(50% + var(--scale-width))), linear-gradient(66deg, transparent calc(50% - var(--scale-width)), var(--scale-color) calc(50% - var(--scale-width)), var(--scale-color) calc(50% + var(--scale-width)), transparent calc(50% + var(--scale-width))), linear-gradient(72deg, transparent calc(50% - var(--scale-width)), var(--scale-color) calc(50% - var(--scale-width)), var(--scale-color) calc(50% + var(--scale-width)), transparent calc(50% + var(--scale-width))), linear-gradient(78deg, transparent calc(50% - var(--scale-width)), var(--scale-color) calc(50% - var(--scale-width)), var(--scale-color) calc(50% + var(--scale-width)), transparent calc(50% + var(--scale-width))), linear-gradient(84deg, transparent calc(50% - var(--scale-width)), var(--scale-color) calc(50% - var(--scale-width)), var(--scale-color) calc(50% + var(--scale-width)), transparent calc(50% + var(--scale-width))), linear-gradient(90deg, transparent calc(50% - var(--scale-width)), var(--scale-color) calc(50% - var(--scale-width)), var(--scale-color) calc(50% + var(--scale-width)), transparent calc(50% + var(--scale-width))), linear-gradient(96deg, transparent calc(50% - var(--scale-width)), var(--scale-color) calc(50% - var(--scale-width)), var(--scale-color) calc(50% + var(--scale-width)), transparent calc(50% + var(--scale-width))), linear-gradient(102deg, transparent calc(50% - var(--scale-width)), var(--scale-color) calc(50% - var(--scale-width)), var(--scale-color) calc(50% + var(--scale-width)), transparent calc(50% + var(--scale-width))), linear-gradient(108deg, transparent calc(50% - var(--scale-width)), var(--scale-color) calc(50% - var(--scale-width)), var(--scale-color) calc(50% + var(--scale-width)), transparent calc(50% + var(--scale-width))), linear-gradient(114deg, transparent calc(50% - var(--scale-width)), var(--scale-color) calc(50% - var(--scale-width)), var(--scale-color) calc(50% + var(--scale-width)), transparent calc(50% + var(--scale-width))), linear-gradient(120deg, transparent calc(50% - var(--scale-width)), var(--scale-color) calc(50% - var(--scale-width)), var(--scale-color) calc(50% + var(--scale-width)), transparent calc(50% + var(--scale-width))), linear-gradient(126deg, transparent calc(50% - var(--scale-width)), var(--scale-color) calc(50% - var(--scale-width)), var(--scale-color) calc(50% + var(--scale-width)), transparent calc(50% + var(--scale-width))), linear-gradient(132deg, transparent calc(50% - var(--scale-width)), var(--scale-color) calc(50% - var(--scale-width)), var(--scale-color) calc(50% + var(--scale-width)), transparent calc(50% + var(--scale-width))), linear-gradient(138deg, transparent calc(50% - var(--scale-width)), var(--scale-color) calc(50% - var(--scale-width)), var(--scale-color) calc(50% + var(--scale-width)), transparent calc(50% + var(--scale-width))), linear-gradient(144deg, transparent calc(50% - var(--scale-width)), var(--scale-color) calc(50% - var(--scale-width)), var(--scale-color) calc(50% + var(--scale-width)), transparent calc(50% + var(--scale-width))), linear-gradient(150deg, transparent calc(50% - var(--scale-width)), var(--scale-color) calc(50% - var(--scale-width)), var(--scale-color) calc(50% + var(--scale-width)), transparent calc(50% + var(--scale-width))), linear-gradient(156deg, transparent calc(50% - var(--scale-width)), var(--scale-color) calc(50% - var(--scale-width)), var(--scale-color) calc(50% + var(--scale-width)), transparent calc(50% + var(--scale-width))), linear-gradient(162deg, transparent calc(50% - var(--scale-width)), var(--scale-color) calc(50% - var(--scale-width)), var(--scale-color) calc(50% + var(--scale-width)), transparent calc(50% + var(--scale-width))), linear-gradient(168deg, transparent calc(50% - var(--scale-width)), var(--scale-color) calc(50% - var(--scale-width)), var(--scale-color) calc(50% + var(--scale-width)), transparent calc(50% + var(--scale-width))), linear-gradient(174deg, transparent calc(50% - var(--scale-width)), var(--scale-color) calc(50% - var(--scale-width)), var(--scale-color) calc(50% + var(--scale-width)), transparent calc(50% + var(--scale-width)));
}
#analog-clock-panel div#hours-niddle {
  background: conic-gradient(black, black 270deg, white 360deg);
  transform: rotate(calc(var(--progress) * 360deg));
  width: calc(var(--short-side) * 70);
  height: calc(var(--short-side) * 70);
}
#analog-clock-panel div#scale12-panel {
  --scale-width: calc(var(--short-side) * 0.3);
  --scale-color: rgba(0, 0, 0, 0.7);
  width: calc(var(--short-side) * 95);
  height: calc(var(--short-side) * 95);
  background: linear-gradient(0deg, transparent calc(50% - var(--scale-width)), var(--scale-color) calc(50% - var(--scale-width)), var(--scale-color) calc(50% + var(--scale-width)), transparent calc(50% + var(--scale-width))), linear-gradient(30deg, transparent calc(50% - var(--scale-width)), var(--scale-color) calc(50% - var(--scale-width)), var(--scale-color) calc(50% + var(--scale-width)), transparent calc(50% + var(--scale-width))), linear-gradient(60deg, transparent calc(50% - var(--scale-width)), var(--scale-color) calc(50% - var(--scale-width)), var(--scale-color) calc(50% + var(--scale-width)), transparent calc(50% + var(--scale-width))), linear-gradient(90deg, transparent calc(50% - var(--scale-width)), var(--scale-color) calc(50% - var(--scale-width)), var(--scale-color) calc(50% + var(--scale-width)), transparent calc(50% + var(--scale-width))), linear-gradient(120deg, transparent calc(50% - var(--scale-width)), var(--scale-color) calc(50% - var(--scale-width)), var(--scale-color) calc(50% + var(--scale-width)), transparent calc(50% + var(--scale-width))), linear-gradient(150deg, transparent calc(50% - var(--scale-width)), var(--scale-color) calc(50% - var(--scale-width)), var(--scale-color) calc(50% + var(--scale-width)), transparent calc(50% + var(--scale-width)));
}
#analog-clock-panel div#center-circle {
  background-color: black;
  width: calc(var(--short-side) * 55);
  height: calc(var(--short-side) * 55);
}
#analog-clock-panel div#week-niddle {
  transition: display 750ms, opacity 750ms, filter 750ms;
  background: conic-gradient(black, black 270deg, white 360deg);
  transform: rotate(calc(var(--progress) * 360deg));
  width: calc(var(--short-side) * 55);
  height: calc(var(--short-side) * 55);
}
#analog-clock-panel div#week-niddle.hide:not(.show) {
  opacity: 0;
  cursor: none;
  pointer-events: none;
  filter: blur(1em);
}
#analog-clock-panel div#week-niddle.hide:not(.show)::before {
  content: "";
  position: absolute;
  top: -1em;
  left: -1em;
  right: -1em;
  bottom: -1em;
  background: inherit;
  filter: blur(1em);
  z-index: -1;
  transition: filter 750ms;
}
#analog-clock-panel div#week-panel {
  --line-angle: 1.25deg;
  --scale-color: rgba(0, 0, 0, 0.5);
  width: calc(var(--short-side) * 55);
  height: calc(var(--short-side) * 55);
  background: conic-gradient(from calc(0deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(51.4285714286deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(102.8571428571deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(154.2857142857deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(205.7142857143deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(257.1428571429deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(308.5714285714deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg);
  background-repeat: no-repeat;
  background-position: center;
  background-size: cover;
}
#analog-clock-panel div#month-niddle {
  transition: display 750ms, opacity 750ms, filter 750ms;
  background: conic-gradient(black, black 270deg, white 360deg);
  transform: rotate(calc(var(--progress) * 360deg));
  width: calc(var(--short-side) * 50);
  height: calc(var(--short-side) * 50);
}
#analog-clock-panel div#month-niddle.hide:not(.show) {
  opacity: 0;
  cursor: none;
  pointer-events: none;
  filter: blur(1em);
}
#analog-clock-panel div#month-niddle.hide:not(.show)::before {
  content: "";
  position: absolute;
  top: -1em;
  left: -1em;
  right: -1em;
  bottom: -1em;
  background: inherit;
  filter: blur(1em);
  z-index: -1;
  transition: filter 750ms;
}
#analog-clock-panel div#month-panel {
  --line-angle: 1.0deg;
  --scale-color: rgba(0, 0, 0, 0.5);
  width: calc(var(--short-side) * 50);
  height: calc(var(--short-side) * 50);
}
#analog-clock-panel div#month-panel.days28 {
  background: conic-gradient(from calc(0deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(12.8571428571deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(25.7142857143deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(38.5714285714deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(51.4285714286deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(64.2857142857deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(77.1428571429deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(90deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(102.8571428571deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(115.7142857143deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(128.5714285714deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(141.4285714286deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(154.2857142857deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(167.1428571429deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(180deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(192.8571428571deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(205.7142857143deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(218.5714285714deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(231.4285714286deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(244.2857142857deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(257.1428571429deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(270deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(282.8571428571deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(295.7142857143deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(308.5714285714deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(321.4285714286deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(334.2857142857deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(347.1428571429deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg);
  background-repeat: no-repeat;
  background-position: center;
  background-size: cover;
}
#analog-clock-panel div#month-panel.days29 {
  background: conic-gradient(from calc(0deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(12.4137931034deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(24.8275862069deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(37.2413793103deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(49.6551724138deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(62.0689655172deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(74.4827586207deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(86.8965517241deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(99.3103448276deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(111.724137931deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(124.1379310345deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(136.5517241379deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(148.9655172414deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(161.3793103448deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(173.7931034483deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(186.2068965517deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(198.6206896552deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(211.0344827586deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(223.4482758621deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(235.8620689655deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(248.275862069deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(260.6896551724deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(273.1034482759deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(285.5172413793deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(297.9310344828deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(310.3448275862deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(322.7586206897deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(335.1724137931deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(347.5862068966deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg);
  background-repeat: no-repeat;
  background-position: center;
  background-size: cover;
}
#analog-clock-panel div#month-panel.days30 {
  background: conic-gradient(from calc(0deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(12deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(24deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(36deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(48deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(60deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(72deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(84deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(96deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(108deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(120deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(132deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(144deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(156deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(168deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(180deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(192deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(204deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(216deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(228deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(240deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(252deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(264deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(276deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(288deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(300deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(312deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(324deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(336deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(348deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg);
  background-repeat: no-repeat;
  background-position: center;
  background-size: cover;
}
#analog-clock-panel div#month-panel.days31 {
  background: conic-gradient(from calc(0deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(11.6129032258deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(23.2258064516deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(34.8387096774deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(46.4516129032deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(58.064516129deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(69.6774193548deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(81.2903225806deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(92.9032258065deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(104.5161290323deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(116.1290322581deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(127.7419354839deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(139.3548387097deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(150.9677419355deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(162.5806451613deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(174.1935483871deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(185.8064516129deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(197.4193548387deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(209.0322580645deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(220.6451612903deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(232.2580645161deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(243.8709677419deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(255.4838709677deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(267.0967741935deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(278.7096774194deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(290.3225806452deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(301.935483871deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(313.5483870968deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(325.1612903226deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(336.7741935484deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg), conic-gradient(from calc(348.3870967742deg - var(--line-angle) / 2), var(--scale-color) 0deg calc(var(--line-angle)), transparent calc(var(--line-angle)) 360deg);
  background-repeat: no-repeat;
  background-position: center;
  background-size: cover;
}
#analog-clock-panel div#year-niddle {
  transition: display 750ms, opacity 750ms, filter 750ms;
  background: conic-gradient(black, black 270deg, white 360deg);
  transform: rotate(calc(var(--progress) * 360deg));
  width: calc(var(--short-side) * 40);
  height: calc(var(--short-side) * 40);
}
#analog-clock-panel div#year-niddle.hide:not(.show) {
  opacity: 0;
  cursor: none;
  pointer-events: none;
  filter: blur(1em);
}
#analog-clock-panel div#year-niddle.hide:not(.show)::before {
  content: "";
  position: absolute;
  top: -1em;
  left: -1em;
  right: -1em;
  bottom: -1em;
  background: inherit;
  filter: blur(1em);
  z-index: -1;
  transition: filter 750ms;
}
#analog-clock-panel div#year-panel {
  --scale-width: calc(var(--short-side) * 0.3);
  --scale-color: rgba(0, 0, 0, 0.7);
  width: calc(var(--short-side) * 40);
  height: calc(var(--short-side) * 40);
  background: linear-gradient(0deg, transparent calc(50% - var(--scale-width)), var(--scale-color) calc(50% - var(--scale-width)), var(--scale-color) calc(50% + var(--scale-width)), transparent calc(50% + var(--scale-width))), linear-gradient(30deg, transparent calc(50% - var(--scale-width)), var(--scale-color) calc(50% - var(--scale-width)), var(--scale-color) calc(50% + var(--scale-width)), transparent calc(50% + var(--scale-width))), linear-gradient(60deg, transparent calc(50% - var(--scale-width)), var(--scale-color) calc(50% - var(--scale-width)), var(--scale-color) calc(50% + var(--scale-width)), transparent calc(50% + var(--scale-width))), linear-gradient(90deg, transparent calc(50% - var(--scale-width)), var(--scale-color) calc(50% - var(--scale-width)), var(--scale-color) calc(50% + var(--scale-width)), transparent calc(50% + var(--scale-width))), linear-gradient(120deg, transparent calc(50% - var(--scale-width)), var(--scale-color) calc(50% - var(--scale-width)), var(--scale-color) calc(50% + var(--scale-width)), transparent calc(50% + var(--scale-width))), linear-gradient(150deg, transparent calc(50% - var(--scale-width)), var(--scale-color) calc(50% - var(--scale-width)), var(--scale-color) calc(50% + var(--scale-width)), transparent calc(50% + var(--scale-width)));
}
#analog-clock-panel div#dates-center-circle {
  background-color: black;
  width: calc(var(--short-side) * 30);
  height: calc(var(--short-side) * 30);
}

body:not(.show-paused-media) #screen-body.paused #media-screen {
  opacity: 0.2;
}

body #screen-body.paused {
  background-color: black;
}

body.show-paused-media #screen-body #media-screen {
  opacity: 1;
  filter: none !important;
}
body.show-paused-media #screen-body #background-screen {
  opacity: 0;
}
body.show-paused-media #screen-body #media-list .item.add {
  opacity: 0.7;
  filter: blur(0.1rem);
  transition: opacity 1000ms, filter 1000ms;
}
@media (hover: hover) {
  body.show-paused-media #screen-body #media-list .item.add:hover {
    opacity: 1;
    filter: none;
  }
}
body.show-paused-media #screen-body #media-list .item:not(.add) {
  opacity: 0.3;
  filter: blur(0.5rem);
  transition: opacity 1000ms, filter 1000ms;
}

#element-pool {
  display: none;
}

#fps {
  backdrop-filter: blur(0.5rem);
  color: rgb(230, 237, 243);
  background-color: rgba(32, 28, 38, 0.6);
  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: center;
  font-size: 0.75rem;
  font-weight: 400;
}
@media (min-width: 1024px) and (max-width: 1599px) {
  #fps {
    font-size: 0.9rem;
  }
}
@media (min-width: 1600px) {
  #fps {
    font-size: 1rem;
  }
}
#fps {
  font-family: "Consolas", "Liberation Mono", "Courier New", monospace;
}
#fps {
  position: absolute;
  z-index: 100;
  inset-block-start: 2.5rem;
  inset-block-start: calc(2.5rem + env(safe-area-inset-top));
  inset-inline-end: 0.5rem;
  inset-inline-end: calc(0.5rem + env(safe-area-inset-right));
  border-radius: 0.5rem;
  padding-block: 0.5rem;
  padding-inline: 0.75rem;
  text-align: end;
  white-space: pre;
  will-change: contents opacity filter;
  transition: display 750ms, opacity 750ms, filter 750ms;
}
body:not(.play) #fps:not(.show) {
  opacity: 0;
  cursor: none;
  pointer-events: none;
  filter: blur(1em);
}
body:not(.play) #fps:not(.show)::before {
  content: "";
  position: absolute;
  top: -1em;
  left: -1em;
  right: -1em;
  bottom: -1em;
  background: inherit;
  filter: blur(1em);
  z-index: -1;
  transition: filter 750ms;
}

#fps.hide:not(.show) {
  opacity: 0;
  cursor: none;
  pointer-events: none;
  filter: blur(1em);
}
#fps.hide:not(.show)::before {
  content: "";
  position: absolute;
  top: -1em;
  left: -1em;
  right: -1em;
  bottom: -1em;
  background: inherit;
  filter: blur(1em);
  z-index: -1;
  transition: filter 750ms;
}

#progress-circle {
  border-radius: 50%;
  background: conic-gradient(white calc(var(--progress) * 360deg), white calc(var(--progress) * 360deg), transparent calc(var(--progress) * 360deg));
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 6rem;
  height: 6rem;
  filter: drop-shadow(black 0px 0px 0.5rem);
  border-color: #fff;
  border-width: 0.125rem;
  border-style: solid;
  z-index: 100;
}

body:not(.progress-circle) #progress-circle {
  display: none;
}

#no-media-panel,
#not-supported-media-panel,
#wake-up-timer-not-working-panel {
  backdrop-filter: blur(0.5rem);
  color: rgb(230, 237, 243);
  background-color: rgba(32, 28, 38, 0.6);
}
#no-media-panel,
#not-supported-media-panel,
#wake-up-timer-not-working-panel {
  font-size: 0.75rem;
  font-weight: 400;
}
@media (min-width: 1024px) and (max-width: 1599px) {
  #no-media-panel,
  #not-supported-media-panel,
  #wake-up-timer-not-working-panel {
    font-size: 0.9rem;
  }
}
@media (min-width: 1600px) {
  #no-media-panel,
  #not-supported-media-panel,
  #wake-up-timer-not-working-panel {
    font-size: 1rem;
  }
}
#no-media-panel,
#not-supported-media-panel,
#wake-up-timer-not-working-panel {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Noto Sans", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji";
}
#no-media-panel,
#not-supported-media-panel,
#wake-up-timer-not-working-panel {
  font-size: 1.25rem;
  position: fixed;
  inset-block-start: 50%;
  inset-inline-start: 50%;
  transform: translate(-50%, -50%);
  padding: 1rem;
  border-radius: 2rem;
  min-width: 18rem;
  max-width: 95%;
  max-width: calc(100% - 2rem);
  z-index: 100;
}

#no-media-panel {
  transition: display 750ms, opacity 750ms, filter 750ms;
}
body:not(.no-media) #no-media-panel:not(.show) {
  opacity: 0;
  cursor: none;
  pointer-events: none;
  filter: blur(1em);
}
body:not(.no-media) #no-media-panel:not(.show)::before {
  content: "";
  position: absolute;
  top: -1em;
  left: -1em;
  right: -1em;
  bottom: -1em;
  background: inherit;
  filter: blur(1em);
  z-index: -1;
  transition: filter 750ms;
}

body:not(.no-media) #no-media-panel {
  transition: opacity 3000ms, filter 3000ms !important;
}

#not-supported-media-panel {
  transition: display 750ms, opacity 750ms, filter 750ms;
}
body:not(.not-supported-media) #not-supported-media-panel:not(.show) {
  opacity: 0;
  cursor: none;
  pointer-events: none;
  filter: blur(1em);
}
body:not(.not-supported-media) #not-supported-media-panel:not(.show)::before {
  content: "";
  position: absolute;
  top: -1em;
  left: -1em;
  right: -1em;
  bottom: -1em;
  background: inherit;
  filter: blur(1em);
  z-index: -1;
  transition: filter 750ms;
}

body:not(.not-supported-media) #not-supported-media-panel {
  transition: opacity 3000ms, filter 3000ms !important;
}

#wake-up-timer-not-working-panel {
  transition: display 750ms, opacity 750ms, filter 750ms;
  z-index: 50;
  color: orange;
}
body:not(.wake-up-timer-not-working) #wake-up-timer-not-working-panel:not(.show) {
  opacity: 0;
  cursor: none;
  pointer-events: none;
  filter: blur(1em);
}
body:not(.wake-up-timer-not-working) #wake-up-timer-not-working-panel:not(.show)::before {
  content: "";
  position: absolute;
  top: -1em;
  left: -1em;
  right: -1em;
  bottom: -1em;
  background: inherit;
  filter: blur(1em);
  z-index: -1;
  transition: filter 750ms;
}

body:not(.play):not(.mousemove).sleeped.wake-up-timer-not-working #wake-up-timer-not-working-panel {
  opacity: 0.4;
}

.toggle-label.on .value-label:not([data-lang-key=on]) {
  display: none;
}
.toggle-label:not(.on) .value-label[data-lang-key=on] {
  display: none;
}
.toggle-label .value-label {
  padding-inline: 0.25rem;
}

#control-panel {
  backdrop-filter: blur(0.5rem);
  color: rgb(230, 237, 243);
  background-color: rgba(32, 28, 38, 0.6);
  transition: display 750ms, opacity 750ms, filter 750ms;
  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: center;
}
body.play:not(.show-ui) #control-panel:not(.show) {
  opacity: 0;
  cursor: none;
  pointer-events: none;
  filter: blur(1em);
}
body.play:not(.show-ui) #control-panel:not(.show)::before {
  content: "";
  position: absolute;
  top: -1em;
  left: -1em;
  right: -1em;
  bottom: -1em;
  background: inherit;
  filter: blur(1em);
  z-index: -1;
  transition: filter 750ms;
}

#control-panel {
  border-radius: 4.5rem;
  inset-block-end: 1.5rem;
  inset-block-end: calc(1.5rem + env(safe-area-inset-bottom));
  left: 50%;
  transform: translate(-50%, 0%);
  position: fixed;
  z-index: 60;
  padding: 0.25rem 0.25rem;
  gap: 0.25rem;
}
#control-panel label[for=wakeup-button].icon-button {
  margin-inline-start: -3.25rem;
}
#control-panel label[for=sleep-button].icon-button {
  margin-inline-end: -3.25rem;
}
@media (max-width: 540px) {
  #control-panel label[for=wakeup-button].icon-button {
    margin-top: -7rem;
    margin-right: -3.25rem;
    margin-left: 0rem;
  }
  #control-panel label[for=sleep-button].icon-button {
    margin-top: -7rem;
    margin-right: 0rem;
    margin-left: -3.25rem;
  }
}
#control-panel .icon-button > input[type=checkbox] {
  display: none;
}
#control-panel .icon-button.checked svg {
  border-color: rgb(230, 237, 243);
}
#control-panel .icon-button > svg, #control-panel .icon-button > div > svg {
  color: rgb(230, 237, 243);
  fill: rgb(230, 237, 243);
  vertical-align: middle;
}
#control-panel .icon-button > input[type=checkbox]:checked + div + label + label {
  inset-block-end: 9.5rem;
}
@media (max-width: 420px) {
  #control-panel .icon-button > input[type=checkbox]:checked + div + label + label {
    inset-block-end: 12rem;
  }
}
#control-panel label.icon-button svg,
#control-panel button {
  backdrop-filter: blur(0.5rem);
  color: rgb(230, 237, 243);
  background-color: rgba(32, 28, 38, 0.6);
}
#control-panel label.icon-button svg,
#control-panel button {
  border-style: solid;
  border-width: 2px;
  padding-block: calc(0.75rem - 2px);
  padding-inline: calc(0.75rem - 2px);
  border-color: rgba(32, 28, 38, 0.9);
  border-radius: 1.5rem;
  transition: opacity 750ms, filter 125ms;
  width: 3rem;
  height: 3rem;
  background-color: rgba(32, 28, 38, 0.9);
}
#control-panel label.icon-button svg.on,
#control-panel button.on {
  border-color: rgb(230, 237, 243);
}
#control-panel label.icon-button svg svg,
#control-panel button svg {
  color: rgb(230, 237, 243);
  fill: rgb(230, 237, 243);
  width: 100%;
  height: 100%;
}
@media (hover: hover) {
  #control-panel label.icon-button svg:hover,
  #control-panel button:hover {
    z-index: 100;
    filter: drop-shadow(rgb(230, 237, 243) 0px 0px 0.5rem);
  }
}
@media (hover: hover) {
  #control-panel label.icon-button:hover svg {
    z-index: 100;
    filter: drop-shadow(rgb(230, 237, 243) 0px 0px 0.5rem);
  }
}
@media (hover: hover) {
  #control-panel button:hover {
    z-index: 100;
    filter: drop-shadow(rgb(230, 237, 243) 0px 0px 0.5rem);
  }
}
#control-panel #play-button {
  border-color: rgb(230, 237, 243);
  border-width: 2px;
  border-radius: 2.25rem;
  padding-block: calc(1rem - 2px);
  padding-inline: calc(1rem - 2px);
  width: 4.5rem;
  height: 4.5rem;
  margin-top: -1.125rem;
  margin-bottom: -1.125rem;
  background-color: #1F1D25;
}
body.play #control-panel #play-button #play-icon {
  display: none;
}

body:not(.play) #control-panel #play-button #pause-icon {
  display: none;
}

body:not(.play):not(.mousemove).sleeped #media-index,
body:not(.play):not(.mousemove).sleeped #media-title,
body:not(.play):not(.mousemove).sleeped #media-time-frame,
body:not(.play):not(.mousemove).sleeped #control-panel,
body:not(.play):not(.mousemove).sleeped #next-button,
body:not(.play):not(.mousemove).sleeped #back-button,
body:not(.play):not(.mousemove).sleeped #fast-forward-button,
body:not(.play):not(.mousemove).sleeped #rewind-button {
  opacity: 0.2;
}
body:not(.play):not(.mousemove).sleeped #screen-body,
body:not(.play):not(.mousemove).sleeped #screen-footer {
  opacity: 0;
}

#wakeup-progress-circle,
#sleep-progress-circle {
  border-radius: 50%;
  background: conic-gradient(transparent calc(var(--progress) * 360deg), transparent calc(var(--progress) * 360deg), white calc(var(--progress) * 360deg));
  position: absolute;
  border-width: 2px;
  margin: 2px;
  border-color: transparent;
  width: calc(3rem - 4px);
  height: calc(3rem - 4px);
  mix-blend-mode: difference;
  z-index: 50;
}

#wakeup-progress-circle.fading-in {
  border-radius: 50%;
  background: conic-gradient(white calc(var(--progress) * 360deg), white calc(var(--progress) * 360deg), transparent calc(var(--progress) * 360deg));
}

#media-index,
#media-title,
#media-time {
  backdrop-filter: blur(0.5rem);
  color: rgb(230, 237, 243);
  background-color: rgba(32, 28, 38, 0.6);
}
#media-index,
#media-title,
#media-time {
  font-size: 0.75rem;
  font-weight: 400;
}
@media (min-width: 1024px) and (max-width: 1599px) {
  #media-index,
  #media-title,
  #media-time {
    font-size: 0.9rem;
  }
}
@media (min-width: 1600px) {
  #media-index,
  #media-title,
  #media-time {
    font-size: 1rem;
  }
}
#media-index,
#media-title,
#media-time {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Noto Sans", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji";
}
#media-index,
#media-title,
#media-time {
  padding: 0.25rem 0.75rem;
  z-index: 50;
  color: rgb(230, 237, 243);
  border-radius: 1rem;
}
#media-index:empty,
#media-title:empty,
#media-time:empty {
  display: none;
}

#media-index,
#media-title {
  position: fixed;
  top: 0.5rem;
  top: calc(0.5rem + env(safe-area-inset-top));
}

#media-index {
  transition: display 750ms, opacity 750ms, filter 750ms;
  font-size: 0.75rem;
  font-weight: 400;
}
body:not(.play):not(.show-paused-media) #media-index:not(.show) {
  opacity: 0;
  cursor: none;
  pointer-events: none;
  filter: blur(1em);
}
body:not(.play):not(.show-paused-media) #media-index:not(.show)::before {
  content: "";
  position: absolute;
  top: -1em;
  left: -1em;
  right: -1em;
  bottom: -1em;
  background: inherit;
  filter: blur(1em);
  z-index: -1;
  transition: filter 750ms;
}

body:not(.show-ui) #media-index:not(.show) {
  opacity: 0;
  cursor: none;
  pointer-events: none;
  filter: blur(1em);
}
body:not(.show-ui) #media-index:not(.show)::before {
  content: "";
  position: absolute;
  top: -1em;
  left: -1em;
  right: -1em;
  bottom: -1em;
  background: inherit;
  filter: blur(1em);
  z-index: -1;
  transition: filter 750ms;
}

body.show-seek-bar #media-index:not(.show) {
  opacity: 0;
  cursor: none;
  pointer-events: none;
  filter: blur(1em);
}
body.show-seek-bar #media-index:not(.show)::before {
  content: "";
  position: absolute;
  top: -1em;
  left: -1em;
  right: -1em;
  bottom: -1em;
  background: inherit;
  filter: blur(1em);
  z-index: -1;
  transition: filter 750ms;
}

@media (min-width: 1024px) and (max-width: 1599px) {
  #media-index {
    font-size: 0.9rem;
  }
}
@media (min-width: 1600px) {
  #media-index {
    font-size: 1rem;
  }
}
#media-index {
  font-family: "Consolas", "Liberation Mono", "Courier New", monospace;
}
#media-index {
  unicode-bidi: embed;
  direction: ltr;
}
html:not([dir=rtl]) #media-index {
  left: 0.5rem;
  left: calc(0.5rem + env(safe-area-inset-left));
}

html[dir=rtl] #media-index {
  right: 0.5rem;
  right: calc(0.5rem + env(safe-area-inset-left));
}

#media-title {
  transition: display 750ms, opacity 750ms, filter 750ms;
}
body:not(.play):not(.show-paused-media) #media-title:not(.show) {
  opacity: 0;
  cursor: none;
  pointer-events: none;
  filter: blur(1em);
}
body:not(.play):not(.show-paused-media) #media-title:not(.show)::before {
  content: "";
  position: absolute;
  top: -1em;
  left: -1em;
  right: -1em;
  bottom: -1em;
  background: inherit;
  filter: blur(1em);
  z-index: -1;
  transition: filter 750ms;
}

body:not(.show-ui) #media-title:not(.show) {
  opacity: 0;
  cursor: none;
  pointer-events: none;
  filter: blur(1em);
}
body:not(.show-ui) #media-title:not(.show)::before {
  content: "";
  position: absolute;
  top: -1em;
  left: -1em;
  right: -1em;
  bottom: -1em;
  background: inherit;
  filter: blur(1em);
  z-index: -1;
  transition: filter 750ms;
}

body.show-seek-bar #media-title:not(.show) {
  opacity: 0;
  cursor: none;
  pointer-events: none;
  filter: blur(1em);
}
body.show-seek-bar #media-title:not(.show)::before {
  content: "";
  position: absolute;
  top: -1em;
  left: -1em;
  right: -1em;
  bottom: -1em;
  background: inherit;
  filter: blur(1em);
  z-index: -1;
  transition: filter 750ms;
}

#media-title {
  font-size: 0.75rem;
  font-weight: 400;
}
@media (min-width: 1024px) and (max-width: 1599px) {
  #media-title {
    font-size: 0.9rem;
  }
}
@media (min-width: 1600px) {
  #media-title {
    font-size: 1rem;
  }
}
#media-title {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Noto Sans", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji";
}
#media-title {
  left: 50%;
  transform: translate(-50%, 0%);
}

#media-time-frame {
  display: flex;
  flex-direction: row-reverse;
  justify-content: end;
  align-items: center;
}
#media-time-frame {
  position: fixed;
  top: 0.5rem;
  top: calc(0.5rem + env(safe-area-inset-top));
  right: 0.5rem;
  right: calc(0.5rem + env(safe-area-inset-right));
  left: 0.5rem;
  left: calc(0.5rem + env(safe-area-inset-left));
  z-index: 50;
  gap: 0.25rem;
}
#media-time-frame #media-time {
  transition: display 750ms, opacity 750ms, filter 750ms;
  font-size: 0.75rem;
  font-weight: 400;
}
body:not(.play):not(.show-paused-media) #media-time-frame #media-time:not(.show) {
  opacity: 0;
  cursor: none;
  pointer-events: none;
  filter: blur(1em);
}
body:not(.play):not(.show-paused-media) #media-time-frame #media-time:not(.show)::before {
  content: "";
  position: absolute;
  top: -1em;
  left: -1em;
  right: -1em;
  bottom: -1em;
  background: inherit;
  filter: blur(1em);
  z-index: -1;
  transition: filter 750ms;
}

body:not(.show-ui) #media-time-frame #media-time:not(.show) {
  opacity: 0;
  cursor: none;
  pointer-events: none;
  filter: blur(1em);
}
body:not(.show-ui) #media-time-frame #media-time:not(.show)::before {
  content: "";
  position: absolute;
  top: -1em;
  left: -1em;
  right: -1em;
  bottom: -1em;
  background: inherit;
  filter: blur(1em);
  z-index: -1;
  transition: filter 750ms;
}

@media (min-width: 1024px) and (max-width: 1599px) {
  #media-time-frame #media-time {
    font-size: 0.9rem;
  }
}
@media (min-width: 1600px) {
  #media-time-frame #media-time {
    font-size: 1rem;
  }
}
#media-time-frame #media-time {
  font-family: "Consolas", "Liberation Mono", "Courier New", monospace;
}
#media-time-frame #media-time {
  border-style: solid;
  border-width: 0px;
  border-color: rgb(230, 237, 243);
  cursor: pointer;
  unicode-bidi: embed;
  direction: ltr;
}
#media-time-frame #seek-panel {
  transition: display 750ms, opacity 750ms, filter 750ms;
  backdrop-filter: blur(0.5rem);
  color: rgb(230, 237, 243);
  background-color: rgba(32, 28, 38, 0.6);
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: stretch;
}
body:not(.play):not(.show-paused-media) #media-time-frame #seek-panel:not(.show) {
  opacity: 0;
  cursor: none;
  pointer-events: none;
  filter: blur(1em);
}
body:not(.play):not(.show-paused-media) #media-time-frame #seek-panel:not(.show)::before {
  content: "";
  position: absolute;
  top: -1em;
  left: -1em;
  right: -1em;
  bottom: -1em;
  background: inherit;
  filter: blur(1em);
  z-index: -1;
  transition: filter 750ms;
}

body:not(.show-ui) #media-time-frame #seek-panel:not(.show) {
  opacity: 0;
  cursor: none;
  pointer-events: none;
  filter: blur(1em);
}
body:not(.show-ui) #media-time-frame #seek-panel:not(.show)::before {
  content: "";
  position: absolute;
  top: -1em;
  left: -1em;
  right: -1em;
  bottom: -1em;
  background: inherit;
  filter: blur(1em);
  z-index: -1;
  transition: filter 750ms;
}

body:not(.show-seek-bar) #media-time-frame #seek-panel:not(.show) {
  opacity: 0;
  cursor: none;
  pointer-events: none;
  filter: blur(1em);
}
body:not(.show-seek-bar) #media-time-frame #seek-panel:not(.show)::before {
  content: "";
  position: absolute;
  top: -1em;
  left: -1em;
  right: -1em;
  bottom: -1em;
  background: inherit;
  filter: blur(1em);
  z-index: -1;
  transition: filter 750ms;
}

#media-time-frame #seek-panel {
  transition: transform 500ms, opacity 500ms, filter 500ms;
  border-radius: 1rem;
  z-index: 60;
  padding: 0.25rem 0.5rem;
  line-height: 0rem;
  flex-grow: 1;
}

body:not(.play):not(.show-paused-media) #media-time-frame,
body:not(.show-ui) #media-time-frame {
  pointer-events: none;
}

body.show-seek-bar #media-time-frame #media-time {
  border-width: 1px;
}

@media (max-width: 480px) {
  #media-index {
    display: none;
  }
  body:not(.show-seek-bar) #media-time-frame {
    display: none;
  }
}
#next-button, #back-button {
  transition: display 750ms, opacity 750ms, filter 750ms;
  backdrop-filter: blur(0.5rem);
  color: rgb(230, 237, 243);
  background-color: rgba(32, 28, 38, 0.6);
}
body:not(.play):not(.show-paused-media) #next-button:not(.show), body:not(.play):not(.show-paused-media) #back-button:not(.show) {
  opacity: 0;
  cursor: none;
  pointer-events: none;
  filter: blur(1em);
}
body:not(.play):not(.show-paused-media) #next-button:not(.show)::before, body:not(.play):not(.show-paused-media) #back-button:not(.show)::before {
  content: "";
  position: absolute;
  top: -1em;
  left: -1em;
  right: -1em;
  bottom: -1em;
  background: inherit;
  filter: blur(1em);
  z-index: -1;
  transition: filter 750ms;
}

body:not(.show-ui) #next-button:not(.show), body:not(.show-ui) #back-button:not(.show) {
  opacity: 0;
  cursor: none;
  pointer-events: none;
  filter: blur(1em);
}
body:not(.show-ui) #next-button:not(.show)::before, body:not(.show-ui) #back-button:not(.show)::before {
  content: "";
  position: absolute;
  top: -1em;
  left: -1em;
  right: -1em;
  bottom: -1em;
  background: inherit;
  filter: blur(1em);
  z-index: -1;
  transition: filter 750ms;
}

#next-button, #back-button {
  position: fixed;
  inset-block-start: 50%;
  transform: translate(0%, -50%);
  z-index: 50;
  border-style: solid;
  border-width: 0px;
  border-color: rgb(230, 237, 243);
  border-radius: 3rem;
  padding-block: 0.75rem;
  padding-inline: 0.75rem;
  transition: opacity 1500ms, filter 125ms;
  width: 8rem;
  height: 3rem;
  background-color: rgba(32, 28, 38, 0.6);
}
#next-button:active, #back-button:active {
  border-width: 1px;
}
#next-button svg, #back-button svg {
  color: rgb(230, 237, 243);
  fill: rgb(230, 237, 243);
  width: 1.5rem;
  height: 1.5rem;
}
@media (hover: hover) {
  #next-button:hover, #back-button:hover {
    z-index: 100;
    filter: drop-shadow(rgb(230, 237, 243) 0px 0px 0.5rem);
  }
}

#back-button {
  display: flex;
  flex-direction: column;
  align-items: end;
  justify-content: center;
}
html:not([dir=rtl]) #back-button {
  left: -5.75rem;
  left: calc(-5.75rem + env(safe-area-inset-left));
  padding-left: 6rem;
}

html[dir=rtl] #back-button {
  right: -5.75rem;
  right: calc(-5.75rem + env(safe-area-inset-right));
  padding-right: 6rem;
}

#next-button {
  display: flex;
  flex-direction: column;
  align-items: start;
  justify-content: center;
}
html:not([dir=rtl]) #next-button {
  right: -5.75rem;
  right: calc(-5.75rem + env(safe-area-inset-right));
  padding-right: 6rem;
}

html[dir=rtl] #next-button {
  left: -5.75rem;
  left: calc(-5.75rem + env(safe-area-inset-left));
  padding-left: 6rem;
}

body.no-media #next-button, body.no-media #back-button {
  opacity: 0.3;
}

#fast-forward-button, #rewind-button {
  transition: display 750ms, opacity 750ms, filter 750ms;
  backdrop-filter: blur(0.5rem);
  color: rgb(230, 237, 243);
  background-color: rgba(32, 28, 38, 0.6);
  backdrop-filter: blur(0.5rem);
  color: rgb(230, 237, 243);
  background-color: rgba(32, 28, 38, 0.6);
}
body:not(.play):not(.show-paused-media) #fast-forward-button:not(.show), body:not(.play):not(.show-paused-media) #rewind-button:not(.show) {
  opacity: 0;
  cursor: none;
  pointer-events: none;
  filter: blur(1em);
}
body:not(.play):not(.show-paused-media) #fast-forward-button:not(.show)::before, body:not(.play):not(.show-paused-media) #rewind-button:not(.show)::before {
  content: "";
  position: absolute;
  top: -1em;
  left: -1em;
  right: -1em;
  bottom: -1em;
  background: inherit;
  filter: blur(1em);
  z-index: -1;
  transition: filter 750ms;
}

body:not(.show-ui) #fast-forward-button:not(.show), body:not(.show-ui) #rewind-button:not(.show) {
  opacity: 0;
  cursor: none;
  pointer-events: none;
  filter: blur(1em);
}
body:not(.show-ui) #fast-forward-button:not(.show)::before, body:not(.show-ui) #rewind-button:not(.show)::before {
  content: "";
  position: absolute;
  top: -1em;
  left: -1em;
  right: -1em;
  bottom: -1em;
  background: inherit;
  filter: blur(1em);
  z-index: -1;
  transition: filter 750ms;
}

#fast-forward-button, #rewind-button {
  position: fixed;
  bottom: 1.75rem;
  bottom: calc(1.75rem + env(safe-area-inset-bottom));
  z-index: 50;
  border-style: solid;
  border-width: 0px;
  border-color: rgb(230, 237, 243);
  border-radius: 1.5rem;
  padding-block: 0.75rem;
  padding-inline: 0.75rem;
  transition: opacity 750ms, filter 125ms;
  width: 3rem;
  height: 3rem;
  background-color: rgba(32, 28, 38, 0.6);
}
#fast-forward-button:active, #rewind-button:active {
  border-width: 1px;
}
#fast-forward-button svg, #rewind-button svg {
  color: rgb(230, 237, 243);
  fill: rgb(230, 237, 243);
  width: 100%;
  height: 100%;
}
@media (hover: hover) {
  #fast-forward-button:hover, #rewind-button:hover {
    z-index: 100;
    filter: drop-shadow(rgb(230, 237, 243) 0px 0px 0.5rem);
  }
}

#rewind-button {
  display: flex;
  flex-direction: column;
  justify-content: center;
}
html:not([dir=rtl]) #rewind-button {
  left: 1.75rem;
  left: calc(1.75rem + env(safe-area-inset-left));
  align-items: end;
}

html[dir=rtl] #rewind-button {
  right: 1.75rem;
  right: calc(1.75rem + env(safe-area-inset-right));
  align-items: start;
}

#fast-forward-button {
  display: flex;
  flex-direction: column;
  justify-content: center;
}
html:not([dir=rtl]) #fast-forward-button {
  right: 1.75rem;
  right: calc(1.75rem + env(safe-area-inset-right));
  align-items: start;
}

html[dir=rtl] #fast-forward-button {
  left: 1.75rem;
  left: calc(1.75rem + env(safe-area-inset-left));
  align-items: end;
}

body.no-media #fast-forward-button,
body.no-media #rewind-button {
  opacity: 0.3;
}

@media (max-width: 480px) {
  #fast-forward-button,
  #rewind-button {
    display: none;
  }
}
#wakeup-panel {
  transition: display 750ms, opacity 750ms, filter 750ms;
  transition: transform 500ms;
}
body label[for=wakeup-button]:not(.checked) + #wakeup-panel:not(.show) {
  opacity: 0;
  cursor: none;
  pointer-events: none;
  filter: blur(1em);
}
body label[for=wakeup-button]:not(.checked) + #wakeup-panel:not(.show)::before {
  content: "";
  position: absolute;
  top: -1em;
  left: -1em;
  right: -1em;
  bottom: -1em;
  background: inherit;
  filter: blur(1em);
  z-index: -1;
  transition: filter 750ms;
}
body label[for=wakeup-button]:not(.checked) + #wakeup-panel:not(.show) {
  transform: translate(0px, 100%);
}
#wakeup-panel {
  transition: transform 500ms, opacity 500ms, filter 500ms;
  border-radius: 0.5rem;
  inset-block-end: 4.5rem;
  inset-inline-start: calc(50% - 12.5rem);
  backdrop-filter: blur(0.5rem);
  position: fixed;
  z-index: 60;
  padding: 0.25rem 0.5rem;
  gap: 0.25rem;
}
@media (max-width: 540px) {
  #wakeup-panel {
    inset-block-end: 7rem;
    inset-inline-start: calc(50% - 9.5rem);
  }
}

label[for=wakeup-button].tip {
  transition: display 750ms, opacity 750ms, filter 750ms;
  transition: transform 500ms;
}
label[for=wakeup-button].tip:empty:not(.show) {
  opacity: 0;
  cursor: none;
  pointer-events: none;
  filter: blur(1em);
}
label[for=wakeup-button].tip:empty:not(.show)::before {
  content: "";
  position: absolute;
  top: -1em;
  left: -1em;
  right: -1em;
  bottom: -1em;
  background: inherit;
  filter: blur(1em);
  z-index: -1;
  transition: filter 750ms;
}
label[for=wakeup-button].tip:empty:not(.show) {
  transform: translate(0px, 100%);
}
@media (max-width: 719.99px) {
  label[for=wakeup-button].tip {
    transition: display 750ms, opacity 750ms, filter 750ms;
    transition: transform 500ms;
  }
  body #wakeup-button:checked + div + label[for=wakeup-button].tip:not(.show) {
    opacity: 0;
    cursor: none;
    pointer-events: none;
    filter: blur(1em);
  }
  body #wakeup-button:checked + div + label[for=wakeup-button].tip:not(.show)::before {
    content: "";
    position: absolute;
    top: -1em;
    left: -1em;
    right: -1em;
    bottom: -1em;
    background: inherit;
    filter: blur(1em);
    z-index: -1;
    transition: filter 750ms;
  }
  body #wakeup-button:checked + div + label[for=wakeup-button].tip:not(.show) {
    transform: translate(0px, 100%);
  }
}
label[for=wakeup-button].tip {
  transition: transform 500ms, opacity 500ms, filter 500ms;
  inset-block-end: 4.5rem;
  inset-inline-start: calc(50% - 12rem);
  position: fixed;
  z-index: 30;
}
@media (max-width: 540px) {
  label[for=wakeup-button].tip {
    inset-block-end: 7rem;
    inset-inline-start: calc(50% - 9rem);
  }
}
@media (min-width: 720px) {
  label[for=wakeup-button].tip {
    inset-block-end: 0.9rem;
    inset-inline-start: initial;
    inset-inline-end: calc(50% + 12.5rem);
  }
}

#no-media {
  transition: display 750ms, opacity 750ms, filter 750ms;
  transition: transform 500ms;
}
#no-media.hide:not(.show) {
  opacity: 0;
  cursor: none;
  pointer-events: none;
  filter: blur(1em);
}
#no-media.hide:not(.show)::before {
  content: "";
  position: absolute;
  top: -1em;
  left: -1em;
  right: -1em;
  bottom: -1em;
  background: inherit;
  filter: blur(1em);
  z-index: -1;
  transition: filter 750ms;
}
#no-media.hide:not(.show) {
  transform: translate(0px, 100%);
}
#no-media {
  transition: transform 500ms, opacity 500ms, filter 500ms, inset-block-end 500ms;
  inset-block-end: 6.25rem;
  inset-inline-start: calc(50% - 12rem);
  position: fixed;
  z-index: 30;
  color: red;
}
@media (max-width: 540px) {
  #no-media {
    inset-block-end: 8.75rem;
    inset-inline-start: calc(50% - 9rem);
  }
}
@media (min-width: 720px) {
  #no-media {
    inset-block-end: 4.5rem;
  }
}

label[for=volume-button]:not(.volume-mute) #speaker-mute-icon {
  display: none;
}
label[for=volume-button]:not(.volume-0) #speaker-0-icon {
  display: none;
}
label[for=volume-button]:not(.volume-1) #speaker-1-icon {
  display: none;
}
label[for=volume-button]:not(.volume-2) #speaker-2-icon {
  display: none;
}
label[for=volume-button]:not(.volume-3) #speaker-3-icon {
  display: none;
}
label[for=volume-button] #speaker-mute-icon svg {
  fill: red;
}

#volume-panel {
  transition: display 750ms, opacity 750ms, filter 750ms;
  backdrop-filter: blur(0.5rem);
  color: rgb(230, 237, 243);
  background-color: rgba(32, 28, 38, 0.6);
}
body label[for=volume-button]:not(.checked) + #volume-panel:not(.show) {
  opacity: 0;
  cursor: none;
  pointer-events: none;
  filter: blur(1em);
}
body label[for=volume-button]:not(.checked) + #volume-panel:not(.show)::before {
  content: "";
  position: absolute;
  top: -1em;
  left: -1em;
  right: -1em;
  bottom: -1em;
  background: inherit;
  filter: blur(1em);
  z-index: -1;
  transition: filter 750ms;
}
#volume-panel {
  transition: transform 500ms, opacity 500ms, filter 500ms;
  border-radius: 0.5rem;
  inset-block-end: 7.5rem;
  inset-inline-end: calc(50% - 8.625rem);
  position: fixed;
  z-index: 60;
  padding: 0.5rem;
  background-color: rgba(32, 28, 38, 0.9);
  transform: rotate(-90deg);
  line-height: 0rem;
}
html[dir=rtl] #volume-panel {
  transform: rotate(90deg);
}

#settings-panel {
  transition: display 750ms, opacity 750ms, filter 750ms;
  transition: transform 500ms;
}
body label[for=settings-button]:not(.checked) + #settings-panel:not(.show) {
  opacity: 0;
  cursor: none;
  pointer-events: none;
  filter: blur(1em);
}
body label[for=settings-button]:not(.checked) + #settings-panel:not(.show)::before {
  content: "";
  position: absolute;
  top: -1em;
  left: -1em;
  right: -1em;
  bottom: -1em;
  background: inherit;
  filter: blur(1em);
  z-index: -1;
  transition: filter 750ms;
}
body label[for=settings-button]:not(.checked) + #settings-panel:not(.show) {
  transform: translate(0px, 100%);
}
#settings-panel {
  transition: transform 500ms, opacity 500ms, filter 500ms;
  border-radius: 0.5rem;
  inset-block-end: 4.5rem;
  left: 50%;
  translate: -50% 0%;
  max-height: calc(100vh - 6.5rem);
  max-height: calc(100vh - (6.5rem + env(safe-area-inset-top) + env(safe-area-inset-bottom)));
  max-height: calc(100dvh - (6.5rem + env(safe-area-inset-top) + env(safe-area-inset-bottom)));
  overflow-y: auto;
  backdrop-filter: blur(0.5rem);
  position: fixed;
  z-index: 60;
  padding: 0.25rem 0.5rem;
  gap: 0.25rem;
}

#sleep-panel {
  transition: display 750ms, opacity 750ms, filter 750ms;
  transition: transform 500ms;
}
body label[for=sleep-button]:not(.checked) + #sleep-panel:not(.show) {
  opacity: 0;
  cursor: none;
  pointer-events: none;
  filter: blur(1em);
}
body label[for=sleep-button]:not(.checked) + #sleep-panel:not(.show)::before {
  content: "";
  position: absolute;
  top: -1em;
  left: -1em;
  right: -1em;
  bottom: -1em;
  background: inherit;
  filter: blur(1em);
  z-index: -1;
  transition: filter 750ms;
}
body label[for=sleep-button]:not(.checked) + #sleep-panel:not(.show) {
  transform: translate(0px, 100%);
}
#sleep-panel {
  transition: transform 500ms, opacity 500ms, filter 500ms;
  border-radius: 0.5rem;
  inset-block-end: 4.5rem;
  inset-inline-end: calc(50% - 12.5rem);
  backdrop-filter: blur(0.5rem);
  position: fixed;
  z-index: 60;
  padding: 0.25rem 0.5rem;
  gap: 0.25rem;
}
@media (max-width: 540px) {
  #sleep-panel {
    inset-block-end: 7rem;
    inset-inline-end: calc(50% - 9.5rem);
  }
}

label[for=sleep-button].tip {
  transition: display 750ms, opacity 750ms, filter 750ms;
  transition: transform 500ms;
}
label[for=sleep-button].tip:empty:not(.show) {
  opacity: 0;
  cursor: none;
  pointer-events: none;
  filter: blur(1em);
}
label[for=sleep-button].tip:empty:not(.show)::before {
  content: "";
  position: absolute;
  top: -1em;
  left: -1em;
  right: -1em;
  bottom: -1em;
  background: inherit;
  filter: blur(1em);
  z-index: -1;
  transition: filter 750ms;
}
label[for=sleep-button].tip:empty:not(.show) {
  transform: translate(0px, 100%);
}
@media (max-width: 719.99px) {
  label[for=sleep-button].tip {
    transition: display 750ms, opacity 750ms, filter 750ms;
    transition: transform 500ms;
  }
  body #sleep-button:checked + div + label[for=sleep-button].tip:not(.show) {
    opacity: 0;
    cursor: none;
    pointer-events: none;
    filter: blur(1em);
  }
  body #sleep-button:checked + div + label[for=sleep-button].tip:not(.show)::before {
    content: "";
    position: absolute;
    top: -1em;
    left: -1em;
    right: -1em;
    bottom: -1em;
    background: inherit;
    filter: blur(1em);
    z-index: -1;
    transition: filter 750ms;
  }
  body #sleep-button:checked + div + label[for=sleep-button].tip:not(.show) {
    transform: translate(0px, 100%);
  }
}
label[for=sleep-button].tip {
  transition: transform 500ms, opacity 500ms, filter 500ms;
  inset-block-end: 4.5rem;
  inset-inline-end: calc(50% - 12rem);
  position: fixed;
  z-index: 30;
}
@media (max-width: 540px) {
  label[for=sleep-button].tip {
    inset-block-end: 7rem;
    inset-inline-end: calc(50% - 9rem);
  }
}
@media (min-width: 720px) {
  label[for=sleep-button].tip {
    inset-block-end: 0.9rem;
    inset-inline-start: calc(50% + 12.5rem);
    inset-inline-end: initial;
  }
}

#no-repeat {
  transition: display 750ms, opacity 750ms, filter 750ms;
  transition: transform 500ms;
}
#no-repeat.hide:not(.show) {
  opacity: 0;
  cursor: none;
  pointer-events: none;
  filter: blur(1em);
}
#no-repeat.hide:not(.show)::before {
  content: "";
  position: absolute;
  top: -1em;
  left: -1em;
  right: -1em;
  bottom: -1em;
  background: inherit;
  filter: blur(1em);
  z-index: -1;
  transition: filter 750ms;
}
#no-repeat.hide:not(.show) {
  transform: translate(0px, 100%);
}
#no-repeat {
  transition: transform 500ms, opacity 500ms, filter 500ms, inset-block-end 500ms;
  inset-block-end: 6.25rem;
  inset-inline-end: calc(50% - 12rem);
  position: fixed;
  z-index: 30;
  color: orange;
}
@media (max-width: 540px) {
  #no-repeat {
    inset-block-end: 8.75rem;
    inset-inline-end: calc(50% - 9rem);
  }
}
@media (min-width: 720px) {
  #no-repeat {
    inset-block-end: 4.5rem;
  }
}

label:not(.icon-button) {
  backdrop-filter: blur(0.5rem);
  color: rgb(230, 237, 243);
  background-color: rgba(32, 28, 38, 0.6);
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;
}
label:not(.icon-button) {
  font-size: 0.75rem;
  font-weight: 400;
}
@media (min-width: 1024px) and (max-width: 1599px) {
  label:not(.icon-button) {
    font-size: 0.9rem;
  }
}
@media (min-width: 1600px) {
  label:not(.icon-button) {
    font-size: 1rem;
  }
}
label:not(.icon-button) {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Noto Sans", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji";
}
label:not(.icon-button) {
  position: relative;
  cursor: pointer;
  padding-block: 0.125rem;
  padding-inline: 0.5rem;
  margin-block-end: 1px;
  background-color: rgba(32, 28, 38, 0.8);
  border-radius: 0.25rem;
  height: 1.5rem;
  flex-grow: 1;
  white-space: nowrap;
}
label:not(.icon-button).information {
  background-color: rgba(230, 237, 243, 0.8);
  color: rgba(32, 28, 38, 0.9);
  cursor: default;
  pointer-events: none;
}
@media (hover: hover) {
  label:not(.icon-button):hover {
    background-color: rgba(32, 28, 38, 0.95);
  }
}
label:not(.icon-button) * {
  user-select: none;
  cursor: pointer;
}
label:not(.icon-button) .value-text {
  font-size: 0.75rem;
  font-weight: 400;
}
@media (min-width: 1024px) and (max-width: 1599px) {
  label:not(.icon-button) .value-text {
    font-size: 0.9rem;
  }
}
@media (min-width: 1600px) {
  label:not(.icon-button) .value-text {
    font-size: 1rem;
  }
}
label:not(.icon-button) .value-text {
  font-family: "Consolas", "Liberation Mono", "Courier New", monospace;
}
label:not(.icon-button) .value-text {
  text-align: end;
  width: 100%;
  padding-inline: 0.5rem;
}
label:not(.icon-button) input {
  font-size: 0.75rem;
  font-weight: 400;
}
@media (min-width: 1024px) and (max-width: 1599px) {
  label:not(.icon-button) input {
    font-size: 0.9rem;
  }
}
@media (min-width: 1600px) {
  label:not(.icon-button) input {
    font-size: 1rem;
  }
}
label:not(.icon-button) input {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Noto Sans", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji";
}
label:not(.icon-button) input {
  margin: 0.5rem;
  padding: 0px;
}
label:not(.icon-button) select {
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
}
label:not(.icon-button) select {
  font-size: 0.75rem;
  font-weight: 400;
}
@media (min-width: 1024px) and (max-width: 1599px) {
  label:not(.icon-button) select {
    font-size: 0.9rem;
  }
}
@media (min-width: 1600px) {
  label:not(.icon-button) select {
    font-size: 1rem;
  }
}
label:not(.icon-button) select {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Noto Sans", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji";
}
label:not(.icon-button) select {
  color: rgb(230, 237, 243);
  background-color: transparent;
  border: none;
  border-radius: 0.5rem;
  padding-block: 0.25rem;
  padding-inline: 0.25rem;
  text-align: end;
  text-align-last: end;
}
label:not(.icon-button) select option {
  background-color: rgb(32, 28, 38);
  text-align: end;
}
label:not(.icon-button).link-label:not(:hover) {
  background-color: rgba(32, 28, 38, 0.4);
}
label:not(.icon-button).link-label:not(:hover) a {
  width: 100%;
}

#overlay-panel {
  transition: display 750ms, opacity 750ms, filter 750ms;
}
body:not(.play) #overlay-panel:not(.show) {
  opacity: 0;
  cursor: none;
  pointer-events: none;
  filter: blur(1em);
}
body:not(.play) #overlay-panel:not(.show)::before {
  content: "";
  position: absolute;
  top: -1em;
  left: -1em;
  right: -1em;
  bottom: -1em;
  background: inherit;
  filter: blur(1em);
  z-index: -1;
  transition: filter 750ms;
}

#overlay-panel.hide:not(.show) {
  opacity: 0;
  cursor: none;
  pointer-events: none;
  filter: blur(1em);
}
#overlay-panel.hide:not(.show)::before {
  content: "";
  position: absolute;
  top: -1em;
  left: -1em;
  right: -1em;
  bottom: -1em;
  background: inherit;
  filter: blur(1em);
  z-index: -1;
  transition: filter 750ms;
}
#overlay-panel {
  position: fixed;
  user-select: none;
  pointer-events: none;
}
#overlay-panel.center {
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}
#overlay-panel.top-left, #overlay-panel.top-right {
  top: calc(2 * var(--short-side));
  top: calc(2 * var(--short-side) + env(safe-area-inset-top));
}
#overlay-panel.top-right, #overlay-panel.bottom-right {
  right: calc(2 * var(--short-side));
  right: calc(2 * var(--short-side) + env(safe-area-inset-right));
}
#overlay-panel.top-left, #overlay-panel.bottom-left {
  left: calc(2 * var(--short-side));
  left: calc(2 * var(--short-side) + env(safe-area-inset-left));
}
#overlay-panel.bottom-right, #overlay-panel.bottom-left {
  bottom: calc(2 * var(--short-side));
  bottom: calc(2 * var(--short-side) + env(safe-area-inset-bottom));
}
#overlay-panel span,
#overlay-panel time {
  display: block;
  text-align: center;
  transition: color 3000ms, text-shadow 3000ms;
}
#overlay-panel.blend {
  mix-blend-mode: difference;
}
#overlay-panel.blend span,
#overlay-panel.blend time {
  color: white;
}
#overlay-panel.white span,
#overlay-panel.white time {
  text-shadow: -0.5px -0.5px 0px black, 0.5px -0.5px 0px black, -0.5px 0.5px 0px black, 0.5px 0.5px 0px black;
}
@media (min-width: 750px) {
  #overlay-panel.white span,
  #overlay-panel.white time {
    text-shadow: -1px -1px 0px black, 1px -1px 0px black, -1px 1px 0px black, 1px 1px 0px black;
  }
}
@media (min-width: 1500px) {
  #overlay-panel.white span,
  #overlay-panel.white time {
    text-shadow: -1.5px -1.5px 0px black, 1.5px -1.5px 0px black, -1.5px 1.5px 0px black, 1.5px 1.5px 0px black;
  }
}
@media (min-width: 3000px) {
  #overlay-panel.white span,
  #overlay-panel.white time {
    text-shadow: -2px -2px 0px black, 2px -2px 0px black, -2px 2px 0px black, 2px 2px 0px black;
  }
}
@media (min-width: 4500px) {
  #overlay-panel.white span,
  #overlay-panel.white time {
    text-shadow: -2.5px -2.5px 0px black, 2.5px -2.5px 0px black, -2.5px 2.5px 0px black, 2.5px 2.5px 0px black;
  }
}
@media (min-width: 6000px) {
  #overlay-panel.white span,
  #overlay-panel.white time {
    text-shadow: -3px -3px 0px black, 3px -3px 0px black, -3px 3px 0px black, 3px 3px 0px black;
  }
}
@media (min-width: 7500px) {
  #overlay-panel.white span,
  #overlay-panel.white time {
    text-shadow: -3.5px -3.5px 0px black, 3.5px -3.5px 0px black, -3.5px 3.5px 0px black, 3.5px 3.5px 0px black;
  }
}
@media (min-width: 9000px) {
  #overlay-panel.white span,
  #overlay-panel.white time {
    text-shadow: -4px -4px 0px black, 4px -4px 0px black, -4px 4px 0px black, 4px 4px 0px black;
  }
}
#overlay-panel.white span,
#overlay-panel.white time {
  color: white;
}
#overlay-panel.black span,
#overlay-panel.black time {
  text-shadow: -0.5px -0.5px 0px white, 0.5px -0.5px 0px white, -0.5px 0.5px 0px white, 0.5px 0.5px 0px white;
}
@media (min-width: 750px) {
  #overlay-panel.black span,
  #overlay-panel.black time {
    text-shadow: -1px -1px 0px white, 1px -1px 0px white, -1px 1px 0px white, 1px 1px 0px white;
  }
}
@media (min-width: 1500px) {
  #overlay-panel.black span,
  #overlay-panel.black time {
    text-shadow: -1.5px -1.5px 0px white, 1.5px -1.5px 0px white, -1.5px 1.5px 0px white, 1.5px 1.5px 0px white;
  }
}
@media (min-width: 3000px) {
  #overlay-panel.black span,
  #overlay-panel.black time {
    text-shadow: -2px -2px 0px white, 2px -2px 0px white, -2px 2px 0px white, 2px 2px 0px white;
  }
}
@media (min-width: 4500px) {
  #overlay-panel.black span,
  #overlay-panel.black time {
    text-shadow: -2.5px -2.5px 0px white, 2.5px -2.5px 0px white, -2.5px 2.5px 0px white, 2.5px 2.5px 0px white;
  }
}
@media (min-width: 6000px) {
  #overlay-panel.black span,
  #overlay-panel.black time {
    text-shadow: -3px -3px 0px white, 3px -3px 0px white, -3px 3px 0px white, 3px 3px 0px white;
  }
}
@media (min-width: 7500px) {
  #overlay-panel.black span,
  #overlay-panel.black time {
    text-shadow: -3.5px -3.5px 0px white, 3.5px -3.5px 0px white, -3.5px 3.5px 0px white, 3.5px 3.5px 0px white;
  }
}
@media (min-width: 9000px) {
  #overlay-panel.black span,
  #overlay-panel.black time {
    text-shadow: -4px -4px 0px white, 4px -4px 0px white, -4px 4px 0px white, 4px 4px 0px white;
  }
}
#overlay-panel.black span,
#overlay-panel.black time {
  color: black;
}
@media (prefers-color-scheme: light) {
  #overlay-panel.system span,
  #overlay-panel.system time {
    text-shadow: -0.5px -0.5px 0px black, 0.5px -0.5px 0px black, -0.5px 0.5px 0px black, 0.5px 0.5px 0px black;
  }
}
@media (prefers-color-scheme: light) and (min-width: 750px) {
  #overlay-panel.system span,
  #overlay-panel.system time {
    text-shadow: -1px -1px 0px black, 1px -1px 0px black, -1px 1px 0px black, 1px 1px 0px black;
  }
}
@media (prefers-color-scheme: light) and (min-width: 1500px) {
  #overlay-panel.system span,
  #overlay-panel.system time {
    text-shadow: -1.5px -1.5px 0px black, 1.5px -1.5px 0px black, -1.5px 1.5px 0px black, 1.5px 1.5px 0px black;
  }
}
@media (prefers-color-scheme: light) and (min-width: 3000px) {
  #overlay-panel.system span,
  #overlay-panel.system time {
    text-shadow: -2px -2px 0px black, 2px -2px 0px black, -2px 2px 0px black, 2px 2px 0px black;
  }
}
@media (prefers-color-scheme: light) and (min-width: 4500px) {
  #overlay-panel.system span,
  #overlay-panel.system time {
    text-shadow: -2.5px -2.5px 0px black, 2.5px -2.5px 0px black, -2.5px 2.5px 0px black, 2.5px 2.5px 0px black;
  }
}
@media (prefers-color-scheme: light) and (min-width: 6000px) {
  #overlay-panel.system span,
  #overlay-panel.system time {
    text-shadow: -3px -3px 0px black, 3px -3px 0px black, -3px 3px 0px black, 3px 3px 0px black;
  }
}
@media (prefers-color-scheme: light) and (min-width: 7500px) {
  #overlay-panel.system span,
  #overlay-panel.system time {
    text-shadow: -3.5px -3.5px 0px black, 3.5px -3.5px 0px black, -3.5px 3.5px 0px black, 3.5px 3.5px 0px black;
  }
}
@media (prefers-color-scheme: light) and (min-width: 9000px) {
  #overlay-panel.system span,
  #overlay-panel.system time {
    text-shadow: -4px -4px 0px black, 4px -4px 0px black, -4px 4px 0px black, 4px 4px 0px black;
  }
}
@media (prefers-color-scheme: light) {
  #overlay-panel.system span,
  #overlay-panel.system time {
    color: white;
  }
}
@media (prefers-color-scheme: dark) {
  #overlay-panel.system span,
  #overlay-panel.system time {
    text-shadow: -0.5px -0.5px 0px white, 0.5px -0.5px 0px white, -0.5px 0.5px 0px white, 0.5px 0.5px 0px white;
  }
}
@media (prefers-color-scheme: dark) and (min-width: 750px) {
  #overlay-panel.system span,
  #overlay-panel.system time {
    text-shadow: -1px -1px 0px white, 1px -1px 0px white, -1px 1px 0px white, 1px 1px 0px white;
  }
}
@media (prefers-color-scheme: dark) and (min-width: 1500px) {
  #overlay-panel.system span,
  #overlay-panel.system time {
    text-shadow: -1.5px -1.5px 0px white, 1.5px -1.5px 0px white, -1.5px 1.5px 0px white, 1.5px 1.5px 0px white;
  }
}
@media (prefers-color-scheme: dark) and (min-width: 3000px) {
  #overlay-panel.system span,
  #overlay-panel.system time {
    text-shadow: -2px -2px 0px white, 2px -2px 0px white, -2px 2px 0px white, 2px 2px 0px white;
  }
}
@media (prefers-color-scheme: dark) and (min-width: 4500px) {
  #overlay-panel.system span,
  #overlay-panel.system time {
    text-shadow: -2.5px -2.5px 0px white, 2.5px -2.5px 0px white, -2.5px 2.5px 0px white, 2.5px 2.5px 0px white;
  }
}
@media (prefers-color-scheme: dark) and (min-width: 6000px) {
  #overlay-panel.system span,
  #overlay-panel.system time {
    text-shadow: -3px -3px 0px white, 3px -3px 0px white, -3px 3px 0px white, 3px 3px 0px white;
  }
}
@media (prefers-color-scheme: dark) and (min-width: 7500px) {
  #overlay-panel.system span,
  #overlay-panel.system time {
    text-shadow: -3.5px -3.5px 0px white, 3.5px -3.5px 0px white, -3.5px 3.5px 0px white, 3.5px 3.5px 0px white;
  }
}
@media (prefers-color-scheme: dark) and (min-width: 9000px) {
  #overlay-panel.system span,
  #overlay-panel.system time {
    text-shadow: -4px -4px 0px white, 4px -4px 0px white, -4px 4px 0px white, 4px 4px 0px white;
  }
}
@media (prefers-color-scheme: dark) {
  #overlay-panel.system span,
  #overlay-panel.system time {
    color: black;
  }
}
#overlay-panel.rainbow span,
#overlay-panel.rainbow time {
  text-shadow: -0.5px -0.5px 0px black, 0.5px -0.5px 0px black, -0.5px 0.5px 0px black, 0.5px 0.5px 0px black;
}
@media (min-width: 750px) {
  #overlay-panel.rainbow span,
  #overlay-panel.rainbow time {
    text-shadow: -1px -1px 0px black, 1px -1px 0px black, -1px 1px 0px black, 1px 1px 0px black;
  }
}
@media (min-width: 1500px) {
  #overlay-panel.rainbow span,
  #overlay-panel.rainbow time {
    text-shadow: -1.5px -1.5px 0px black, 1.5px -1.5px 0px black, -1.5px 1.5px 0px black, 1.5px 1.5px 0px black;
  }
}
@media (min-width: 3000px) {
  #overlay-panel.rainbow span,
  #overlay-panel.rainbow time {
    text-shadow: -2px -2px 0px black, 2px -2px 0px black, -2px 2px 0px black, 2px 2px 0px black;
  }
}
@media (min-width: 4500px) {
  #overlay-panel.rainbow span,
  #overlay-panel.rainbow time {
    text-shadow: -2.5px -2.5px 0px black, 2.5px -2.5px 0px black, -2.5px 2.5px 0px black, 2.5px 2.5px 0px black;
  }
}
@media (min-width: 6000px) {
  #overlay-panel.rainbow span,
  #overlay-panel.rainbow time {
    text-shadow: -3px -3px 0px black, 3px -3px 0px black, -3px 3px 0px black, 3px 3px 0px black;
  }
}
@media (min-width: 7500px) {
  #overlay-panel.rainbow span,
  #overlay-panel.rainbow time {
    text-shadow: -3.5px -3.5px 0px black, 3.5px -3.5px 0px black, -3.5px 3.5px 0px black, 3.5px 3.5px 0px black;
  }
}
@media (min-width: 9000px) {
  #overlay-panel.rainbow span,
  #overlay-panel.rainbow time {
    text-shadow: -4px -4px 0px black, 4px -4px 0px black, -4px 4px 0px black, 4px 4px 0px black;
  }
}
#overlay-panel.rainbow span,
#overlay-panel.rainbow time {
  transition: color 300ms, text-shadow 3000ms;
}
#overlay-panel #time:not(.text) {
  font-size: 0.75rem;
  font-weight: 400;
}
@media (min-width: 1024px) and (max-width: 1599px) {
  #overlay-panel #time:not(.text) {
    font-size: 0.9rem;
  }
}
@media (min-width: 1600px) {
  #overlay-panel #time:not(.text) {
    font-size: 1rem;
  }
}
#overlay-panel #time:not(.text) {
  font-family: "Consolas", "Liberation Mono", "Courier New", monospace;
}
#overlay-panel #time:not(.text) {
  font-size: calc(14.8 * var(--short-side));
  line-height: 100%;
}
#overlay-panel #time.text {
  font-size: 0.75rem;
  font-weight: 400;
}
@media (min-width: 1024px) and (max-width: 1599px) {
  #overlay-panel #time.text {
    font-size: 0.9rem;
  }
}
@media (min-width: 1600px) {
  #overlay-panel #time.text {
    font-size: 1rem;
  }
}
#overlay-panel #time.text {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Noto Sans", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji";
}
#overlay-panel #time.text {
  font-size: calc(14.8 * var(--short-side));
}
#overlay-panel #time {
  white-space: nowrap;
}
#overlay-panel #date {
  font-size: 0.75rem;
  font-weight: 400;
}
@media (min-width: 1024px) and (max-width: 1599px) {
  #overlay-panel #date {
    font-size: 0.9rem;
  }
}
@media (min-width: 1600px) {
  #overlay-panel #date {
    font-size: 1rem;
  }
}
#overlay-panel #date {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Noto Sans", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji";
}
#overlay-panel #date {
  font-size: calc(4.2 * var(--short-side));
  white-space: nowrap;
}
#overlay-panel #weather {
  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: center;
}
#overlay-panel #weather {
  font-size: 0.75rem;
  font-weight: 400;
}
@media (min-width: 1024px) and (max-width: 1599px) {
  #overlay-panel #weather {
    font-size: 0.9rem;
  }
}
@media (min-width: 1600px) {
  #overlay-panel #weather {
    font-size: 1rem;
  }
}
#overlay-panel #weather {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Noto Sans", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji";
}
#overlay-panel #weather {
  font-size: calc(4.2 * var(--short-side));
}
#overlay-panel #weather .first-letter {
  font-size: calc(6.3 * var(--short-side));
  margin-top: calc(-1.05 * var(--short-side));
  margin-bottom: calc(-1.05 * var(--short-side));
  padding-right: calc(1.05 * var(--short-side));
}
#overlay-panel #calendar {
  font-size: 0.75rem;
  font-weight: 400;
}
@media (min-width: 1024px) and (max-width: 1599px) {
  #overlay-panel #calendar {
    font-size: 0.9rem;
  }
}
@media (min-width: 1600px) {
  #overlay-panel #calendar {
    font-size: 1rem;
  }
}
#overlay-panel #calendar {
  font-family: "Consolas", "Liberation Mono", "Courier New", monospace;
}
#overlay-panel #calendar {
  font-size: calc(2 * var(--short-side));
  line-height: 100%;
  display: flex;
  flex-direction: column;
  justify-content: center;
  gap: calc(1 * var(--short-side));
  padding: calc(1 * var(--short-side));
}
#overlay-panel #calendar:empty {
  display: none;
}
#overlay-panel #calendar .week {
  display: flex;
  flex-direction: row;
  justify-content: center;
  gap: calc(1.5 * var(--short-side));
}
#overlay-panel #calendar .week .day {
  width: calc(2 * var(--short-side));
  height: calc(2 * var(--short-side));
  text-align: center;
}
#overlay-panel #calendar .week .day.today {
  text-decoration: underline;
}
#overlay-panel #calendar .week .day:not(.current-month) {
  opacity: 0.4;
}
#overlay-panel #visualizer {
  width: calc(24 * var(--short-side));
  height: calc(24 * var(--short-side));
}
#overlay-panel #visualizer:not(.on) {
  display: none;
}
#overlay-panel #visualizer canvas {
  width: 100%;
  height: 100%;
}
#overlay-panel #visualizer .visual-progress-circle {
  position: static;
  left: initial;
  top: initial;
  transform: scale(calc(0.75 + 0.5 * var(--volume)));
  width: 75%;
  height: 75%;
  opacity: 0.7;
}
#overlay-panel #visualizer.odd .visual-progress-circle {
  border-radius: 50%;
  background: conic-gradient(transparent calc(var(--progress) * 360deg), transparent calc(var(--progress) * 360deg), hsl(160, 100%, 50%) calc(var(--progress) * 360deg));
}
#overlay-panel.top-right, #overlay-panel.top-left, #overlay-panel.center {
  display: flex;
  flex-direction: column;
}
#overlay-panel.bottom-right, #overlay-panel.bottom-left {
  display: flex;
  flex-direction: column-reverse;
}
#overlay-panel.top-right, #overlay-panel.bottom-right {
  align-items: end;
}
#overlay-panel.top-left, #overlay-panel.bottom-left {
  align-items: start;
}
#overlay-panel.center {
  align-items: center;
}

#pressed-key {
  backdrop-filter: blur(0.5rem);
  color: rgb(230, 237, 243);
  background-color: rgba(32, 28, 38, 0.6);
  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: center;
}
#pressed-key {
  position: fixed;
  border-radius: 0.5rem;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  padding: 0.5rem;
  gap: 0.5rem 0.5rem;
  z-index: 100;
}
#pressed-key kbd {
  font-size: 0.75rem;
  font-weight: 400;
}
@media (min-width: 1024px) and (max-width: 1599px) {
  #pressed-key kbd {
    font-size: 0.9rem;
  }
}
@media (min-width: 1600px) {
  #pressed-key kbd {
    font-size: 1rem;
  }
}
#pressed-key kbd {
  font-family: "Consolas", "Liberation Mono", "Courier New", monospace;
}
#pressed-key kbd {
  font-size: 2rem;
  display: inline-block;
  contain: paint;
  border-style: solid;
  border-width: 1px;
  border-color: rgba(255, 255, 255, 0.6);
  border-radius: 8px;
  padding-block: 2px;
  padding-inline: 8px;
  margin-block: 4px;
  margin-inline: 4px;
}
#pressed-key:empty {
  display: none;
}

#keyboard-shortcut {
  margin-block: 0.5rem;
  margin-inline: 0.5rem;
  border-radius: 0.5rem;
  padding-block: 0.5rem;
  padding-inline: 1rem;
  display: grid;
  grid-template-columns: minmax(0, max-content) minmax(0, max-content);
  gap: 0.5rem 0.5rem;
  align-items: center;
  pointer-events: none;
}
#keyboard-shortcut span {
  white-space: nowrap;
}
#keyboard-shortcut span:nth-child(2n+1) {
  justify-self: end;
}
#keyboard-shortcut span kbd {
  font-size: 0.75rem;
  font-weight: 400;
}
@media (min-width: 1024px) and (max-width: 1599px) {
  #keyboard-shortcut span kbd {
    font-size: 0.9rem;
  }
}
@media (min-width: 1600px) {
  #keyboard-shortcut span kbd {
    font-size: 1rem;
  }
}
#keyboard-shortcut span kbd {
  font-family: "Consolas", "Liberation Mono", "Courier New", monospace;
}
#keyboard-shortcut span kbd {
  display: inline-block;
  contain: paint;
  border-style: solid;
  border-width: 1px;
  border-color: rgba(255, 255, 255, 0.6);
  border-radius: 4px;
  padding-block: 1px;
  padding-inline: 4px;
  margin-block: 2px;
  margin-inline: 2px;
  background-color: rgba(255, 255, 255, 0.15);
}
#keyboard-shortcut span .separator {
  font-size: 0.75rem;
  font-weight: 400;
}
@media (min-width: 1024px) and (max-width: 1599px) {
  #keyboard-shortcut span .separator {
    font-size: 0.9rem;
  }
}
@media (min-width: 1600px) {
  #keyboard-shortcut span .separator {
    font-size: 1rem;
  }
}
#keyboard-shortcut span .separator {
  font-family: "Consolas", "Liberation Mono", "Courier New", monospace;
}
#keyboard-shortcut span .separator {
  display: inline-block;
  padding-block: 1px;
  padding-inline: 4px;
  margin-block: 2px;
  margin-inline: 2px;
}
@media (max-height: 640px) {
  #keyboard-shortcut {
    pointer-events: none;
    visibility: hidden;
    width: 0px;
    height: 0px;
  }
}

label:focus,
button:focus,
#volume-panel:focus-within,
#seek-panel:focus-within,
.popup-panel > label:focus-within {
  filter: drop-shadow(hsl(100, 100%, 50%) 0px 0px 0.25rem) drop-shadow(hsl(200, 100%, 50%) 0px 0px 1rem);
}

/*# sourceMappingURL=index.css.map */

DUMMYSTYLE
{
    color: inherit;
}
</style>
</head>
<body>
<div id="noscript">
    <div class="panel">
        <noscript class="section">
            <h2>NOSCRIPT</h2>
            <div lang="ar" dir="rtl">تم تعطيل JavaScript. الرجاء تمكين JavaScript.</div>
<div lang="de" dir="ltr">JavaScript ist deaktiviert. Bitte aktivieren Sie JavaScript.</div>
<div lang="el" dir="ltr">Η JavaScript είναι απενεργοποιημένη. Παρακαλώ ενεργοποιήστε την JavaScript.</div>
<div lang="en" dir="ltr">JavaScript is disabled. Please enable JavaScript.</div>
<div lang="es" dir="ltr">JavaScript está deshabilitado. Por favor, habilita JavaScript.</div>
<div lang="fa" dir="rtl">جاوااسکریپت غیرفعال است. لطفاً جاوااسکریپت را فعال کنید.</div>
<div lang="fr" dir="ltr">JavaScript est désactivé. Veuillez activer JavaScript.</div>
<div lang="hi" dir="ltr">JavaScript अक्षम है। कृपया JavaScript सक्षम करें।</div>
<div lang="id" dir="ltr">JavaScript dinonaktifkan. Aktifkan JavaScript.</div>
<div lang="it" dir="ltr">JavaScript è disabilitato. Abilita JavaScript.</div>
<div lang="ja" dir="ltr">JavaScript が無効になっています。JavaScript を有効にしてください。</div>
<div lang="ko" dir="ltr">JavaScript가 비활성화되어 있습니다. JavaScript를 활성화하세요.</div>
<div lang="nl" dir="ltr">JavaScript is uitgeschakeld. Schakel JavaScript in.</div>
<div lang="pl" dir="ltr">JavaScript jest wyłączony. Proszę włączyć JavaScript.</div>
<div lang="pt" dir="ltr">JavaScript está desativado. Por favor, ative o JavaScript.</div>
        </noscript>
    </div>
</div>
<div id="screen-body">
    <div id="media-screen">
        <time id="analog-clock-panel" class="hide">
            <div id="milli-seconds-niddle" class="hide"></div>
            <div id="seconds-niddle"></div>
            <div id="minutes-niddle"></div>
            <div id="scale60-panel"></div>
            <div id="hours-niddle"></div>
            <div id="scale12-panel"></div>
            <div id="center-circle"></div>
            <div id="week-niddle"></div>
            <div id="week-panel"></div>
            <div id="month-niddle"></div>
            <div id="month-panel"></div>
            <div id="year-niddle"></div>
            <div id="year-panel"></div>
            <div id="dates-center-circle"></div>
        </time>
        <div id="overlay-panel" dir="ltr">
            <div id="weather" role="status" alira-live="polite" aria-atomic="true" data-aria-lang-key="with-weather-label"></div>
            <time id="time" role="timer" aria-live="polite" aria-atomic="true"></time>
            <time id="date" aria-live="polite" aria-atomic="true"></time>
            <div id="calendar" aria-hidden="true"></div>
            <div id="visualizer" class="visualizer"></div>
        </div>
    </div>
    <div id="background-screen">
        <div id="keyboard-shortcut" data-aria-lang-key="shortcuts-label"></div>
    </div>
    <div id="media-list">
        <div class="item add">
            <button id="add-media" data-aria-lang-key="add-media"><?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg width="100%" height="100%" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
    <g transform="matrix(2.4647,0,0,2.46901,-1528.77,-1533.04)">
        <path d="M828,664C918.514,664 992,737.486 992,828C992,918.514 918.514,992 828,992C737.486,992 664,918.514 664,828C664,737.486 737.486,664 828,664ZM806.133,806.458L729.534,806.458C717.502,806.458 707.733,816.209 707.733,828.221L707.733,828.352C707.733,840.363 717.502,850.115 729.534,850.115L806.133,850.115L806.133,926.58C806.133,938.591 815.902,948.343 827.934,948.343L828.066,948.343C840.098,948.343 849.867,938.591 849.867,926.58L849.867,850.115L926.466,850.115C938.498,850.115 948.267,840.363 948.267,828.352L948.267,828.221C948.267,816.209 938.498,806.458 926.466,806.458L849.867,806.458L849.867,729.992C849.867,717.981 840.098,708.229 828.066,708.229L827.934,708.229C815.902,708.229 806.133,717.981 806.133,729.992L806.133,806.458Z"/>
    </g>
</svg>
</button>
            <input id="add-file" type="file" multiple />
        </div>
    </div>
</div>
<div id="element-pool" style="display:none;" aria-hidden="true"></div>
<div id="progress-circle" role="progressbar" aria-live="polite" data-aria-lang-key="loading-media"></div>
<div id="no-media-panel">
    <span data-lang-key="no-media-message"></span>
</div>
<div id="not-supported-media-panel">
    <span data-lang-key="not-supported-media-message"></span>
</div>
<div id="wake-up-timer-not-working-panel">
    <span data-lang-key="wake-up-timer-not-working"></span>
</div>
<div id="fps" aria-hidden="true"></div>
<div id="control-panel">
    <label for="wakeup-button" class="icon-button" tabindex="0" data-aria-lang-key="wakeup">
        <input id="wakeup-button" type="checkbox">
        <div id="wakeup-progress-circle" role="timer"></div>
        <?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg width="100%" height="100%" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
    <path d="M560,879.636C560,853.345 538.655,832 512.364,832L511.636,832C485.345,832 464,853.345 464,879.636L464,944.364C464,970.655 485.345,992 511.636,992L512.364,992C538.655,992 560,970.655 560,944.364L560,879.636ZM369.751,854.382C382.897,831.613 375.084,802.456 352.315,789.31L351.685,788.946C328.916,775.801 299.758,783.613 286.613,806.382L254.249,862.438C241.103,885.207 248.916,914.365 271.685,927.51L272.315,927.874C295.084,941.02 324.242,933.207 337.387,910.438L369.751,854.382ZM686.613,910.438C699.758,933.207 728.916,941.02 751.685,927.874L752.315,927.51C775.084,914.365 782.897,885.207 769.751,862.438L737.387,806.382C724.242,783.613 695.084,775.801 672.315,788.946L671.685,789.31C648.916,802.456 641.103,831.613 654.249,854.382L686.613,910.438ZM512,224C670.952,224 800,353.048 800,512C800,670.952 670.952,800 512,800C353.048,800 224,670.952 224,512C224,353.048 353.048,224 512,224ZM217.618,737.387C240.387,724.242 248.199,695.084 235.054,672.315L234.69,671.685C221.544,648.916 192.387,641.103 169.618,654.249L113.562,686.613C90.793,699.758 82.98,728.916 96.126,751.685L96.49,752.315C109.635,775.084 138.793,782.897 161.562,769.751L217.618,737.387ZM862.438,769.751C885.207,782.897 914.365,775.084 927.51,752.315L927.874,751.685C941.02,728.916 933.207,699.758 910.438,686.613L854.382,654.249C831.613,641.103 802.456,648.916 789.31,671.685L788.946,672.315C775.801,695.084 783.613,724.242 806.382,737.387L862.438,769.751ZM144.364,560C170.655,560 192,538.655 192,512.364L192,511.636C192,485.345 170.655,464 144.364,464L79.636,464C53.345,464 32,485.345 32,511.636L32,512.364C32,538.655 53.345,560 79.636,560L144.364,560ZM944.364,560C970.655,560 992,538.655 992,512.364L992,511.636C992,485.345 970.655,464 944.364,464L879.636,464C853.345,464 832,485.345 832,511.636L832,512.364C832,538.655 853.345,560 879.636,560L944.364,560ZM169.618,369.751C192.387,382.897 221.544,375.084 234.69,352.315L235.054,351.685C248.199,328.916 240.387,299.758 217.618,286.613L161.562,254.249C138.793,241.103 109.635,248.916 96.49,271.685L96.126,272.315C82.98,295.084 90.793,324.242 113.562,337.387L169.618,369.751ZM910.438,337.387C933.207,324.242 941.02,295.084 927.874,272.315L927.51,271.685C914.365,248.916 885.207,241.103 862.438,254.249L806.382,286.613C783.613,299.758 775.801,328.916 788.946,351.685L789.31,352.315C802.456,375.084 831.613,382.897 854.382,369.751L910.438,337.387ZM286.613,217.618C299.758,240.387 328.916,248.199 351.685,235.054L352.315,234.69C375.084,221.544 382.897,192.387 369.751,169.618L337.387,113.562C324.242,90.793 295.084,82.98 272.315,96.126L271.685,96.49C248.916,109.635 241.103,138.793 254.249,161.562L286.613,217.618ZM769.751,161.562C782.897,138.793 775.084,109.635 752.315,96.49L751.685,96.126C728.916,82.98 699.758,90.793 686.613,113.562L654.249,169.618C641.103,192.387 648.916,221.544 671.685,234.69L672.315,235.054C695.084,248.199 724.242,240.387 737.387,217.618L769.751,161.562ZM560,79.636C560,53.345 538.655,32 512.364,32L511.636,32C485.345,32 464,53.345 464,79.636L464,144.364C464,170.655 485.345,192 511.636,192L512.364,192C538.655,192 560,170.655 560,144.364L560,79.636Z"/>
</svg>

    </label>
    <div id="wakeup-panel" class="popup-panel">
        <label id="wakeup-toggle-label" class="toggle-label" tabindex="0">
            <span data-lang-key="wakeup-label"></span>
            <span data-lang-key="on" class="value-label"></span>
            <span data-lang-key="off" class="value-label"></span>
        </label>
        <label for="wakeup-time">
            <span data-lang-key="timer-label"></span>
            <select id="wakeup-time"></select>
        </label>
        <label for="fade-in">
            <span data-lang-key="fade-in-label"></span>
            <select id="fade-in"></select>
        </label>
    </div>
    <label id="wakeup-timer" for="wakeup-button" class="tip" role="status"></label>
    <label id="no-media" for="add-file" class="tip hide" role="tooltip"><span data-lang-key="no-media-message"></span></label>
    <label for="shuffle" class="icon-button" tabindex="0" data-aria-lang-key="Shuffle">
        <input id="shuffle" type="checkbox">
        <?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg width="100%" height="100%" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
    <g transform="matrix(-6.12323e-17,1,-0.828989,-5.07609e-17,1160.71,512)">
        <path d="M218.285,891.502C231.359,901.851 240,919.691 240,939.947C240,940.555 239.992,941.16 239.977,941.764L240,941.764L240,1279.53L144,1279.53L144,976.876L0.077,896.145L-0.151,896.273L-113.99,832.417L-113.762,832.289L-209.844,778.394C-227.511,769.845 -240,748.984 -240,724.631C-240,723.007 -239.944,721.397 -239.835,719.806L-240,719.806L-240,544L-320,544L-192,287.643L-64,544L-144,544L-144,687.616L-128.266,696.442L-128.478,696.992L218.285,891.502ZM84.86,720.876L144,687.702L144,544L64,544L192,288L320,544L240,544L240,719.806L239.835,719.806C239.944,721.397 240,723.007 240,724.631C240,746.816 229.635,766.103 214.433,775.825L214.459,775.892L212.766,776.841C212.387,777.057 212.007,777.27 211.625,777.481L198.699,784.732L84.86,720.876ZM-86.463,944.688L-144,976.962L-144,1279.53L-240,1279.53L-240,941.764L-239.977,941.764C-239.992,941.16 -240,940.555 -240,939.947C-240,915.595 -227.511,894.734 -209.844,886.184L-200.302,880.832L-86.463,944.688Z"/>
    </g>
</svg>

    </label>
    <label for="repeat" class="icon-button" tabindex="0" data-aria-lang-key="Repeat">
        <input id="repeat" type="checkbox">
        <?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg width="100%" height="100%" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
    <g transform="matrix(2.78261,0,0,2.78261,-317.217,-317.217)">
        <path d="M390,298.106C390,298.071 390,298.035 390,298C390,247.224 348.776,206 298,206C266.006,206 237.804,222.367 221.318,247.178L195.945,205.148C221.193,177.416 257.579,160 298,160C374.164,160 436,221.836 436,298C436,298.035 436,298.071 436,298.106L459,298.106L413,374.373L367,298.106L390,298.106ZM160,298.106L137,298.106L183,221.733L229,298.106L206,298.106C206.058,348.834 247.259,390 298,390C329.972,390 358.157,373.655 374.648,348.873L400.017,390.895C374.77,418.601 338.401,436 298,436C221.871,436 160.058,374.222 160,298.106Z"/>
    </g>
</svg>

    </label>
    <button id="play-button" tabindex="0" data-aria-lang-key="Play / Pause">
        <div id="play-icon"><?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg width="100%" height="100%" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
    <g transform="matrix(1,0,0,1,-20.52,-0.152764)">
        <path d="M277.128,192.306L277.129,192C277.294,169.198 295.857,150.737 318.698,150.737C326.626,150.737 334.038,152.961 340.345,156.819L893.467,476.149L893.46,476.161C906.034,483.312 914.523,496.833 914.523,512.321C914.523,529.423 904.173,544.126 889.4,550.504L340.335,867.492C339.741,867.855 339.138,868.203 338.526,868.537L336.016,869.985L335.929,869.834C330.678,872.232 324.842,873.568 318.697,873.568C295.755,873.568 277.128,854.942 277.128,832L277.128,192.306Z"/>
    </g>
</svg>
</div>
        <div id="pause-icon"><?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg width="100%" height="100%" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
    <g transform="matrix(1.17021,0,0,1.125,-75.5745,-64)">
        <path d="M444,291.176L444,732.824C444,752.238 428.847,768 410.183,768L289.817,768C271.153,768 256,752.238 256,732.824L256,291.176C256,271.762 271.153,256 289.817,256L410.183,256C428.847,256 444,271.762 444,291.176ZM748.218,291.176L748.218,732.824C748.218,752.238 733.065,768 714.401,768L594.035,768C575.371,768 560.218,752.238 560.218,732.824L560.218,291.176C560.218,271.762 575.371,256 594.035,256L714.401,256C733.065,256 748.218,271.762 748.218,291.176Z"/>
    </g>
</svg>
</div>
    </button>
    <label for="volume-button" class="icon-button" tabindex="0" data-aria-lang-key="Volume">
        <input id="volume-button" type="checkbox">
        <div id="speaker-mute-icon"><?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg width="100%" height="100%" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
    <g transform="matrix(0.00047459,-1.32055,0.710938,0.000255503,147.757,849.93)">
        <path d="M60.636,512L-0,512L163.048,185.903L348.89,185.779L512,512L451.456,512C409.793,393.528 337.759,315.193 255.962,315.248C174.225,315.302 102.267,393.618 60.636,512ZM175.658,135.257L175.638,33.983C175.634,15.351 183.775,0.219 193.806,0.212L317.996,0.13C328.027,0.123 336.173,15.244 336.177,33.876L336.197,135.15L175.658,135.257ZM452.933,748.347C452.972,950.19 364.782,1114.12 256.117,1114.19C147.451,1114.27 59.197,950.453 59.158,748.61C59.119,546.767 147.31,382.837 255.975,382.764C364.64,382.692 452.894,546.504 452.933,748.347ZM345.77,521.881C320.635,487.472 289.581,467.137 255.991,467.16C172.403,467.216 104.564,593.316 104.594,748.58C104.606,811.033 115.597,868.752 134.173,915.439L345.77,521.881ZM166.322,975.076C191.456,1009.49 222.511,1029.82 256.1,1029.8C339.689,1029.74 407.528,903.641 407.498,748.377C407.486,685.924 396.495,628.205 377.919,581.519L166.322,975.076Z"/>
    </g>
</svg>
</div>
        <div id="speaker-0-icon"><?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg width="100%" height="100%" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
    <g transform="matrix(0.00047459,-1.32055,0.710938,0.000255503,147.757,849.93)">
        <path d="M348.89,185.779L512,512L-0,512L163.048,185.903L348.89,185.779ZM175.658,135.257L175.638,33.983C175.634,15.351 183.775,0.219 193.806,0.212L317.996,0.13C328.027,0.123 336.173,15.244 336.177,33.876L336.197,135.15L175.658,135.257Z"/>
    </g>
</svg>
</div>
        <div id="speaker-1-icon"><?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg width="100%" height="100%" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
    <g transform="matrix(0.761905,0,0,0.761905,119.238,207.238)">
        <path d="M599.949,246.632C594.702,239.623 591.593,230.921 591.593,221.5C591.593,198.32 610.413,179.5 633.593,179.5C647.748,179.5 660.277,186.518 667.888,197.26C710.629,253.627 736,323.874 736,400C736,475.277 711.192,544.805 669.312,600.848C668.691,601.74 668.036,602.608 667.349,603.448L666.717,604.274L666.681,604.245C658.976,613.214 647.553,618.898 634.814,618.898C611.634,618.898 592.814,600.078 592.814,576.898C592.814,568.114 595.516,559.957 600.133,553.213L600.07,553.164C632.636,510.703 652,457.595 652,400C652,342.321 632.58,289.141 599.927,246.65L599.949,246.632ZM211,238.892L515.5,-43.705L515.181,843.705L211,560.996L211,238.892ZM163.75,539.125L69.25,539.125C51.865,539.125 37.75,525.01 37.75,507.625L37.75,292.375C37.75,274.99 51.865,260.875 69.25,260.875L163.75,260.875L163.75,539.125Z"/>
    </g>
</svg>
</div>
        <div id="speaker-2-icon"><?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg width="100%" height="100%" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
    <g transform="matrix(1.14286,0,0,1.14286,-33.1429,54.8571)">
        <path d="M623.131,230.908C618.847,225.989 616.25,219.561 616.25,212.531C616.25,197.077 628.797,184.531 644.25,184.531C653.379,184.531 661.494,188.909 666.607,195.679L666.653,195.643C710.14,252.28 736,323.144 736,400C736,476.008 710.707,546.155 668.086,602.477C663.037,609.819 654.577,614.637 645,614.637C629.546,614.637 617,602.091 617,586.637C617,580.534 618.957,574.884 622.277,570.281L622.243,570.255C658.463,523.065 680,464.028 680,400C680,336.497 658.814,277.904 623.131,230.908ZM533.299,297.755C529.801,293.082 527.729,287.281 527.729,281C527.729,265.546 540.275,253 555.729,253C565.165,253 573.518,257.678 578.592,264.84C607.086,302.418 624,349.249 624,400C624,450.185 607.461,496.537 579.541,533.898C579.127,534.493 578.691,535.072 578.233,535.632L577.812,536.182L577.787,536.164C572.65,542.142 565.036,545.932 556.543,545.932C541.089,545.932 528.543,533.385 528.543,517.932C528.543,512.076 530.344,506.638 533.422,502.142L533.38,502.109C555.091,473.802 568,438.397 568,400C568,361.547 555.053,326.094 533.284,297.766L533.299,297.755ZM274,292.595L477,104.197L476.787,695.803L274,507.331L274,292.595ZM242.5,492.75L179.5,492.75C167.91,492.75 158.5,483.34 158.5,471.75L158.5,328.25C158.5,316.66 167.91,307.25 179.5,307.25L242.5,307.25L242.5,492.75Z"/>
    </g>
</svg>
</div>
        <div id="speaker-3-icon"><?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg width="100%" height="100%" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
    <g transform="matrix(0.000597996,-1.66393,1.0857,0.000390188,423.847,937.766)">
        <path d="M192.136,-165.756L192.121,-232.073C192.118,-244.273 198.579,-254.182 206.539,-254.187L305.101,-254.241C313.062,-254.245 319.527,-244.344 319.53,-232.143L319.546,-165.827L192.136,-165.756ZM418.912,328.322C422.278,323.879 426.657,321.191 431.444,321.188C442.058,321.183 450.678,334.385 450.682,350.652C450.684,360.234 447.697,368.755 443.071,374.142L443.091,374.182C391.241,435.227 326.363,471.546 255.991,471.585C185.607,471.624 120.702,435.364 68.82,374.359L68.84,374.32C64.226,368.937 61.244,360.431 61.242,350.866C61.238,334.599 69.853,321.388 80.467,321.382C85.253,321.379 89.634,324.062 93.002,328.501C138.266,381.315 194.752,412.671 255.977,412.637C317.201,412.603 373.673,381.185 418.912,328.322ZM372.075,234.814C375.452,230.302 379.867,227.567 384.695,227.564C395.309,227.558 403.93,240.76 403.934,257.028C403.936,266.637 400.931,275.18 396.282,280.565L396.307,280.614C357.417,326.411 308.751,353.66 255.963,353.689C203.757,353.718 155.571,327.12 116.876,282.277C111.832,276.964 108.521,268.06 108.518,257.979C108.514,241.712 117.129,228.501 127.743,228.495C131.935,228.492 135.816,230.55 138.978,234.044L138.996,234.008C171.418,272.116 211.972,294.765 255.949,294.741C299.565,294.717 339.805,272.394 372.075,234.814ZM326.139,140.278C329.348,136.594 333.332,134.41 337.646,134.408C348.26,134.402 356.88,147.604 356.884,163.872C356.887,173.805 353.675,182.599 348.758,187.943C322.955,217.951 290.793,235.773 255.935,235.793C221.466,235.812 189.626,218.419 163.957,189.044C163.548,188.608 163.151,188.149 162.766,187.667L162.388,187.224L162.401,187.198C158.293,181.793 155.688,173.779 155.686,164.839C155.683,148.572 164.297,135.36 174.911,135.355C178.933,135.352 182.668,137.246 185.758,140.485L185.78,140.44C205.228,163.284 229.549,176.859 255.921,176.844C282.333,176.83 306.68,163.188 326.131,140.263L326.139,140.278ZM329.619,-132.674L459.069,80.942L52.729,80.942L182.129,-132.593L329.619,-132.674Z"/>
    </g>
</svg>
</div>
    </label>
    <div id="volume-panel">
        <input id="volume" type="range" data-aria-lang-key="Volume" />
    </div>
    <label for="settings-button" class="icon-button" tabindex="0" data-aria-lang-key="Settings">
        <input id="settings-button" type="checkbox">
        <?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg width="100%" height="100%" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
    <path d="M579.681,101.543C534.863,94.152 489.137,94.152 444.319,101.543L422.868,255.329C390.367,266.615 360.306,283.97 334.282,306.473L190.374,248.158C161.565,283.276 138.702,322.876 122.693,365.385L245.15,460.855C238.674,494.644 238.674,529.356 245.15,563.145L122.693,658.615C138.702,701.124 161.565,740.724 190.374,775.842L334.282,717.527C360.306,740.03 390.367,757.385 422.868,768.671L444.319,922.457C489.137,929.848 534.863,929.848 579.681,922.457L601.132,768.671C633.633,757.385 663.694,740.03 689.718,717.527L833.626,775.842C862.435,740.724 885.298,701.124 901.307,658.615L778.85,563.145C785.326,529.356 785.326,494.644 778.85,460.855L901.307,365.385C885.298,322.876 862.435,283.276 833.626,248.158L689.718,306.473C663.694,283.97 633.633,266.615 601.132,255.329L579.681,101.543ZM512,350.491C601.139,350.491 673.509,422.861 673.509,512C673.509,601.139 601.139,673.509 512,673.509C422.861,673.509 350.491,601.139 350.491,512C350.491,422.861 422.861,350.491 512,350.491Z"/>
</svg>

    </label>
    <div id="settings-panel" class="popup-panel">
        <label for="media-count" class="information">
            <span data-lang-key="media-count-label"></span>
            <span id="media-count" class="value-text"></span>
        </label>
        <label for="media-length" class="information">
            <span data-lang-key="media-length-label"></span>
            <span id="media-length" class="value-text"></span>
        </label>
        <label for="with-fullscreen">
            <span data-lang-key="with-fullscreen-label"></span>
            <input id="with-fullscreen" type="checkbox" />
        </label>
        <label for="brightness">
            <span data-lang-key="brightness-label"></span>
            <input id="brightness" type="range" />
        </label>
        <label for="stretch">
            <span data-lang-key="stretch-label"></span>
            <input id="stretch" type="range" />
        </label>
        <label for="padding">
            <span data-lang-key="padding-label"></span>
            <input id="padding" type="checkbox" />
        </label>
        <label for="cross-fade">
            <span data-lang-key="cross-fade-label"></span>
            <select id="cross-fade"></select>
        </label>
        <label for="cross-fade-with-blur">
            <span data-lang-key="cross-fade-with-blur-label"></span>
            <input id="cross-fade-with-blur" type="checkbox" />
        </label>
        <label for="image-span">
            <span data-lang-key="image-span-label"></span>
            <select id="image-span"></select>
        </label>
        <label for="loop-short-media">
            <span data-lang-key="loop-short-media-label"></span>
            <input id="loop-short-media" type="checkbox" />
        </label>
        <label for="visualizer-type">
            <span data-lang-key="visualizer-label"></span>
            <select id="visualizer-type"></select>
        </label>
        <label for="analog-clock">
            <span data-lang-key="analog-clock-label"></span>
            <input id="analog-clock" type="checkbox" />
        </label>
        <label for="date-hands">
            <span data-lang-key="date-hands-label"></span>
            <input id="date-hands" type="checkbox" />
        </label>
        <label for="millisecond-hand">
            <span data-lang-key="millisecond-hand-label"></span>
            <input id="millisecond-hand" type="checkbox" />
        </label>
        <label for="overlay-style">
            <span data-lang-key="overlay-style-label"></span>
            <select id="overlay-style"></select>
        </label>
        <label for="overlay-position">
            <span data-lang-key="overlay-position-label"></span>
            <select id="overlay-position"></select>
        </label>
        <label for="with-weather">
            <span data-lang-key="with-weather-label"></span>
            <input id="with-weather" type="checkbox" />
        </label>
        <label for="weather-location">
            <span data-lang-key="weather-location-label"></span>
            <select id="weather-location"></select>
        </label>
        <label for="with-clock">
            <span data-lang-key="with-clock-label"></span>
            <input id="with-clock" type="checkbox" />
        </label>
        <label for="with-date">
            <span data-lang-key="with-date-label"></span>
            <input id="with-date" type="checkbox" />
        </label>
        <label for="with-calendar">
            <span data-lang-key="with-calendar-label"></span>
            <input id="with-calendar" type="checkbox" />
        </label>
        <label for="with-visualizer">
            <span data-lang-key="with-visualizer-label"></span>
            <input id="with-visualizer" type="checkbox" />
        </label>
        <label for="show-fps">
            <span data-lang-key="show-fps-label"></span>
            <input id="show-fps" type="checkbox" />
        </label>
        <label for="shortcuts">
            <span data-lang-key="shortcuts-label"></span>
            <select id="shortcuts"></select>
        </label>
        <label for="language">
            <span data-lang-key="language-label"></span>
            <select id="language"></select>
        </label>
        <label for="url" class="link-label">
            <a id="url" href="?"><span data-lang-key="url-label"></span></a>
        </label>
        <label for="repository" class="link-label">
            <a id="repository" href="https://github.com/wraith13/web-media-player/"><span data-lang-key="repository-label"></span></a>
        </label>
    </div>
    <label for="sleep-button" class="icon-button" tabindex="0" data-aria-lang-key="sleep">
        <input id="sleep-button" type="checkbox">
        <div id="sleep-progress-circle" role="timer"></div>
        <?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg width="100%" height="100%" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
    <path d="M938.575,450.949C941.411,470.913 942.876,491.287 942.876,512C942.876,749.807 749.807,942.876 512,942.876C274.193,942.876 81.124,749.807 81.124,512C81.124,274.193 274.193,81.124 512,81.124C530.715,81.124 549.154,82.32 567.264,84.642C414.729,109.929 298.252,242.614 298.252,402.288C298.252,580 442.532,724.28 620.244,724.28C781.411,724.28 915.081,605.615 938.575,450.949Z"/>
</svg>

    </label>
    <div id="sleep-panel" class="popup-panel">
        <label id="sleep-toggle-label" class="toggle-label" tabindex="0">
            <span data-lang-key="sleep-label"></span>
            <span data-lang-key="on" class="value-label"></span>
            <span data-lang-key="off" class="value-label"></span>
        </label>
        <label for="sleep-time">
            <span data-lang-key="timer-label"></span>
            <select id="sleep-time"></select>
        </label>
        <label for="fade-out">
            <span data-lang-key="fade-out-label"></span>
            <select id="fade-out"></select>
        </label>
    </div>
    <label id="sleep-timer" for="sleep-button" class="tip" role="status"></label>
    <label id="no-repeat" for="repeat" class="tip hide" role="tooltip"><span data-lang-key="no-repeat-message"></span></label>
</div>
<span id="media-index" role="status" aria-live="polite" aria-atomic="true"></span>
<span id="media-title" role="status" aria-live="polite" aria-atomic="true" tabindex="0"></span>
<div id="media-time-frame">
    <span id="media-time" role="status" aria-live="polite" tabindex="0"></span>
    <div id="seek-panel">
        <input id="seek" type="range" aria-live="polite" data-aria-lang-key="Seek" min="0" max="1" step="any" />
    </div>
</div>
<button id="back-button" data-aria-lang-key="Go to Previous Media">
    <div id="back-icon"><?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg width="100%" height="100%" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
    <g transform="matrix(-0.902983,0,0,0.902983,1593.33,-226.409)">
        <path d="M817.528,515.306L817.528,515.017C817.684,493.456 835.237,476 856.834,476C864.332,476 871.342,478.104 877.306,481.752L1400.32,783.7L1400.31,783.712C1412.2,790.474 1420.23,803.259 1420.23,817.904C1420.23,834.075 1410.44,847.978 1396.48,854.009L877.294,1153.74C876.733,1154.09 876.162,1154.42 875.583,1154.73L873.21,1156.1L873.128,1155.96C868.163,1158.23 862.645,1159.49 856.834,1159.49C835.14,1159.49 817.527,1141.88 817.527,1120.18L817.528,515.306ZM1420.24,515.306L1420.24,515.017C1420.4,493.456 1437.95,476 1459.55,476C1481.15,476 1498.7,493.456 1498.86,515.017L1498.86,515.306L1498.86,1120.18C1498.86,1141.88 1481.24,1159.49 1459.55,1159.49C1437.86,1159.49 1420.24,1141.88 1420.24,1120.18L1420.24,515.306Z"/>
    </g>
</svg>
<div>
</button>
<button id="next-button" data-aria-lang-key="Go to Next Media">
    <div id="next-icon"><?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg width="100%" height="100%" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
    <g transform="matrix(0.902983,0,0,0.902983,-498.328,-226.409)">
        <path d="M817.528,515.306L817.528,515.017C817.684,493.456 835.237,476 856.834,476C864.332,476 871.342,478.104 877.306,481.752L1400.32,783.7L1400.31,783.712C1412.2,790.474 1420.23,803.259 1420.23,817.904C1420.23,834.075 1410.44,847.978 1396.48,854.009L877.294,1153.74C876.733,1154.09 876.162,1154.42 875.583,1154.73L873.21,1156.1L873.128,1155.96C868.163,1158.23 862.645,1159.49 856.834,1159.49C835.14,1159.49 817.527,1141.88 817.527,1120.18L817.528,515.306ZM1420.24,515.306L1420.24,515.017C1420.4,493.456 1437.95,476 1459.55,476C1481.15,476 1498.7,493.456 1498.86,515.017L1498.86,515.306L1498.86,1120.18C1498.86,1141.88 1481.24,1159.49 1459.55,1159.49C1437.86,1159.49 1420.24,1141.88 1420.24,1120.18L1420.24,515.306Z"/>
    </g>
</svg>
<div>
</button>
<button id="rewind-button" data-aria-lang-key="Seek Backward">
    <div id="rewind-icon"><?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg width="100%" height="100%" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
    <g transform="matrix(-0.661586,5.56506e-33,5.56506e-33,0.661586,1409.7,-28.8097)">
        <path d="M817.528,515.306L817.528,515.017C817.684,493.456 835.237,476 856.834,476C864.332,476 871.342,478.104 877.306,481.752L1400.32,783.7L1400.31,783.712C1412.2,790.474 1420.23,803.259 1420.23,817.904C1420.23,834.075 1410.44,847.978 1396.48,854.009L877.294,1153.74C876.733,1154.09 876.162,1154.42 875.583,1154.73L873.21,1156.1L873.128,1155.96C868.163,1158.23 862.645,1159.49 856.834,1159.49C835.14,1159.49 817.527,1141.88 817.527,1120.18L817.528,515.306ZM1420.24,515.306L1420.24,515.017C1420.4,493.456 1437.95,476 1459.55,476C1467.05,476 1474.06,478.104 1480.02,481.752L2003.04,783.7L2003.03,783.712C2014.92,790.474 2022.95,803.259 2022.95,817.904C2022.95,834.075 2013.16,847.978 1999.19,854.009L1480.01,1153.74C1479.45,1154.09 1478.88,1154.42 1478.3,1154.73L1475.93,1156.1L1475.84,1155.96C1470.88,1158.23 1465.36,1159.49 1459.55,1159.49C1437.86,1159.49 1420.24,1141.88 1420.24,1120.18L1420.24,515.306Z"/>
    </g>
</svg>
<div>
</button>
<button id="fast-forward-button" data-aria-lang-key="Seek Forward">
    <div id="fast-forward-icon"><?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg width="100%" height="100%" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
    <g transform="matrix(0.661586,5.56506e-33,-5.56506e-33,0.661586,-385.695,-28.8097)">
        <path d="M817.528,515.306L817.528,515.017C817.684,493.456 835.237,476 856.834,476C864.332,476 871.342,478.104 877.306,481.752L1400.32,783.7L1400.31,783.712C1412.2,790.474 1420.23,803.259 1420.23,817.904C1420.23,834.075 1410.44,847.978 1396.48,854.009L877.294,1153.74C876.733,1154.09 876.162,1154.42 875.583,1154.73L873.21,1156.1L873.128,1155.96C868.163,1158.23 862.645,1159.49 856.834,1159.49C835.14,1159.49 817.527,1141.88 817.527,1120.18L817.528,515.306ZM1420.24,515.306L1420.24,515.017C1420.4,493.456 1437.95,476 1459.55,476C1467.05,476 1474.06,478.104 1480.02,481.752L2003.04,783.7L2003.03,783.712C2014.92,790.474 2022.95,803.259 2022.95,817.904C2022.95,834.075 2013.16,847.978 1999.19,854.009L1480.01,1153.74C1479.45,1154.09 1478.88,1154.42 1478.3,1154.73L1475.93,1156.1L1475.84,1155.96C1470.88,1158.23 1465.36,1159.49 1459.55,1159.49C1437.86,1159.49 1420.24,1141.88 1420.24,1120.18L1420.24,515.306Z"/>
    </g>
</svg>
<div>
</button>
<div id="pressed-key" role="status" aria-live="polite" aria-atomic="true"></div>
<div id="images" style="display:none;" aria-hidden="true"><div id="error-icon"><svg width="100%" height="100%" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
    <path d="M512,96C741.597,96 928,282.403 928,512C928,741.597 741.597,928 512,928C282.403,928 96,741.597 96,512C96,282.403 282.403,96 512,96ZM254.314,322.332L701.824,769.571C648.693,808.805 583.034,832 512,832C335.387,832 192,688.613 192,512C192,441.037 215.149,375.438 254.314,322.332ZM769.686,701.668L322.176,254.429C375.307,215.195 440.966,192 512,192C688.613,192 832,335.387 832,512C832,582.963 808.851,648.562 769.686,701.668Z"/>
</svg>
</div><div id="audio-icon"><svg width="100%" height="100%" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
    <g transform="matrix(0.615385,0,0,1.31214,198.093,-113.044)">
        <path d="M552.975,673.328C565.759,710.263 487.164,750.272 372.016,764.184C252.296,778.648 138.108,759.458 117.18,721.358C96.252,683.258 176.46,640.582 296.18,626.118C360.209,618.382 422.655,620.273 470.098,629.534L470.098,326.276C468.46,308.327 470.098,254.989 470.098,254.989L470.098,187.454C470.098,176.728 488.666,168.02 511.537,168.02C531.671,168.02 548.471,174.769 552.202,183.702C559.934,199.301 562.08,211.729 582.098,221.222C613.748,236.23 688.707,256.279 742.098,273.749C799.432,292.509 884.765,313.769 926.098,333.78C959.29,349.848 988.809,371.447 990.098,393.811C991.432,416.948 962.084,448.226 934.098,472.601C896.765,505.118 766.098,588.911 766.098,588.911C766.098,588.911 876.765,484.482 902.098,450.09C917.868,428.681 942.433,402.12 918.098,382.555C890.098,360.043 791.432,328.777 734.098,315.02C685.678,303.402 618.098,298.136 574.098,300.012C565.992,300.358 559.178,301.671 552.975,303.538L552.975,673.328Z"/>
    </g>
</svg>
</div><div id="cross-icon"><svg width="100%" height="100%" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve" xmlns:serif="http://www.serif.com/" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;">
    <g>
        <g transform="matrix(1.98154,1.97826,-0.471014,0.471795,490.164,-389.858)">
            <path d="M384,863.716C384,828.55 377.202,800 368.829,800L79.171,800C70.798,800 64,828.55 64,863.716L64,928.284C64,963.45 70.798,992 79.171,992L368.829,992C377.202,992 384,963.45 384,928.284L384,863.716Z"/>
        </g>
        <g transform="matrix(1.97826,-1.98154,0.471795,0.471014,-353.858,497.836)">
            <path d="M384,863.716C384,828.55 377.202,800 368.829,800L79.171,800C70.798,800 64,828.55 64,863.716L64,928.284C64,963.45 70.798,992 79.171,992L368.829,992C377.202,992 384,963.45 384,928.284L384,863.716Z"/>
        </g>
    </g>
    <g transform="matrix(1.98154,1.97826,-0.471014,0.471795,490.164,-389.858)">
        <path d="M201.143,800L201.143,287.716C201.143,252.55 207.941,224 216.313,224L231.687,224C240.059,224 246.857,252.55 246.857,287.716L246.857,800L368.829,800C377.202,800 384,828.55 384,863.716L384,928.284C384,963.45 377.202,992 368.829,992L246.857,992L246.857,1504.28C246.857,1539.45 240.059,1568 231.687,1568L216.313,1568C207.941,1568 201.143,1539.45 201.143,1504.28L201.143,992L79.171,992C70.798,992 64,963.45 64,928.284L64,863.716C64,828.55 70.798,800 79.171,800L201.143,800Z"/>
    </g>
</svg>
</div></div>
</body>
<script type="text/javascript">
const build =
{
    at: "Tue Dec 02 2025 06:49:12 GMT+0900 (日本標準時)",
    tick: 1764625752474
};
const evilCommonjsConfig = // "./resource/evil-commonjs.config.json"
{
    "log": {
        "config": false,
        "load": false,
        "define": false,
        "readyToCapture": false,
        "results": false
    },
    "loadingTimeout": 500
}
;
const evilTimerConfig = // "./resource/evil-timer.js.config.json"
{
    "debug": true
}
;
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === "function" ? Iterator : Object).prototype);
    return g.next = verb(0), g["throw"] = verb(1), g["return"] = verb(2), typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (g && (g = 0, op[0] && (_ = 0)), _) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
var _this = this;
(function () {
    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;
    var pathStack = [];
    pathStack.push(location.href);
    var getBasePath = function () { return location.href; };
    var getCurrentPath = function () { var _a; return (_a = pathStack[pathStack.length - 1]) !== null && _a !== void 0 ? _a : location.href; };
    var loadScript = function (src) { return __awaiter(_this, void 0, void 0, function () {
        return __generator(this, function (_a) {
            return [2 /*return*/, new Promise(function (resolve, reject) {
                    var script = document.createElement("script");
                    script.src = src;
                    script.onload = function () { return resolve(); };
                    script.onerror = reject;
                    document.head.appendChild(script);
                })];
        });
    }); };
    var loadJsonRaw = function (src) { return __awaiter(_this, void 0, void 0, function () {
        return __generator(this, function (_a) {
            return [2 /*return*/, new Promise(function (resolve, reject) {
                    var request = new XMLHttpRequest();
                    request.open('GET', src, true);
                    request.onreadystatechange = function () {
                        if (4 === request.readyState) {
                            if (200 <= request.status && request.status < 300) {
                                try {
                                    resolve(JSON.parse(request.responseText));
                                }
                                catch (err) {
                                    reject(err);
                                }
                            }
                            else {
                                reject(request);
                            }
                        }
                    };
                    request.send(null);
                })];
        });
    }); };
    var makeAbsoluteUrl = function (path) {
        var mappedPath = resolveMapping(path);
        var base = mappedPath ? getBasePath() : getCurrentPath();
        var url = mappedPath !== null && mappedPath !== void 0 ? mappedPath : path;
        var baseParts = base.split("?")[0].split("/");
        if (4 <= baseParts.length && "" !== baseParts[baseParts.length - 1]) {
            // ファイル名部分の除去
            baseParts = baseParts.slice(0, -1);
        }
        if (4 <= baseParts.length && "" === baseParts[baseParts.length - 1]) {
            // 末尾の空要素を除去(しておかないと結合時に余分に / が挟まる)
            baseParts = baseParts.slice(0, -1);
        }
        var urlParts = url.split("/");
        if (0 <= urlParts[0].indexOf(":")) {
            //  絶対パスなので base 側は全て破棄
            baseParts = [];
        }
        else {
            if ("" === urlParts[0]) {
                urlParts = urlParts.slice(1);
                if ("" === urlParts[0]) {
                    //  プロトコルだけ利用
                    baseParts = baseParts.slice(0, 1);
                }
                else {
                    //  サーバー名まで利用
                    baseParts = baseParts.slice(0, 3);
                }
            }
            else {
                while (true) {
                    if ("." === urlParts[0]) {
                        urlParts = urlParts.slice(1);
                        continue;
                    }
                    if (".." === urlParts[0]) {
                        urlParts = urlParts.slice(1);
                        if (4 <= baseParts.length) {
                            baseParts = baseParts.slice(0, -1);
                        }
                        continue;
                    }
                    break;
                }
            }
        }
        return baseParts.concat(urlParts).join("/");
    };
    var evil = {
        unresolved: [],
        modules: {},
        mapping: {},
        module: {
            registerMapping: function (path, mapping) { return mapping.forEach(function (i) { return evil.mapping[i] = path; }); },
            load: function (path, mapping) { return __awaiter(_this, void 0, void 0, function () {
                var absolutePath, result, _a, _b, absolutePath, result;
                return __generator(this, function (_c) {
                    switch (_c.label) {
                        case 0:
                            if (!/\.json(\?.*)?$/i.test(path)) return [3 /*break*/, 2];
                            if (mapping) {
                                evil.module.registerMapping(path, mapping);
                            }
                            absolutePath = makeAbsoluteUrl(path);
                            if (config.log.load) {
                                console.log("evil-commonjs: load(\"".concat(absolutePath, "\", ").concat(JSON.stringify(mapping), ")"));
                            }
                            _a = evil.modules;
                            _b = absolutePath;
                            return [4 /*yield*/, loadJsonRaw(absolutePath)];
                        case 1:
                            result = _a[_b] = _c.sent();
                            window.module.pauseCapture();
                            return [2 /*return*/, result];
                        case 2:
                            absolutePath = makeAbsoluteUrl(path);
                            _c.label = 3;
                        case 3:
                            _c.trys.push([3, , 5, 6]);
                            pathStack.push(absolutePath);
                            window.module.readyToCapture(absolutePath);
                            if (config.log.load) {
                                console.log("evil-commonjs: load(\"".concat(absolutePath, "\", ").concat(JSON.stringify(mapping), ")"));
                            }
                            return [4 /*yield*/, loadScript(absolutePath)];
                        case 4:
                            _c.sent();
                            return [3 /*break*/, 6];
                        case 5:
                            pathStack.pop();
                            return [7 /*endfinally*/];
                        case 6:
                            result = evil.module.capture(path, mapping);
                            return [2 /*return*/, result];
                    }
                });
            }); },
            sequentialLoad: function (map) { return __awaiter(_this, void 0, void 0, function () {
                var result, _a, _b, _c, _i, i, _d, _e;
                return __generator(this, function (_f) {
                    switch (_f.label) {
                        case 0:
                            result = [];
                            _a = map;
                            _b = [];
                            for (_c in _a)
                                _b.push(_c);
                            _i = 0;
                            _f.label = 1;
                        case 1:
                            if (!(_i < _b.length)) return [3 /*break*/, 4];
                            _c = _b[_i];
                            if (!(_c in _a)) return [3 /*break*/, 3];
                            i = _c;
                            _e = (_d = result).push;
                            return [4 /*yield*/, evil.module.load(map[i].path, map[i].mapping)];
                        case 2:
                            _e.apply(_d, [_f.sent()]);
                            _f.label = 3;
                        case 3:
                            _i++;
                            return [3 /*break*/, 1];
                        case 4: return [2 /*return*/, result];
                    }
                });
            }); },
            capture: function (path, mapping) {
                if (mapping) {
                    evil.module.registerMapping(path, mapping);
                }
                var absolutePath = makeAbsoluteUrl(path);
                window.module.exports.default = window.module.exports.default || window.module.exports;
                var result = evil.modules[absolutePath] = window.module.exports;
                window.module.pauseCapture();
                evil.unresolved = evil.unresolved.filter(function (i) { return i !== absolutePath; });
                return result;
            },
            readyToCapture: function (path) {
                if (config.log.readyToCapture) {
                    console.log("readyToCapture(\"".concat(path, "\")"));
                }
                window.module.exports = window.exports = {};
                if (path) {
                    var absolutePath = makeAbsoluteUrl(path);
                    if (evil.modules[absolutePath]) {
                        window.module.exports = window.exports = evil.modules[absolutePath];
                    }
                }
            },
            pauseCapture: function () { return window.exports = undefined; },
            exports: {},
        },
    };
    var resolveMapping = function (path) {
        return evil.mapping[path];
    };
    //const gThis = globalThis;
    var gThis = ((_a = self !== null && self !== void 0 ? self : window) !== null && _a !== void 0 ? _a : global);
    try {
        evilCommonjsConfig;
    }
    catch (_l) {
        evilCommonjsConfig = undefined;
    }
    var config = {
        log: {
            config: true === ((_b = evilCommonjsConfig === null || evilCommonjsConfig === void 0 ? void 0 : evilCommonjsConfig.log) === null || _b === void 0 ? void 0 : _b.config),
            load: false !== ((_c = evilCommonjsConfig === null || evilCommonjsConfig === void 0 ? void 0 : evilCommonjsConfig.log) === null || _c === void 0 ? void 0 : _c.load),
            define: false !== ((_d = evilCommonjsConfig === null || evilCommonjsConfig === void 0 ? void 0 : evilCommonjsConfig.log) === null || _d === void 0 ? void 0 : _d.define),
            readyToCapture: false !== ((_e = evilCommonjsConfig === null || evilCommonjsConfig === void 0 ? void 0 : evilCommonjsConfig.log) === null || _e === void 0 ? void 0 : _e.readyToCapture),
            results: true === ((_f = evilCommonjsConfig === null || evilCommonjsConfig === void 0 ? void 0 : evilCommonjsConfig.log) === null || _f === void 0 ? void 0 : _f.results),
        },
        loadingTimeout: "number" === typeof (evilCommonjsConfig === null || evilCommonjsConfig === void 0 ? void 0 : evilCommonjsConfig.loadingTimeout) ? evilCommonjsConfig.loadingTimeout : 1500,
    };
    try {
        var urlConfig = (_k = (_j = (_h = (_g = location.href
            .split("#")[0]
            .split("?")[1]) === null || _g === void 0 ? void 0 : _g.split("&")) === null || _h === void 0 ? void 0 : _h.filter(function (i) { return i.startsWith("evil-commonjs="); })) === null || _j === void 0 ? void 0 : _j.map(function (i) { return JSON.parse(decodeURIComponent(i.substring("evil-commonjs=".length))); })) === null || _k === void 0 ? void 0 : _k[0];
        if (urlConfig) {
            if ("object" === typeof urlConfig) {
                if ("log" in urlConfig) {
                    if ("object" === typeof urlConfig["log"]) {
                        var urlConfigLog = urlConfig["log"];
                        if ("config" in urlConfigLog && "boolean" === typeof urlConfigLog["config"]) {
                            config.log.config = urlConfigLog["config"];
                        }
                        if ("load" in urlConfigLog && "boolean" === typeof urlConfigLog["load"]) {
                            config.log.load = urlConfigLog["load"];
                        }
                        if ("define" in urlConfigLog && "boolean" === typeof urlConfigLog["define"]) {
                            config.log.define = urlConfigLog["define"];
                        }
                        if ("results" in urlConfigLog && "boolean" === typeof urlConfigLog["results"]) {
                            config.log.results = urlConfigLog["results"];
                        }
                    }
                }
                if ("loadingTimeout" in urlConfig && "number" === typeof urlConfig["loadingTimeout"]) {
                    config.loadingTimeout = urlConfig["loadingTimeout"];
                }
            }
        }
    }
    catch (err) {
        console.error(err);
    }
    if (config.log.config) {
        console.log("evil-commonjs: evilCommonjsConfig: ".concat(JSON.stringify(config)));
    }
    gThis.require = function (path) {
        var _a;
        switch (path) {
            case "require":
                return window.require;
            case "exports":
                return evil.module.exports;
            default:
                var absolutePath = makeAbsoluteUrl(path);
                var result = (_a = evil.modules[absolutePath]) !== null && _a !== void 0 ? _a : evil.modules[path];
                if (!result) {
                    console.log("evil-commonjs: require(\"".concat(path, "\") -> \"").concat(absolutePath, "\""), getCurrentPath(), resolveMapping(path));
                    result = evil.modules[absolutePath] = {};
                    evil.unresolved.push(absolutePath);
                }
                return result;
        }
    };
    gThis.define = function (path, requires, content) {
        var absolutePath = makeAbsoluteUrl(path);
        if (evil.modules[absolutePath]) {
            if (config.log.define) {
                console.log("evil-commonjs: \"".concat(absolutePath, "\" is already defined!"));
            }
        }
        else {
            if (config.log.define) {
                console.log("evil-commonjs: define(\"".concat(absolutePath, "\", ").concat(JSON.stringify(requires), ", ...)"));
            }
            if (/\.json(\?.*)?$/i.test(path) || "function" !== typeof content) {
                return evil.modules[absolutePath] = content;
            }
            else {
                evil.module.readyToCapture(absolutePath);
                content.apply(null, requires.map(function (i) { return gThis.require(i); }));
                evil.module.capture(absolutePath);
            }
        }
    };
    setTimeout(function () {
        if (0 < evil.unresolved.length) {
            console.error("evil-commonjs: unresoled modules: ".concat(JSON.stringify(evil.unresolved)));
            // console.error(`"${path}" is not found! require() of evil-commonjs need to load() in advance.`);
            console.error("evil-commonjs: module mapping: ".concat(JSON.stringify(evil.mapping)));
            console.error("evil-commonjs: loaded modules: ".concat(JSON.stringify(Object.keys(evil.modules))));
            console.error(evil.modules);
        }
        else {
            if (config.log.results) {
                console.log("evil-commonjs: everything is OK!");
                console.log("evil-commonjs: module mapping: ".concat(JSON.stringify(evil.mapping)));
                console.log("evil-commonjs: loaded modules: ".concat(JSON.stringify(Object.keys(evil.modules))));
                console.log(evil.modules);
            }
        }
    }, config.loadingTimeout);
    window.module = evil.module;
})();
//# sourceMappingURL=evil-commonjs/index.js.map
var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {
    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {
        if (ar || !(i in from)) {
            if (!ar) ar = Array.prototype.slice.call(from, 0, i);
            ar[i] = from[i];
        }
    }
    return to.concat(ar || Array.prototype.slice.call(from));
};
define("evil-type.ts/common/evil-type", ["require", "exports"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.EvilType = void 0;
    // Original: https://github.com/wraith13/evil-type.ts/blob/master/common/evil-type.ts
    // License: BSL-1.0 ( https://github.com/wraith13/evil-type.ts/blob/master/LICENSE_1_0.txt )
    var EvilType;
    (function (EvilType) {
        EvilType.comparer = function () {
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i] = arguments[_i];
            }
            return function (a, b) {
                for (var i = 0; i < args.length; ++i) {
                    var focus_1 = args[i];
                    var af = focus_1(a);
                    var bf = focus_1(b);
                    if (af < bf) {
                        return -1;
                    }
                    if (bf < af) {
                        return 1;
                    }
                }
                return 0;
            };
        };
        EvilType.lazy = function (invoker) {
            return (function () {
                var args = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                    args[_i] = arguments[_i];
                }
                return invoker().apply(void 0, args);
            });
        };
        var Error;
        (function (Error) {
            Error.makeListener = function (path) {
                if (path === void 0) { path = ""; }
                return ({
                    path: path,
                    matchRate: {},
                    errors: [],
                });
            };
            Error.nextListener = function (name, listner) {
                return (listner ?
                    {
                        path: Error.makePath(listner.path, name),
                        matchRate: listner.matchRate,
                        errors: listner.errors,
                    } :
                    undefined);
            };
            Error.makePath = function (path, name) {
                var base = path.includes("#") ? path : "".concat(path, "#");
                var separator = base.endsWith("#") || "string" !== typeof name ? "" : ".";
                var tail = "string" === typeof name ? name : "[".concat(name, "]");
                return base + separator + tail;
            };
            Error.getPathDepth = function (path) {
                var valuePath = path.replace(/[^#]*#/, "#").replace(/\[(\d+)\]/g, ".$1");
                return valuePath.split(/[#\.]/).filter(function (i) { return 0 < i.length; }).length;
            };
            Error.getType = function (isType) {
                var transactionListner = Error.makeListener();
                isType(undefined, transactionListner);
                return transactionListner.errors
                    .map(function (i) { return i.requiredType.split(" | "); })
                    .reduce(function (a, b) { return __spreadArray(__spreadArray([], a, true), b, true); }, [])
                    .filter(function (i, ix, list) { return ix === list.indexOf(i); });
            };
            Error.isMtached = function (matchRate) { return true === matchRate; };
            Error.matchRateToNumber = function (matchRate) {
                switch (matchRate) {
                    case false:
                        return 0;
                    case true:
                        return 1;
                    default:
                        return matchRate;
                }
            };
            Error.setMatchRate = function (listner, matchRate) {
                if (listner) {
                    listner.matchRate[listner.path] = matchRate;
                }
                return Error.isMtached(matchRate);
            };
            Error.getMatchRate = function (listner, path) {
                if (path === void 0) { path = listner.path; }
                if (path in listner.matchRate) {
                    return listner.matchRate[path];
                }
                return Error.calculateMatchRate(listner, path);
            };
            Error.calculateMatchRate = function (listner, path) {
                if (path === void 0) { path = listner.path; }
                var depth = Error.getPathDepth(path);
                var childrenKeys = Object.keys(listner.matchRate)
                    .filter(function (i) { return 0 === i.indexOf(path) && Error.getPathDepth(i) === depth + 1; });
                var length = childrenKeys.length;
                var sum = childrenKeys
                    .map(function (i) { return listner.matchRate[i]; })
                    .map(function (i) { return Error.matchRateToNumber(i); })
                    .reduce(function (a, b) { return a + b; }, 0.0);
                var result = 0 < length ? sum / length : true;
                if (true === result || 1.0 <= result) {
                    console.error("🦋 FIXME: \"MatchWithErrors\": " + JSON.stringify({ sum: sum, length: length, result: result, listner: listner }));
                }
                return listner.matchRate[path] = result;
            };
            Error.setMatch = function (listner) {
                if (listner) {
                    var paths = Object.keys(listner.matchRate)
                        .filter(function (path) { return 0 === path.indexOf(listner.path); });
                    if (paths.every(function (path) { return Error.isMtached(listner.matchRate[path]); })) {
                        paths.forEach(function (path) { return delete listner.matchRate[path]; });
                    }
                }
                Error.setMatchRate(listner, true);
            };
            Error.raiseError = function (listner, requiredType, actualValue) {
                if (listner) {
                    Error.setMatchRate(listner, false);
                    listner.errors.push({
                        type: "solid",
                        path: listner.path,
                        requiredType: "string" === typeof requiredType ? requiredType : requiredType(),
                        actualValue: Error.valueToString(actualValue),
                    });
                }
                return false;
            };
            Error.orErros = function (listner, modulus, errors, fullErrors) {
                var _a;
                var paths = errors.map(function (i) { return i.path; }).filter(function (i, ix, list) { return ix === list.indexOf(i); });
                (_a = listner.errors).push.apply(_a, paths.map(function (path) {
                    return ({
                        type: modulus <= fullErrors.filter(function (i) { return "solid" === i.type && i.path === path; }).length ?
                            "solid" :
                            "fragment",
                        path: path,
                        requiredType: errors
                            .filter(function (i) { return i.path === path; })
                            .map(function (i) { return i.requiredType; })
                            .map(function (i) { return i.split(" | "); })
                            .reduce(function (a, b) { return __spreadArray(__spreadArray([], a, true), b, true); }, [])
                            .filter(function (i, ix, list) { return ix === list.indexOf(i); })
                            .join(" | "),
                        actualValue: errors.filter(function (i) { return i.path === path; }).map(function (i) { return i.actualValue; })[0],
                    });
                }));
            };
            Error.andErros = function (listner, errors) {
                var _a;
                var paths = errors.map(function (i) { return i.path; }).filter(function (i, ix, list) { return ix === list.indexOf(i); });
                (_a = listner.errors).push.apply(_a, paths.map(function (path) {
                    return ({
                        type: errors.some(function (i) { return "solid" === i.type && i.path === path; }) ?
                            "solid" :
                            "fragment",
                        path: path,
                        requiredType: errors
                            .filter(function (i) { return i.path === path; })
                            .map(function (i) { return i.requiredType; })
                            .map(function (i) { return i.split(" & "); })
                            .reduce(function (a, b) { return __spreadArray(__spreadArray([], a, true), b, true); }, [])
                            .filter(function (i, ix, list) { return ix === list.indexOf(i); })
                            .join(" & "),
                        actualValue: errors.filter(function (i) { return i.path === path; }).map(function (i) { return i.actualValue; })[0],
                    });
                }));
            };
            Error.valueToString = function (value) {
                return undefined === value ? "undefined" : JSON.stringify(value);
            };
            Error.withErrorHandling = function (isMatchType, listner, requiredType, actualValue) {
                if (listner) {
                    if (isMatchType) {
                        Error.setMatch(listner);
                    }
                    else {
                        Error.raiseError(listner, requiredType, actualValue);
                    }
                }
                return isMatchType;
            };
        })(Error = EvilType.Error || (EvilType.Error = {}));
        var Validator;
        (function (Validator) {
            Validator.makeErrorListener = Error.makeListener;
            Validator.isJust = function (target) { return null !== target && "object" === typeof target ?
                function (value, listner) {
                    return Error.withErrorHandling(JSON.stringify(target) === JSON.stringify(value), listner, function () { return Error.valueToString(target); }, value);
                } :
                function (value, listner) {
                    return Error.withErrorHandling(target === value, listner, function () { return Error.valueToString(target); }, value);
                }; };
            Validator.isNever = function (value, listner) {
                return Error.withErrorHandling(false, listner, "never", value);
            };
            Validator.isUndefined = Validator.isJust(undefined);
            Validator.isUnknown = function (_value, _listner) { return true; };
            Validator.isAny = function (_value, _listner) { return true; };
            Validator.isNull = Validator.isJust(null);
            Validator.isBoolean = function (value, listner) {
                return Error.withErrorHandling("boolean" === typeof value, listner, "boolean", value);
            };
            Validator.isInteger = function (value, listner) {
                return Error.withErrorHandling(Number.isInteger(value), listner, "integer", value);
            };
            Validator.isSafeInteger = function (value, listner) {
                return Error.withErrorHandling(Number.isSafeInteger(value), listner, "safe-integer", value);
            };
            Validator.isDetailedInteger = function (data, safeInteger) {
                var base = "safe" === safeInteger ? Validator.isSafeInteger : Validator.isInteger;
                if ([data.minimum, data.exclusiveMinimum, data.maximum, data.exclusiveMaximum, data.multipleOf].every(function (i) { return undefined === i; })) {
                    return base;
                }
                else {
                    var result = function (value, listner) { return Error.withErrorHandling(base(value) &&
                        (undefined === data.minimum || data.minimum <= value) &&
                        (undefined === data.exclusiveMinimum || data.exclusiveMinimum < value) &&
                        (undefined === data.maximum || value <= data.maximum) &&
                        (undefined === data.exclusiveMaximum || value < data.exclusiveMaximum) &&
                        (undefined === data.multipleOf || 0 === value % data.multipleOf), listner, function () {
                        var details = [];
                        if (undefined !== data.minimum) {
                            details.push("minimum:".concat(data.minimum));
                        }
                        if (undefined !== data.exclusiveMinimum) {
                            details.push("exclusiveMinimum:".concat(data.exclusiveMinimum));
                        }
                        if (undefined !== data.maximum) {
                            details.push("maximum:".concat(data.maximum));
                        }
                        if (undefined !== data.exclusiveMaximum) {
                            details.push("exclusiveMaximum:".concat(data.exclusiveMaximum));
                        }
                        if (undefined !== data.multipleOf) {
                            details.push("multipleOf:".concat(data.multipleOf));
                        }
                        return "".concat("safe" === safeInteger ? "safe-integer" : "integer", "(").concat(details.join(","), ")");
                    }, value); };
                    return result;
                }
            };
            Validator.isNumber = function (value, listner) {
                return Error.withErrorHandling("number" === typeof value, listner, "number", value);
            };
            Validator.isSafeNumber = function (value, listner) {
                return Error.withErrorHandling(Number.isFinite(value), listner, "safe-number", value);
            };
            Validator.isDetailedNumber = function (data, safeNumber) {
                var base = "safe" === safeNumber ? Validator.isSafeNumber : Validator.isNumber;
                if ([data.minimum, data.exclusiveMinimum, data.maximum, data.exclusiveMaximum, data.multipleOf].every(function (i) { return undefined === i; })) {
                    return base;
                }
                else {
                    var result = function (value, listner) { return Error.withErrorHandling(base(value) &&
                        (undefined === data.minimum || data.minimum <= value) &&
                        (undefined === data.exclusiveMinimum || data.exclusiveMinimum < value) &&
                        (undefined === data.maximum || value <= data.maximum) &&
                        (undefined === data.exclusiveMaximum || value < data.exclusiveMaximum) &&
                        (undefined === data.multipleOf || 0 === value % data.multipleOf), listner, function () {
                        var details = [];
                        if (undefined !== data.minimum) {
                            details.push("minimum:".concat(data.minimum));
                        }
                        if (undefined !== data.exclusiveMinimum) {
                            details.push("exclusiveMinimum:".concat(data.exclusiveMinimum));
                        }
                        if (undefined !== data.maximum) {
                            details.push("maximum:".concat(data.maximum));
                        }
                        if (undefined !== data.exclusiveMaximum) {
                            details.push("exclusiveMaximum:".concat(data.exclusiveMaximum));
                        }
                        if (undefined !== data.multipleOf) {
                            details.push("multipleOf:".concat(data.multipleOf));
                        }
                        return "".concat("safe" === safeNumber ? "safe-number" : "number", "(").concat(details.join(","), ")");
                    }, value); };
                    return result;
                }
            };
            Validator.isString = function (value, listner) {
                return Error.withErrorHandling("string" === typeof value, listner, "string", value);
            };
            Validator.makeStringTypeName = function (data) {
                var details = [];
                if (undefined !== data.minLength) {
                    details.push("minLength:".concat(data.minLength));
                }
                if (undefined !== data.maxLength) {
                    details.push("maxLength:".concat(data.maxLength));
                }
                if (undefined !== data.format) {
                    details.push("format:".concat(data.format));
                }
                else if (undefined !== data.pattern) {
                    details.push("pattern:".concat(data.pattern));
                }
                if (undefined !== data.regexpFlags) {
                    details.push("regexpFlags:".concat(data.regexpFlags));
                }
                return "string(".concat(details.join(","), ")");
            };
            Validator.regexpTest = function (pattern, flags, text) {
                switch (pattern) {
                    case "^[[:regex:]]$":
                        try {
                            new RegExp(text, flags);
                            return true;
                        }
                        catch (_a) {
                            return false;
                        }
                    default:
                        return new RegExp(pattern, flags).test(text);
                }
            };
            Validator.isDetailedString = function (data, regexpFlags) {
                if ([data.minLength, data.maxLength, data.pattern, data.format].every(function (i) { return undefined === i; })) {
                    return Validator.isString;
                }
                var pattern = data.pattern;
                var result = function (value, listner) {
                    var _a, _b, _c;
                    return Error.withErrorHandling("string" === typeof value &&
                        (undefined === data.minLength || data.minLength <= value.length) &&
                        (undefined === data.maxLength || value.length <= data.maxLength) &&
                        (undefined === pattern || ((_a = data.regexpTest) !== null && _a !== void 0 ? _a : Validator.regexpTest)(pattern, (_c = (_b = data.regexpFlags) !== null && _b !== void 0 ? _b : regexpFlags) !== null && _c !== void 0 ? _c : "u", value)), listner, function () { return Validator.makeStringTypeName(data); }, value);
                };
                return result;
            };
            Validator.isObject = function (value) {
                return null !== value && "object" === typeof value && !Array.isArray(value);
            };
            Validator.isEnum = function (list) {
                return function (value, listner) {
                    return Error.withErrorHandling(list.includes(value), listner, function () { return list.map(function (i) { return Error.valueToString(i); }).join(" | "); }, value);
                };
            };
            Validator.isUniqueItems = function (list) {
                return list.map(function (i) { return JSON.stringify(i); }).every(function (i, ix, list) { return ix === list.indexOf(i); });
            };
            Validator.makeArrayTypeName = function (data) {
                var details = [];
                if (undefined !== (data === null || data === void 0 ? void 0 : data.minItems)) {
                    details.push("minItems:".concat(data.minItems));
                }
                if (undefined !== (data === null || data === void 0 ? void 0 : data.maxItems)) {
                    details.push("maxItems:".concat(data.maxItems));
                }
                if (true === (data === null || data === void 0 ? void 0 : data.uniqueItems)) {
                    details.push("uniqueItems:".concat(data.uniqueItems));
                }
                return details.length <= 0 ? "array" : "array(".concat(details.join(","), ")");
            };
            Validator.isArray = function (isType, data) {
                return function (value, listner) {
                    if (Array.isArray(value) &&
                        (undefined === (data === null || data === void 0 ? void 0 : data.minItems) || data.minItems <= value.length) &&
                        (undefined === (data === null || data === void 0 ? void 0 : data.maxItems) || value.length <= data.maxItems) &&
                        (true !== (data === null || data === void 0 ? void 0 : data.uniqueItems) || Validator.isUniqueItems(value))) {
                        var result = value.map(function (i) { return isType(i, listner); }).every(function (i) { return i; });
                        if (listner) {
                            if (result) {
                                Error.setMatch(listner);
                            }
                            else {
                                Error.calculateMatchRate(listner);
                            }
                        }
                        return result;
                    }
                    else {
                        return undefined !== listner && Error.raiseError(listner, function () { return Validator.makeArrayTypeName(data); }, value);
                    }
                };
            };
            Validator.makeOrTypeNameFromIsTypeList = function () {
                var isTypeList = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                    isTypeList[_i] = arguments[_i];
                }
                return isTypeList.map(function (i) { return Error.getType(i); })
                    .reduce(function (a, b) { return __spreadArray(__spreadArray([], a, true), b, true); }, [])
                    .filter(function (i, ix, list) { return ix === list.indexOf(i); });
            };
            Validator.getBestMatchErrors = function (listeners) {
                return listeners.map(function (listener) {
                    return ({
                        listener: listener,
                        matchRate: Error.getMatchRate(listener),
                    });
                })
                    .sort(EvilType.comparer(function (i) { return -Error.matchRateToNumber(i.matchRate); }))
                    .filter(function (i, _ix, list) { return i.matchRate === list[0].matchRate; })
                    .map(function (i) { return i.listener; });
            };
            Validator.isOr = function () {
                var isTypeList = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                    isTypeList[_i] = arguments[_i];
                }
                return function (value, listner) {
                    if (listner) {
                        var resultList = isTypeList.map(function (i) {
                            var transactionListner = Error.makeListener(listner.path);
                            var result = {
                                transactionListner: transactionListner,
                                result: i(value, transactionListner),
                            };
                            return result;
                        });
                        var success = resultList.filter(function (i) { return i.result; })[0];
                        var result = Boolean(success);
                        if (result) {
                            Error.setMatch(listner);
                        }
                        else {
                            var requiredType = Validator.makeOrTypeNameFromIsTypeList.apply(void 0, isTypeList);
                            if ((Validator.isObject(value) && requiredType.includes("object")) || (Array.isArray(value) && requiredType.includes("array"))) {
                                var bestMatchErrors = Validator.getBestMatchErrors(resultList.map(function (i) { return i.transactionListner; }));
                                var errors = bestMatchErrors.map(function (i) { return i.errors; }).reduce(function (a, b) { return __spreadArray(__spreadArray([], a, true), b, true); }, []);
                                var fullErrors = resultList.map(function (i) { return i.transactionListner; }).map(function (i) { return i.errors; }).reduce(function (a, b) { return __spreadArray(__spreadArray([], a, true), b, true); }, []);
                                Error.orErros(listner, isTypeList.length, errors, fullErrors);
                                if (errors.length <= 0) {
                                    console.error("🦋 FIXME: \"UnmatchWithoutErrors\": " + JSON.stringify(resultList));
                                }
                                if (0 < bestMatchErrors.length) {
                                    Object.entries(bestMatchErrors[0].matchRate).forEach(function (kv) { return listner.matchRate[kv[0]] = kv[1]; });
                                }
                            }
                            else {
                                Error.raiseError(listner, requiredType.join(" | "), value);
                            }
                        }
                        return result;
                    }
                    else {
                        return isTypeList.some(function (i) { return i(value); });
                    }
                };
            };
            Validator.isAnd = function () {
                var isTypeList = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                    isTypeList[_i] = arguments[_i];
                }
                return function (value, listner) {
                    if (listner) {
                        var resultList = isTypeList.map(function (i) {
                            var transactionListner = Error.makeListener(listner.path);
                            var result = {
                                transactionListner: transactionListner,
                                result: i(value, transactionListner),
                            };
                            return result;
                        });
                        var result = resultList.every(function (i) { return i.result; });
                        if (result) {
                            Error.setMatch(listner);
                        }
                        else {
                            var requiredType = Validator.makeOrTypeNameFromIsTypeList.apply(void 0, isTypeList);
                            if ((Validator.isObject(value) && requiredType.includes("object")) || (Array.isArray(value) && requiredType.includes("array"))) {
                                var transactionListners_1 = resultList.map(function (i) { return i.transactionListner; });
                                var errors = transactionListners_1.map(function (i) { return i.errors; }).reduce(function (a, b) { return __spreadArray(__spreadArray([], a, true), b, true); }, []);
                                Error.andErros(listner, errors);
                                if (errors.length <= 0) {
                                    console.error("🦋 FIXME: \"UnmatchWithoutErrors\": " + JSON.stringify(resultList));
                                }
                                if (0 < transactionListners_1.length) {
                                    var paths = transactionListners_1
                                        .map(function (i) { return Object.keys(i.matchRate); })
                                        .reduce(function (a, b) { return __spreadArray(__spreadArray([], a, true), b, true); }, [])
                                        .filter(function (i, ix, list) { return ix === list.indexOf(i); });
                                    paths.forEach(function (path) {
                                        var matchRates = transactionListners_1.map(function (i) { return i.matchRate[path]; })
                                            .filter(function (i) { return undefined !== i; });
                                        if (matchRates.every(function (i) { return true === i; })) {
                                            listner.matchRate[path] = true;
                                        }
                                        else {
                                            listner.matchRate[path] = matchRates
                                                .map(function (i) { return Error.matchRateToNumber(i); })
                                                .reduce(function (a, b) { return a + b; }, 0)
                                                / matchRates.length;
                                        }
                                    });
                                }
                            }
                            else {
                                Error.raiseError(listner, requiredType.join(" & "), value);
                            }
                        }
                        return result;
                    }
                    else {
                        return isTypeList.some(function (i) { return i(value); });
                    }
                };
            };
            Validator.isNeverTypeGuard = function (value, listner) {
                return Validator.isSpecificObject({
                    $type: Validator.isJust("never-type-guard"),
                })(value, listner);
            };
            Validator.isNeverMemberType = function (value, member, _neverTypeGuard, listner) {
                return !(member in value) || Validator.isNever(value[member], listner);
            };
            Validator.isOptionalTypeGuard = function (value, listner) {
                return Validator.isSpecificObject({
                    $type: Validator.isJust("optional-type-guard"),
                    isType: function (value, listner) {
                        return "function" === typeof value || (null !== value && "object" === typeof value) || (undefined !== listner && Error.raiseError(listner, "IsType<unknown> | ObjectValidator<unknown>", value));
                    },
                })(value, listner);
            };
            Validator.makeOptionalTypeGuard = function (isType) {
                return ({
                    $type: "optional-type-guard",
                    isType: isType,
                });
            };
            Validator.invokeIsType = function (isType) {
                return "function" === typeof isType ? isType : Validator.isSpecificObject(isType);
            };
            Validator.isOptional = Validator.makeOptionalTypeGuard;
            Validator.isOptionalMemberType = function (value, member, optionalTypeGuard, listner) {
                var result = !(member in value) || Validator.invokeIsType(optionalTypeGuard.isType)(value[member], listner);
                if (!result && listner) {
                    var error = listner.errors.filter(function (i) { return i.path === listner.path; })[0];
                    if (error) {
                        error.requiredType = "never | " + error.requiredType;
                    }
                    else {
                        // Not wrong, but noisy!
                        // listner.errors.filter(i => 0 === i.path.indexOf(listner.path) && "fragment" !== i.type).forEach(i => i.type = "fragment");
                        // listner.errors.push
                        // ({
                        //     type: "fragment",
                        //     path: listner.path,
                        //     requiredType: "never",
                        //     actualValue: Error.valueToString((value as ObjectType)[member]),
                        // });
                    }
                }
                return result;
            };
            Validator.isMemberType = function (value, member, isType, listner) {
                return Validator.isNeverTypeGuard(isType) ?
                    Validator.isNeverMemberType(value, member, isType, listner) :
                    Validator.isOptionalTypeGuard(isType) ?
                        Validator.isOptionalMemberType(value, member, isType, listner) :
                        Validator.invokeIsType(isType)(value[member], listner);
            };
            Validator.mergeObjectValidator = function (target) {
                var sources = [];
                for (var _i = 1; _i < arguments.length; _i++) {
                    sources[_i - 1] = arguments[_i];
                }
                return Object.assign.apply(Object, __spreadArray([{}, target], sources, true));
            };
            Validator.isSpecificObject = function (memberValidator, options) {
                return function (value, listner) {
                    if (Validator.isObject(value)) {
                        var result = Object.entries("function" === typeof memberValidator ? memberValidator() : memberValidator).map(function (kv) { return Validator.isMemberType(value, kv[0], kv[1], Error.nextListener(kv[0], listner)); })
                            .every(function (i) { return i; });
                        if (false === (options === null || options === void 0 ? void 0 : options.additionalProperties)) {
                            var regularKeys_1 = Object.keys(memberValidator);
                            var additionalKeys = Object.keys(value)
                                .filter(function (key) { return !regularKeys_1.includes(key); });
                            if (additionalKeys.some(function (_) { return true; })) {
                                additionalKeys.map(function (key) { return Error.raiseError(Error.nextListener(key, listner), "never", value[key]); });
                                result = false;
                            }
                        }
                        if (listner) {
                            if (result) {
                                Error.setMatch(listner);
                            }
                            else {
                                Error.calculateMatchRate(listner);
                            }
                        }
                        return result;
                    }
                    else {
                        return undefined !== listner && Error.raiseError(listner, "object", value);
                    }
                };
            };
            Validator.isDictionaryObject = function (isType, keys, options) {
                return function (value, listner) {
                    if (Validator.isObject(value)) {
                        var result = undefined === keys ?
                            Object.entries(value).map(function (kv) { return isType(kv[1], Error.nextListener(kv[0], listner)); }).every(function (i) { return i; }) :
                            keys.map(function (key) { return isType(value, Error.nextListener(key, listner)); }).every(function (i) { return i; });
                        if (undefined !== keys && false === (options === null || options === void 0 ? void 0 : options.additionalProperties)) {
                            var additionalKeys = Object.keys(value)
                                .filter(function (key) { return !keys.includes(key); });
                            if (additionalKeys.some(function (_) { return true; })) {
                                additionalKeys.map(function (key) { return Error.raiseError(Error.nextListener(key, listner), "never", value[key]); });
                                result = false;
                            }
                        }
                        if (listner) {
                            if (result) {
                                Error.setMatch(listner);
                            }
                            else {
                                Error.calculateMatchRate(listner);
                            }
                        }
                        return result;
                    }
                    else {
                        return undefined !== listner && Error.raiseError(listner, "object", value);
                    }
                };
            };
        })(Validator = EvilType.Validator || (EvilType.Validator = {}));
    })(EvilType || (exports.EvilType = EvilType = {}));
});
define("generated/type", ["require", "exports", "evil-type.ts/common/evil-type"], function (require, exports, evil_type_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Type = exports.EvilType = void 0;
    Object.defineProperty(exports, "EvilType", { enumerable: true, get: function () { return evil_type_1.EvilType; } });
    var Type;
    (function (Type) {
        Type.isStyleReplaceModeType = evil_type_1.EvilType.Validator.isEnum(["auto", "disabled",
            "embedded", "rules"]);
        Type.isEvilTimerConfigType = evil_type_1.EvilType.lazy(function () { return evil_type_1.EvilType.Validator.isSpecificObject(Type.evilTimerConfigTypeValidatorObject, {
            additionalProperties: false
        }); });
        Type.evilTimerConfigTypeValidatorObject = ({ $schema: evil_type_1.EvilType.Validator.isOptional(evil_type_1.EvilType.Validator.isJust("https://raw.githubusercontent.com/wraith13/evil-timer.js/master/generated/schema.json#")), disabled: evil_type_1.EvilType.Validator.isOptional(evil_type_1.EvilType.Validator.isBoolean), debug: evil_type_1.EvilType.Validator.isOptional(evil_type_1.EvilType.Validator.isBoolean),
            disabledLoadMessage: evil_type_1.EvilType.Validator.isOptional(evil_type_1.EvilType.Validator.isBoolean), date: evil_type_1.EvilType.Validator.isOptional(evil_type_1.EvilType.Validator.isOr(evil_type_1.EvilType.Validator.isBoolean, evil_type_1.EvilType.Validator.isNumber, evil_type_1.EvilType.Validator.isString)), speed: evil_type_1.EvilType.Validator.isOptional(evil_type_1.EvilType.Validator.isNumber), pause: evil_type_1.EvilType.Validator.isOptional(evil_type_1.EvilType.Validator.isBoolean),
            styleReplaceMode: evil_type_1.EvilType.Validator.isOptional(Type.isStyleReplaceModeType), });
    })(Type || (exports.Type = Type = {}));
});
define("index", ["require", "exports", "generated/type"], function (require, exports, type_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.EvilTimer = void 0;
    var EvilTimer;
    (function (EvilTimer) {
        var _a, _b, _c, _d;
        EvilTimer.Type = type_1.Type;
        var gThis = ((_a = self !== null && self !== void 0 ? self : window) !== null && _a !== void 0 ? _a : global);
        var VanillaDate = Date;
        var vanillaSetTimeout = setTimeout;
        var vanillaSetInteral = setInterval;
        var vanillaRequestAnimationFrame = (window !== null && window !== void 0 ? window : {}).requestAnimationFrame;
        var dateMode = "evil";
        EvilTimer.setDateMode = function (mode) {
            switch (mode) {
                case "vanilla":
                case "evil":
                    dateMode = mode;
                    break;
                default:
                    console.error("setDateMode(".concat(JSON.stringify(mode), " as \"vanilla\" | \"evil\");"));
                    break;
            }
        };
        var styleReplaceMode = "disabled";
        var originalEmbeddedStyles = null;
        var originalStyleRules = null;
        // let originalStyleSheets:string[] = null;
        var speed = 1;
        var isRegularSpeed = function () { return 1 === speed; };
        var isPaused = false;
        var susppendedTasks = [];
        var ankerAt = {
            vanilla: 0,
            evil: 0,
            vanillaPerformance: 0,
            evilPerformance: 0,
        };
        EvilTimer.getVanillaNow = function () { return new VanillaDate().getTime(); };
        EvilTimer.getEvilNow = function () {
            return !isAnkered() ?
                EvilTimer.getVanillaNow() :
                ankerAt.evil + (isPaused ? 0 : (speed * (EvilTimer.getVanillaNow() - ankerAt.vanilla)));
        };
        EvilTimer.getVanillaPerformanceNow = function () { return performance.now(); };
        EvilTimer.getEvilPerformanceNow = function () {
            return !isAnkered() ?
                EvilTimer.getVanillaPerformanceNow() :
                ankerAt.evilPerformance + (isPaused ? 0 : (speed * (EvilTimer.getVanillaPerformanceNow() - ankerAt.vanillaPerformance)));
        };
        var isAnkered = function () { return 0 !== ankerAt.vanilla; };
        var setAnkerAt = function (evil, evilPerformance) { return ankerAt =
            {
                vanilla: EvilTimer.getVanillaNow(),
                evil: evil !== null && evil !== void 0 ? evil : EvilTimer.getEvilNow(),
                vanillaPerformance: EvilTimer.getVanillaPerformanceNow(),
                evilPerformance: evilPerformance !== null && evilPerformance !== void 0 ? evilPerformance : EvilTimer.getEvilPerformanceNow(),
            }; };
        var resetAnkerAt = function (vanilla, vanillaPerformance) {
            if (vanilla === void 0) { vanilla = isRegularSpeed() ? 0 : EvilTimer.getVanillaNow(); }
            if (vanillaPerformance === void 0) { vanillaPerformance = isRegularSpeed() ? 0 : EvilTimer.getVanillaPerformanceNow(); }
            return ankerAt =
                {
                    vanilla: vanilla,
                    evil: vanilla,
                    vanillaPerformance: vanillaPerformance,
                    evilPerformance: vanillaPerformance,
                };
        };
        /*
        remain for support to timezone and locale.
        class EvilDateBody
        {
            vanilla: Date;
            constructor();
            constructor(value: number | string);
            constructor(year: number, month: number, date?: number, hours?: number, minutes?: number, seconds?: number, ms?: number);
            constructor(year?: number | string, month?: number, date?: number, hours?: number, minutes?: number, seconds?: number, ms?: number)
            {
                if (undefined !== year)
                {
                    if ("number" === typeof year && undefined !== month)
                    {
                        this.vanilla = new VanillaDate(year, month, date, hours, minutes, seconds, ms);
                    }
                    else
                    {
                        this.vanilla = new VanillaDate(year);
                    }
                }
                else
                {
                    this.vanilla = new VanillaDate(getEvilNow());
                }
            }
            toString = () => this.vanilla.toString();
            toDateString = () => this.vanilla.toDateString();
            toTimeString = () => this.vanilla.toTimeString();
            toLocaleString = () => this.vanilla.toLocaleString();
            toLocaleDateString = () => this.vanilla.toLocaleDateString();
            toLocaleTimeString = () => this.vanilla.toLocaleTimeString();
            valueOf = () => this.vanilla.valueOf();
            getTime = () => this.vanilla.getTime();
            getFullYear = () => this.vanilla.getFullYear();
            getUTCFullYear = () => this.vanilla.getUTCFullYear();
            getMonth = () => this.vanilla.getMonth();
            getUTCMonth = () => this.vanilla.getUTCMonth();
            getDate = () => this.vanilla.getDate();
            getUTCDate = () => this.vanilla.getUTCDate();
            getDay = () => this.vanilla.getDay();
            getUTCDay = () => this.vanilla.getUTCDay();
            getHours = () => this.vanilla.getHours();
            getUTCHours = () => this.vanilla.getUTCHours();
            getMinutes = () => this.vanilla.getMinutes();
            getUTCMinutes = () => this.vanilla.getUTCMinutes();
            getSeconds = () => this.vanilla.getSeconds();
            getUTCSeconds = () => this.vanilla.getUTCSeconds();
            getMilliseconds = () => this.vanilla.getMilliseconds();
            getUTCMilliseconds = () => this.vanilla.getUTCMilliseconds();
            getTimezoneOffset = () => this.vanilla.getTimezoneOffset();
            setTime = (time: number) => this.vanilla.setTime(time);
            setMilliseconds = (ms: number) => this.vanilla.setMilliseconds(ms);
            setUTCMilliseconds = (ms: number) => this.vanilla.setUTCMilliseconds(ms);
            setSeconds = (sec: number, ms?: number) => this.vanilla.setSeconds(sec, ms);
            setUTCSeconds = (sec: number, ms?: number) => this.vanilla.setUTCSeconds(sec, ms);
            setMinutes = (min: number, sec?: number, ms?: number) => this.vanilla.setMinutes(min, sec, ms);
            setUTCMinutes = (min: number, sec?: number, ms?: number) => this.vanilla.setUTCMinutes(min, sec, ms);
            setHours = (hours: number, min?: number, sec?: number, ms?: number) => this.vanilla.setHours(hours, min, sec, ms);
            setUTCHours = (hours: number, min?: number, sec?: number, ms?: number) => this.vanilla.setUTCHours(hours, min, sec, ms);
            setDate = (date: number) => this.vanilla.setDate(date);
            setUTCDate = (date: number) => this.vanilla.setUTCDate(date);
            setMonth = (month: number, date?: number) => this.vanilla.setMonth(month, date);
            setUTCMonth = (month: number, date?: number) => this.vanilla.setUTCMonth(month, date);
            setFullYear = (year: number, month?: number, date?: number) => this.vanilla.setFullYear(year, month, date);
            setUTCFullYear = (year: number, month?: number, date?: number) => this.vanilla.setUTCFullYear(year, month, date);
            toUTCString = () => this.vanilla.toUTCString();
            toISOString = () => this.vanilla.toISOString();
            toJSON = (key?: any) => this.vanilla.toJSON(key);
            static parse = (s: string) => VanillaDate.parse(s);
            static UTC = (year: number, month: number, date?: number, hours?: number, minutes?: number, seconds?: number, ms?: number) => VanillaDate.UTC(year, month, date, hours, minutes, seconds, ms);
            static now = () => new EvilDateBody().getTime();
        }
        */
        EvilTimer.EvilDate = function _e() {
            var _newTarget = this && this instanceof _e ? this.constructor : void 0;
            var args = [];
            for (var _i = 0; _i < arguments.length; _i++) {
                args[_i] = arguments[_i];
            }
            if ("evil" === dateMode && isAnkered() && 0 === args.length) {
                return _newTarget ?
                    new VanillaDate(EvilTimer.getEvilNow()) :
                    new VanillaDate(EvilTimer.getEvilNow()).toString();
            }
            else {
                return _newTarget ? new (VanillaDate.bind.apply(VanillaDate, __spreadArray([void 0], args, false)))() : VanillaDate.apply(void 0, args);
            }
        };
        EvilTimer.EvilDate.parse = VanillaDate.parse;
        EvilTimer.EvilDate.UTC = VanillaDate.UTC;
        EvilTimer.EvilDate.now = EvilTimer.getEvilNow;
        EvilTimer.setDate = function (date) {
            if ("boolean" === typeof date) {
                EvilTimer.setDateMode(date ? "evil" : "vanilla");
            }
            else {
                EvilTimer.setDateMode("evil");
                setAnkerAt("number" === typeof date ? date :
                    "string" === typeof date ? VanillaDate.parse(date) :
                        date.getTime());
            }
        };
        EvilTimer.resetDate = function () { return resetAnkerAt(); };
        EvilTimer.restore = function () {
            EvilTimer.setSpeed(1);
            EvilTimer.unpause();
            resetAnkerAt();
        };
        EvilTimer.pause = function () {
            setAnkerAt();
            isPaused = true;
        };
        EvilTimer.unpause = function () {
            setAnkerAt();
            isPaused = false;
            EvilTimer.stepOut();
        };
        EvilTimer.step = function (count) {
            var _a;
            if (count === void 0) { count = 1; }
            for (var i = 0; i < count; ++i) {
                (_a = susppendedTasks.shift()) === null || _a === void 0 ? void 0 : _a();
            }
            return susppendedTasks.length;
        };
        EvilTimer.stepAll = function () {
            EvilTimer.step(susppendedTasks.length);
        };
        EvilTimer.stepOut = function () {
            while (0 < EvilTimer.step())
                ;
        };
        var styleTimerRegExp = /((?:animation|transition)(?:-duration|-delay)?\s*:)([\+\-0-9A-Za-z.\s]+);/gm;
        var hasTimer = function (css) { return styleTimerRegExp.test(css); };
        var replaceTimer = function (rate, css) { return css.replace(styleTimerRegExp, function (_m, p1, p2) { return "".concat(p1).concat(p2.replace(/([\+\-]?[0-9.]+)(m?s)/gm, function (_m, p1, p2) { return (parseFloat(p1) / Math.abs(rate)).toLocaleString("en") + p2; }), ";"); }); };
        var updateEmbeddedStyle = function (rate) {
            if (rate === void 0) { rate = speed; }
            var styles = Array.from(document.getElementsByTagName("style"));
            if (null === originalEmbeddedStyles) {
                originalEmbeddedStyles = styles.map(function (i) { return i.innerHTML; });
            }
            styles.forEach(function (i, ix) {
                var _a, _b;
                if (hasTimer((_a = originalEmbeddedStyles === null || originalEmbeddedStyles === void 0 ? void 0 : originalEmbeddedStyles[ix]) !== null && _a !== void 0 ? _a : "")) {
                    i.innerHTML = replaceTimer(rate, (_b = originalEmbeddedStyles === null || originalEmbeddedStyles === void 0 ? void 0 : originalEmbeddedStyles[ix]) !== null && _b !== void 0 ? _b : "");
                }
            });
        };
        var updateStyleRules = function (rate) {
            if (rate === void 0) { rate = speed; }
            var styles = Array.from(document.styleSheets);
            if (null === originalStyleRules) {
                originalStyleRules = styles.map(function (stylesheet) {
                    try {
                        var rules = Array.from(stylesheet.cssRules).map(function (rule) { return rule.cssText; });
                        if (0 < rules.filter(function (rule) { return hasTimer(rule !== null && rule !== void 0 ? rule : ""); }).length) {
                            return rules;
                        }
                    }
                    catch (_a) {
                        console.error("Can not read: ".concat(stylesheet.href));
                    }
                    return null;
                });
            }
            styles.forEach(function (stylesheet, ix) {
                var _a;
                if (null !== (originalStyleRules === null || originalStyleRules === void 0 ? void 0 : originalStyleRules[ix])) {
                    while (0 < stylesheet.cssRules.length) {
                        stylesheet.deleteRule(0);
                    }
                    (_a = originalStyleRules === null || originalStyleRules === void 0 ? void 0 : originalStyleRules[ix]) === null || _a === void 0 ? void 0 : _a.forEach(function (rule) { return stylesheet.insertRule(replaceTimer(rate, rule)); });
                }
            });
        };
        // const updateStyleSheets = () =>
        // {
        //     const styles = <CSSStyleSheet[]>Array.from(document.styleSheets);
        //     if (null === originalStyleSheets)
        //     {
        //         originalStyleSheets = styles.map
        //         (
        //             stylesheet =>
        //             {
        //                 try
        //                 {
        //                     const rules = Array.from(stylesheet.cssRules).map(rule => rule.cssText).join(" ");
        //                     if (0 <= rules.indexOf("animation-duration"))
        //                     {
        //                         return rules;
        //                     }
        //                 }
        //                 catch
        //                 {
        //                     console.error(`Can not read: ${stylesheet.href}`);
        //                 }
        //                 return null;
        //             }
        //         );
        //     }
        //     styles.forEach
        //     (
        //         (stylesheet, ix) =>
        //         {
        //             if (null !== originalStyleSheets[ix])
        //             {
        //                 (<any>stylesheet).replaceSync(replaceAnimationDuration(originalStyleSheets[ix]));
        //             }
        //         }
        //     );
        // };
        // const isChromium = () => !! (<any>window).chrome;
        var isEmbeddedStyleOnly = function () {
            return Array.from(document.getElementsByTagName("link"))
                .filter(function (i) { return "stylesheet" === i.rel; }).length <= 0;
        };
        EvilTimer.getStyleReplaceMode = function () {
            switch (styleReplaceMode) {
                case "auto":
                    // if (isChromium())
                    // {
                    //     return "sheets";
                    // }
                    if (isEmbeddedStyleOnly()) {
                        return "embedded";
                    }
                    return "rules";
                default:
                    return styleReplaceMode;
            }
        };
        var updateStyle = function (rate) {
            if (rate === void 0) { rate = speed; }
            switch (EvilTimer.getStyleReplaceMode()) {
                case "embedded":
                    updateEmbeddedStyle(rate);
                    break;
                case "rules":
                    updateStyleRules(rate);
                    break;
                // case "sheets":
                //     updateStyleSheets();
                //     break;
            }
        };
        EvilTimer.setStyleReplaceMode = function (mode) {
            switch (mode) {
                case "auto":
                case "disabled":
                case "embedded":
                case "rules":
                    // case "sheets":
                    if (styleReplaceMode !== mode) {
                        if ("disabled" !== styleReplaceMode && 1 !== speed) {
                            updateStyle(1);
                        }
                        styleReplaceMode = mode;
                        if ("disabled" !== styleReplaceMode && 1 !== speed) {
                            updateStyle();
                        }
                    }
                    break;
                default:
                    console.error("setStyleReplaceMode(".concat(JSON.stringify(mode), " as \"auto\" | \"disabled\" | \"embedded\" | \"rules\");"));
                    break;
            }
        };
        EvilTimer.setSpeed = function (rate) {
            if (0 == rate) {
                EvilTimer.pause();
            }
            else {
                setAnkerAt();
                speed = rate;
                updateStyle();
            }
        };
        EvilTimer.evilSetTimeout = function (callback, wait) {
            var args = [];
            for (var _i = 2; _i < arguments.length; _i++) {
                args[_i - 2] = arguments[_i];
            }
            return vanillaSetTimeout(function () {
                if (isPaused) {
                    susppendedTasks.push(function () { return callback.apply(void 0, args); });
                }
                else {
                    callback.apply(void 0, args);
                }
            }, undefined === wait ? wait : wait / Math.abs(speed));
        };
        EvilTimer.evilSetInterval = function (callback, wait) {
            var args = [];
            for (var _i = 2; _i < arguments.length; _i++) {
                args[_i - 2] = arguments[_i];
            }
            var pushed = false;
            return vanillaSetInteral(function () {
                if (isPaused) {
                    if (!pushed) {
                        susppendedTasks.push(function () { return callback.apply(void 0, args); });
                        pushed = true;
                    }
                }
                else {
                    pushed = false;
                    callback.apply(void 0, args);
                }
            }, undefined === wait ? wait : wait / Math.abs(speed));
        };
        EvilTimer.evilRequestAnimationFrame = function (callback) { return vanillaRequestAnimationFrame(function (_tick) {
            if (isPaused) {
                susppendedTasks.push(function () { return callback(EvilTimer.getEvilPerformanceNow()); });
            }
            else {
                callback(EvilTimer.getEvilPerformanceNow());
            }
        }); };
        var Vanilla;
        (function (Vanilla) {
            Vanilla.Date = function _a() {
                var _newTarget = this && this instanceof _a ? this.constructor : void 0;
                var args = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                    args[_i] = arguments[_i];
                }
                return _newTarget ? new (VanillaDate.bind.apply(VanillaDate, __spreadArray([void 0], args, false)))() : VanillaDate.apply(void 0, args);
            };
            Vanilla.Date.parse = VanillaDate.parse;
            Vanilla.Date.UTC = VanillaDate.UTC;
            Vanilla.Date.now = VanillaDate.now;
            Vanilla.setTimeout = function (callback, wait) {
                var args = [];
                for (var _i = 2; _i < arguments.length; _i++) {
                    args[_i - 2] = arguments[_i];
                }
                return vanillaSetTimeout.apply(void 0, __spreadArray([callback,
                    wait], args, false));
            };
            Vanilla.setInterval = function (callback, wait) {
                var args = [];
                for (var _i = 2; _i < arguments.length; _i++) {
                    args[_i - 2] = arguments[_i];
                }
                return vanillaSetInteral.apply(void 0, __spreadArray([callback,
                    wait], args, false));
            };
        })(Vanilla = EvilTimer.Vanilla || (EvilTimer.Vanilla = {}));
        EvilTimer.set = function (config) {
            if ("boolean" === typeof config) {
                if (config) {
                    gThis.EvilTimer = EvilTimer;
                    gThis.Date = EvilTimer.EvilDate;
                    gThis.setTimeout = EvilTimer.evilSetTimeout;
                    gThis.setInterval = EvilTimer.evilSetInterval;
                    if (window) {
                        window.requestAnimationFrame = EvilTimer.evilRequestAnimationFrame;
                    }
                }
                else {
                    // delete gThis.EvilTimer;
                    gThis.Date = VanillaDate;
                    gThis.setTimeout = vanillaSetTimeout;
                    gThis.setInterval = vanillaSetInteral;
                    if (window) {
                        window.requestAnimationFrame = vanillaRequestAnimationFrame;
                    }
                }
            }
            else {
                if (undefined !== config.disabled && "boolean" === typeof config.disabled) {
                    EvilTimer.set(!config.disabled);
                }
                if (undefined !== config.styleReplaceMode) {
                    EvilTimer.setStyleReplaceMode(config.styleReplaceMode);
                }
                if (undefined !== config.date) {
                    EvilTimer.setDate(config.date);
                }
                if (undefined !== config.speed) {
                    EvilTimer.setSpeed(config.speed);
                }
                if (undefined !== config.pause) {
                    if (config.pause) {
                        EvilTimer.pause();
                    }
                    else {
                        EvilTimer.unpause();
                    }
                }
            }
        };
        EvilTimer.debugKey = "evil-timer.debug";
        EvilTimer.isDebug = function () { var _a; return JSON.parse((_a = window.localStorage.getItem(EvilTimer.debugKey)) !== null && _a !== void 0 ? _a : "false"); };
        EvilTimer.debugOn = function () { return window.localStorage.setItem(EvilTimer.debugKey, JSON.stringify(true)); };
        EvilTimer.debugOff = function () { return window.localStorage.removeItem(EvilTimer.debugKey); };
        EvilTimer.getStatus = function () {
            var vanilla = new VanillaDate();
            var evil = new EvilTimer.EvilDate();
            var result = {
                enabled: gThis.EvilTimer === EvilTimer,
                debug: EvilTimer.isDebug(),
                speed: speed,
                isPaused: isPaused,
                susppendedTasksCount: susppendedTasks.length,
                date: {
                    vanilla: {
                        text: vanilla.toLocaleString(),
                        tick: vanilla.getTime(),
                    },
                    evil: {
                        text: evil.toLocaleString(),
                        tick: evil.getTime(),
                    }
                }
            };
            return result;
        };
        var getConfigFromUrl = function () {
            var _a, _b, _c, _d;
            if (EvilTimer.isDebug()) {
                try {
                    return (_d = (_c = (_b = (_a = location.href
                        .split("#")[0]
                        .split("?")[1]) === null || _a === void 0 ? void 0 : _a.split("&")) === null || _b === void 0 ? void 0 : _b.filter(function (i) { return i.startsWith("evil-timer="); })) === null || _c === void 0 ? void 0 : _c.map(function (i) { return JSON.parse(decodeURIComponent(i.substr("evil-timer=".length))); })) === null || _d === void 0 ? void 0 : _d[0];
                }
                catch (err) {
                    console.log(err);
                }
            }
            return null;
        };
        var globalEvilTimerConfig = gThis.evilTimerConfig;
        if (undefined !== globalEvilTimerConfig && "boolean" !== typeof globalEvilTimerConfig) {
            var listener = type_1.EvilType.Error.makeListener("evilTimerConfig");
            if (!EvilTimer.Type.isEvilTimerConfigType(globalEvilTimerConfig, listener)) {
                console.error("🚫 Invalid evilTimerConfig(in JavaScript)");
                console.error(listener);
            }
        }
        if ("object" === typeof globalEvilTimerConfig && "boolean" === typeof globalEvilTimerConfig.debug) {
            if (globalEvilTimerConfig.debug) {
                EvilTimer.debugOn();
            }
            else {
                EvilTimer.debugOff();
            }
        }
        var configFromUrl = getConfigFromUrl();
        if (undefined !== configFromUrl && null !== configFromUrl && "boolean" !== typeof configFromUrl) {
            var listener = type_1.EvilType.Error.makeListener("configFromUrl");
            if (!EvilTimer.Type.isEvilTimerConfigType(configFromUrl, listener)) {
                console.error("🚫 Invalid evil-timer(in URL Parameter)");
                console.error(listener);
            }
        }
        var configOrBoolean = ((_b = configFromUrl !== null && configFromUrl !== void 0 ? configFromUrl : gThis.evilTimerConfig) !== null && _b !== void 0 ? _b : true);
        var evilTimerConfig = "boolean" === typeof configOrBoolean ? { disabled: !configOrBoolean, } : configOrBoolean;
        if (!((_c = evilTimerConfig.disabled) !== null && _c !== void 0 ? _c : false)) {
            EvilTimer.set(true);
            if (!((_d = evilTimerConfig.disabledLoadMessage) !== null && _d !== void 0 ? _d : false)) {
                console.log("evil-timer.js is loaded. You can use EvilTimer commands with your own risk. see: https://github.com/wraith13/evil-timer.js");
            }
            EvilTimer.set(evilTimerConfig);
        }
    })(EvilTimer || (exports.EvilTimer = EvilTimer = {}));
});
//# sourceMappingURL=evil-timer.js/index.js.map
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {
    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {
        if (ar || !(i in from)) {
            if (!ar) ar = Array.prototype.slice.call(from, 0, i);
            ar[i] = from[i];
        }
    }
    return to.concat(ar || Array.prototype.slice.call(from));
};
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
var __assign = (this && this.__assign) || function () {
    __assign = Object.assign || function(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))
                t[p] = s[p];
        }
        return t;
    };
    return __assign.apply(this, arguments);
};
var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};
var __generator = (this && this.__generator) || function (thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === "function" ? Iterator : Object).prototype);
    return g.next = verb(0), g["throw"] = verb(1), g["return"] = verb(2), typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (g && (g = 0, op[0] && (_ = 0)), _) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
};
define("script/tools/type-guards", ["require", "exports"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.TypeGuards = void 0;
    var TypeGuards;
    (function (TypeGuards) {
        TypeGuards.hasValue = function (value) {
            return value !== null && value !== undefined;
        };
        TypeGuards.has = function (keyOrKeys) {
            return function (object) {
                if (Array.isArray(keyOrKeys)) {
                    return keyOrKeys.every(function (key) { return (object === null || object === void 0 ? void 0 : object[key]) !== undefined; });
                }
                else {
                    return (object === null || object === void 0 ? void 0 : object[keyOrKeys]) !== undefined;
                }
            };
        };
    })(TypeGuards || (exports.TypeGuards = TypeGuards = {}));
});
define("script/tools/number", ["require", "exports"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.NumberTools = void 0;
    var NumberTools;
    (function (NumberTools) {
        NumberTools.getIntegralDigits = function (value) {
            return 1 <= value ? Math.floor(Math.log10(value)) + 1 : 0;
        };
        NumberTools.toString = function (value, maximumFractionDigits, locale) {
            if (locale === void 0) { locale = "en-US"; }
            return value.toLocaleString(locale, { useGrouping: false, maximumFractionDigits: maximumFractionDigits, });
        };
        NumberTools.parseInt = function (text) {
            var value = Number.parseInt(text, 10);
            return Number.isNaN(value) ? undefined : value;
        };
    })(NumberTools || (exports.NumberTools = NumberTools = {}));
});
define("script/tools/math", ["require", "exports"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Math = void 0;
    var Math;
    (function (Math) {
        Math.scale = function (min, max) {
            return function (r) { return min + ((max - min) * r); };
        };
        Math.sum = function (numbers) {
            return numbers.reduce(function (a, v) { return a + v; }, 0);
        };
        Math.mod = function (n, m) {
            return m === 0 ? n : ((n % m) + m) % m;
        };
        Math.clip = function (min, value, max) {
            return value < min ? min : (max < value ? max : value);
        };
    })(Math || (exports.Math = Math = {}));
});
define("script/tools/array", ["require", "exports", "script/tools/type-guards", "script/tools/math"], function (require, exports, type_guards_1, math_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Array = void 0;
    var Array;
    (function (Array) {
        Array.cycleSelect = function (list, ix) {
            return (0 < list.length ?
                list[math_1.Math.mod(ix, list.length)] :
                undefined);
        };
        Array.joinable = function (value, condition) {
            return type_guards_1.TypeGuards.hasValue(value) && (condition !== null && condition !== void 0 ? condition : true) ? [value,] : [];
        };
        Array.uniqueFilter = function (i, ix, list) {
            return ix === list.indexOf(i);
        };
        Array.lookupValue = function (list, value) {
            return list.includes(value) ? value : undefined;
        };
        Array.backSlice = function (list, start) {
            return start <= 0 ? [] : list.slice(-start);
        };
    })(Array || (exports.Array = Array = {}));
});
define("locale/generated/master", ["require", "exports"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.localeMaster = void 0;
    exports.localeMaster = {
        "ar": {
            "lang-label": "العربية",
            "lang-direction": "rtl",
            "add-media": "إضافة وسائط",
            "remove-media": "إزالة وسائط",
            "loading-media": "جارٍ تحميل الوسائط...",
            "Auto": "تلقائي",
            "description": "مشغل وسائط يعمل في متصفح الويب",
            "media-count-label": "عدد الوسائط:",
            "media-length-label": "طول الوسائط:",
            "with-fullscreen-label": "ملء الشاشة:",
            "brightness-label": "السطوع:",
            "stretch-label": "توسيع:",
            "padding-label": "المسافة الداخلية:",
            "cross-fade-label": "تلاشي متقاطع:",
            "cross-fade-with-blur-label": "تلاشي متقاطع مع ضبابية:",
            "image-span-label": "مدة عرض الصورة:",
            "loop-short-media-label": "تكرار الوسائط القصيرة:",
            "visualizer-label": "المصوِّر:",
            "visualizer-simple": "بسيط",
            "visualizer-plane-frequency": "تردد المستوي",
            "visualizer-plane-waveform": "شكل موجة المستوي",
            "visualizer-arc-frequency": "تردد القوس",
            "visualizer-arc-waveform": "شكل موجة القوس",
            "visualizer-double-arc": "قوس مزدوج",
            "visualizer-stereo-arc-frequency": "تردد قوس ستيريو",
            "visualizer-stereo-arc-waveform": "شكل موجة قوس ستيريو",
            "visualizer-stereo-double-arc": "قوس ستيريو مزدوج",
            "analog-clock-label": "الساعة التناظرية:",
            "date-hands-label": "عقارب التاريخ:",
            "millisecond-hand-label": "عقرب الملِّيثانية:",
            "overlay-style-label": "نمط التراكب:",
            "hide": "إخفاء",
            "blend": "مزج",
            "white": "أبيض",
            "black": "أسود",
            "system": "النظام",
            "alternate": "متناوب",
            "rainbow": "قوس قزح",
            "overlay-position-label": "موضع التراكب:",
            "center": "وسط",
            "top-right": "أعلى اليمين",
            "bottom-right": "أسفل اليمين",
            "bottom-left": "أسفل اليسار",
            "top-left": "أعلى اليسار",
            "rotate": "دوران",
            "with-weather-label": "الطقس:",
            "weather-location-label": "موقع الطقس:",
            "ip-address": "عنوان IP (دقة منخفضة)",
            "geolocation": "تحديد الموقع الجغرافي (دقة عالية)",
            "with-clock-label": "الساعة:",
            "with-date-label": "التاريخ:",
            "with-calendar-label": "التقويم:",
            "with-visualizer-label": "المصوِّر (تراكب):",
            "show-fps-label": "عرض معدل الإطارات:",
            "shortcuts-label": "اختصارات لوحة المفاتيح:",
            "language-label": "اللغة:",
            "url-label": "رابط لهذا الإعداد",
            "repository-label": "المستودع",
            "on": "تشغيل",
            "off": "إيقاف",
            "wakeup": "مؤقت الاستيقاظ",
            "wakeup-label": "مؤقت الاستيقاظ:",
            "timer-label": "المؤقت",
            "fade-in-label": "مدة التلاشي للدخول:",
            "sleep": "مؤقت النوم",
            "sleep-label": "مؤقت النوم:",
            "fade-out-label": "مدة التلاشي للخروج:",
            "timeUnitMs": "ملِّيثانية",
            "timeUnitS": "ثانية",
            "timeUnitM": "دقيقة",
            "timeUnitH": "ساعة",
            "timeUnitD": "يوم",
            "ago": "منذ",
            "Shuffle": "خلط",
            "Repeat": "تكرار",
            "Play / Pause": "تشغيل / إيقاف مؤقت",
            "Volume": "مستوى الصوت",
            "Mute / Unmute": "كتم / إلغاء الكتم",
            "Volume Up / Down": "رفع / خفض مستوى الصوت",
            "Settings": "الإعدادات",
            "Seek": "التنقل",
            "Seek Backward": "التنقل للخلف",
            "Seek Forward": "التنقل للأمام",
            "Go to Previous/Next Media": "الانتقال إلى الوسائط السابقة/التالية",
            "Go to Previous Media": "الانتقال إلى الوسائط السابقة",
            "Go to Next Media": "الانتقال إلى الوسائط التالية",
            "FullScreen": "ملء الشاشة",
            "no-media-message": "يرجى إضافة وسائط.",
            "no-repeat-message": "يرجى تفعيل التكرار.",
            "not-supported-media-message": "لا يمكن تشغيل هذه الوسائط.",
            "wake-up-timer-not-working": "من المحتمل أن لا يعمل مؤقت الاستيقاظ بشكل صحيح على هذا الجهاز.",
            "noscript-message": "تم تعطيل JavaScript. الرجاء تمكين JavaScript."
        },
        "de": {
            "lang-label": "Deutsch",
            "lang-direction": "ltr",
            "add-media": "Medien hinzufügen",
            "remove-media": "Medien entfernen",
            "loading-media": "Medien werden geladen...",
            "Auto": "Automatisch",
            "description": "Webbasierter Mediaplayer, der im Webbrowser läuft",
            "media-count-label": "Medienanzahl:",
            "media-length-label": "Mediendauer:",
            "with-fullscreen-label": "Vollbild:",
            "brightness-label": "Helligkeit:",
            "stretch-label": "Dehnen:",
            "padding-label": "Innenabstand:",
            "cross-fade-label": "Überblenden:",
            "cross-fade-with-blur-label": "Überblenden mit Weichzeichnung:",
            "image-span-label": "Bildanzeigedauer:",
            "loop-short-media-label": "Kurze Medien wiederholen:",
            "visualizer-label": "Visualizer:",
            "visualizer-simple": "Einfach",
            "visualizer-plane-frequency": "Ebene Frequenz",
            "visualizer-plane-waveform": "Ebene Wellenform",
            "visualizer-arc-frequency": "Bogenfrequenz",
            "visualizer-arc-waveform": "Bogenwellenform",
            "visualizer-double-arc": "Doppelter Bogen",
            "visualizer-stereo-arc-frequency": "Stereo-Bogenfrequenz",
            "visualizer-stereo-arc-waveform": "Stereo-Bogenwellenform",
            "visualizer-stereo-double-arc": "Stereo Doppelter Bogen",
            "analog-clock-label": "Analoge Uhr:",
            "date-hands-label": "Datumszeiger:",
            "millisecond-hand-label": "Millisekundenzeiger:",
            "overlay-style-label": "Overlay-Stil:",
            "hide": "Ausblenden",
            "blend": "Mischen",
            "white": "Weiß",
            "black": "Schwarz",
            "system": "System",
            "alternate": "Alternierend",
            "rainbow": "Regenbogen",
            "overlay-position-label": "Overlay-Position:",
            "center": "Mitte",
            "top-right": "Oben rechts",
            "bottom-right": "Unten rechts",
            "bottom-left": "Unten links",
            "top-left": "Oben links",
            "rotate": "Drehen",
            "with-weather-label": "Wetter:",
            "weather-location-label": "Wetterstandort:",
            "ip-address": "IP-Adresse (geringe Genauigkeit)",
            "geolocation": "Geolokalisierung (hohe Genauigkeit)",
            "with-clock-label": "Uhr:",
            "with-date-label": "Datum:",
            "with-calendar-label": "Kalender:",
            "with-visualizer-label": "Visualizer (Overlay):",
            "show-fps-label": "FPS anzeigen:",
            "shortcuts-label": "Tastenkürzel:",
            "language-label": "Sprache:",
            "url-label": "Link zu dieser Einstellung",
            "repository-label": "Repository",
            "on": "An",
            "off": "Aus",
            "wakeup": "Wecktimer",
            "wakeup-label": "Wecktimer:",
            "timer-label": "Timer",
            "fade-in-label": "Einblendzeit:",
            "sleep": "Schlaftimer",
            "sleep-label": "Schlaf-Timer:",
            "fade-out-label": "Ausblendzeit:",
            "timeUnitMs": "ms",
            "timeUnitS": "s",
            "timeUnitM": "m",
            "timeUnitH": "h",
            "timeUnitD": "d",
            "ago": "vor",
            "Shuffle": "Zufällig",
            "Repeat": "Wiederholen",
            "Play / Pause": "Wiedergabe / Pause",
            "Volume": "Lautstärke",
            "Mute / Unmute": "Stummschalten / Stummschaltung aufheben",
            "Volume Up / Down": "Lauter / Leiser",
            "Settings": "Einstellungen",
            "Seek": "Springen",
            "Seek Backward": "Zurück springen",
            "Seek Forward": "Vorwärts springen",
            "Go to Previous/Next Media": "Zum vorherigen/nächsten Medium",
            "Go to Previous Media": "Zum vorherigen Medium",
            "Go to Next Media": "Zum nächsten Medium",
            "FullScreen": "Vollbild",
            "no-media-message": "Bitte Medien hinzufügen.",
            "no-repeat-message": "Bitte Wiederholung aktivieren.",
            "not-supported-media-message": "Dieses Medium kann nicht wiedergegeben werden.",
            "wake-up-timer-not-working": "Der Wecktimer funktioniert auf diesem Gerät wahrscheinlich nicht korrekt.",
            "noscript-message": "JavaScript ist deaktiviert. Bitte aktivieren Sie JavaScript."
        },
        "el": {
            "lang-label": "Ελληνικά",
            "lang-direction": "ltr",
            "add-media": "Προσθήκη μέσων",
            "remove-media": "Αφαίρεση μέσων",
            "loading-media": "Φόρτωση μέσων...",
            "Auto": "Αυτόματο",
            "description": "Πρόγραμμα αναπαραγωγής πολυμέσων που τρέχει σε πρόγραμμα περιήγησης ιστού",
            "media-count-label": "Αριθμός μέσων:",
            "media-length-label": "Διάρκεια μέσων:",
            "with-fullscreen-label": "Πλήρης οθόνη:",
            "brightness-label": "Φωτεινότητα:",
            "stretch-label": "Τέντωμα:",
            "padding-label": "Εσοχή:",
            "cross-fade-label": "Σταυρωτό ξεθώριασμα:",
            "cross-fade-with-blur-label": "Σταυρωτό ξεθώριασμα με θόλωση:",
            "image-span-label": "Χρόνος εμφάνισης εικόνας:",
            "loop-short-media-label": "Επανάληψη σύντομων μέσων:",
            "visualizer-label": "Οπτικοποιητής:",
            "visualizer-simple": "Απλό",
            "visualizer-plane-frequency": "Επίπεδη Συχνότητα",
            "visualizer-plane-waveform": "Επίπεδη Κυματομορφή",
            "visualizer-arc-frequency": "Καμπυλωτή Συχνότητα",
            "visualizer-arc-waveform": "Καμπυλωτή Κυματομορφή",
            "visualizer-double-arc": "Διπλή Καμπύλη",
            "visualizer-stereo-arc-frequency": "Στερεο Καμπυλωτή Συχνότητα",
            "visualizer-stereo-arc-waveform": "Στερεο Καμπυλωτή Κυματομορφή",
            "visualizer-stereo-double-arc": "Στερεο Διπλή Καμπύλη",
            "analog-clock-label": "Αναλογικό Ρολόι:",
            "date-hands-label": "Δείκτες Ημερομηνίας:",
            "millisecond-hand-label": "Δείκτης Χιλιοστών του δευτερολέπτου:",
            "overlay-style-label": "Στυλ επικάλυψης:",
            "hide": "Απόκρυψη",
            "blend": "Ανάμειξη",
            "white": "Άσπρο",
            "black": "Μαύρο",
            "system": "Σύστημα",
            "alternate": "Εναλλαγή",
            "rainbow": "Ουράνιο τόξο",
            "overlay-position-label": "Θέση επικάλυψης:",
            "center": "Κέντρο",
            "top-right": "Άνω Δεξιά",
            "bottom-right": "Κάτω Δεξιά",
            "bottom-left": "Κάτω Αριστερά",
            "top-left": "Άνω Αριστερά",
            "rotate": "Περιστροφή",
            "with-weather-label": "Καιρός:",
            "weather-location-label": "Τοποθεσία καιρού:",
            "ip-address": "Διεύθυνση IP (Χαμηλή ακρίβεια)",
            "geolocation": "Γεωτοποθεσία (Υψηλή ακρίβεια)",
            "with-clock-label": "Ρολόι:",
            "with-date-label": "Ημερομηνία:",
            "with-calendar-label": "Ημερολόγιο:",
            "with-visualizer-label": "Οπτικοποιητής (επικάλυψη):",
            "show-fps-label": "Εμφάνιση FPS:",
            "shortcuts-label": "Πλήκτρα συντόμευσης:",
            "language-label": "Γλώσσα:",
            "url-label": "Σύνδεσμος σε αυτή τη ρύθμιση",
            "repository-label": "αποθετήριο",
            "on": "Ενεργοποιημένο",
            "off": "Απενεργοποιημένο",
            "wakeup": "Χρονοδιακόπτης αφύπνισης",
            "wakeup-label": "Χρονοδιακόπτης αφύπνισης:",
            "timer-label": "Χρονοδιακόπτης",
            "fade-in-label": "Χρόνος fade-in:",
            "sleep": "Χρονοδιακόπτης ύπνου",
            "sleep-label": "Χρονοδιακόπτης ύπνου:",
            "fade-out-label": "Χρόνος fade-out:",
            "timeUnitMs": "ms",
            "timeUnitS": "s",
            "timeUnitM": "m",
            "timeUnitH": "h",
            "timeUnitD": "d",
            "ago": "πριν",
            "Shuffle": "Τυχαία",
            "Repeat": "Επανάληψη",
            "Play / Pause": "Αναπαραγωγή / Παύση",
            "Volume": "Ένταση",
            "Mute / Unmute": "Σίγαση / Κατάργηση σίγασης",
            "Volume Up / Down": "Αύξηση / Μείωση έντασης",
            "Settings": "Ρυθμίσεις",
            "Seek": "Μετάβαση",
            "Seek Backward": "Αναζήτηση προς τα πίσω",
            "Seek Forward": "Αναζήτηση προς τα εμπρός",
            "Go to Previous/Next Media": "Μετάβαση στο προηγούμενο/επόμενο μέσο",
            "Go to Previous Media": "Μετάβαση στο προηγούμενο μέσο",
            "Go to Next Media": "Μετάβαση στο επόμενο μέσο",
            "FullScreen": "Πλήρης οθόνη",
            "no-media-message": "Παρακαλώ προσθέστε μέσα.",
            "no-repeat-message": "Παρακαλώ ενεργοποιήστε την επανάληψη.",
            "not-supported-media-message": "Αυτό το μέσο δεν μπορεί να αναπαραχθεί.",
            "wake-up-timer-not-working": "Ο χρονοδιακόπτης αφύπνισης πιθανόν να μην λειτουργεί σωστά σε αυτή τη συσκευή.",
            "noscript-message": "Η JavaScript είναι απενεργοποιημένη. Παρακαλώ ενεργοποιήστε την JavaScript."
        },
        "en": {
            "lang-label": "English",
            "lang-direction": "ltr",
            "add-media": "Add Media",
            "remove-media": "Remove Media",
            "loading-media": "Loading media...",
            "Auto": "Auto",
            "description": "Web-based media player that runs in a web browser",
            "media-count-label": "Media Count:",
            "media-length-label": "Media Length:",
            "with-fullscreen-label": "FullScreen:",
            "brightness-label": "Brightness:",
            "stretch-label": "Stretch:",
            "padding-label": "Padding:",
            "cross-fade-label": "Cross Fade:",
            "cross-fade-with-blur-label": "Cross Fade with Blur:",
            "image-span-label": "Image Display Time:",
            "loop-short-media-label": "Loop Short Media:",
            "visualizer-label": "Visualizer:",
            "visualizer-simple": "Simple",
            "visualizer-plane-frequency": "Plane Frequency",
            "visualizer-plane-waveform": "Plane Waveform",
            "visualizer-arc-frequency": "Arc Frequency",
            "visualizer-arc-waveform": "Arc Waveform",
            "visualizer-double-arc": "Double Arc",
            "visualizer-stereo-arc-frequency": "Stereo Arc Frequency",
            "visualizer-stereo-arc-waveform": "Stereo Arc Waveform",
            "visualizer-stereo-double-arc": "Stereo Double Arc",
            "analog-clock-label": "Analog Clock:",
            "date-hands-label": "Date Hands:",
            "millisecond-hand-label": "Millisecond Hand:",
            "overlay-style-label": "Overlay Style:",
            "hide": "Hide",
            "blend": "Blend",
            "white": "White",
            "black": "Black",
            "system": "System",
            "alternate": "Alternate",
            "rainbow": "Rainbow",
            "overlay-position-label": "Overlay Position:",
            "center": "Center",
            "top-right": "Top Right",
            "bottom-right": "Bottom Right",
            "bottom-left": "Bottom Left",
            "top-left": "Top Left",
            "rotate": "Rotate",
            "with-weather-label": "Weather:",
            "weather-location-label": "Weather Location:",
            "ip-address": "IP Address(Low Accuracy)",
            "geolocation": "Geolocation(High Accuracy)",
            "with-clock-label": "Clock:",
            "with-date-label": "Date:",
            "with-calendar-label": "Calendar:",
            "with-visualizer-label": "Visualizer(Overlay):",
            "show-fps-label": "Show FPS:",
            "shortcuts-label": "Keyboard Shortcuts:",
            "language-label": "Language:",
            "url-label": "Link to this setting",
            "repository-label": "repository",
            "on": "On",
            "off": "Off",
            "wakeup": "Wake-up Timer",
            "wakeup-label": "Wake-up Timer:",
            "timer-label": "Timer",
            "fade-in-label": "Fade-in Time:",
            "sleep": "Sleep Timer",
            "sleep-label": "Sleep Timer:",
            "fade-out-label": "Fade-out Time:",
            "timeUnitMs": "ms",
            "timeUnitS": "s",
            "timeUnitM": "m",
            "timeUnitH": "h",
            "timeUnitD": "d",
            "ago": "ago",
            "Shuffle": "Shuffle",
            "Repeat": "Repeat",
            "Play / Pause": "Play / Pause",
            "Volume": "Volume",
            "Mute / Unmute": "Mute / Unmute",
            "Volume Up / Down": "Volume Up / Down",
            "Settings": "Settings",
            "Seek": "Seek",
            "Seek Backward": "Seek Backward",
            "Seek Forward": "Seek Forward",
            "Go to Previous/Next Media": "Go to Previous/Next Media",
            "Go to Previous Media": "Go to Previous Media",
            "Go to Next Media": "Go to Next Media",
            "FullScreen": "FullScreen",
            "no-media-message": "Please add media.",
            "no-repeat-message": "Please enable repeat.",
            "not-supported-media-message": "This media cannot be played.",
            "wake-up-timer-not-working": "The wake-up timer is likely not to work properly on this device.",
            "noscript-message": "JavaScript is disabled. Please enable JavaScript."
        },
        "es": {
            "lang-label": "Español",
            "lang-direction": "ltr",
            "add-media": "Agregar medios",
            "remove-media": "Eliminar medios",
            "loading-media": "Cargando medios...",
            "Auto": "Automático",
            "description": "Reproductor multimedia web que se ejecuta en un navegador",
            "media-count-label": "Cantidad de medios:",
            "media-length-label": "Duración de los medios:",
            "with-fullscreen-label": "Pantalla completa:",
            "brightness-label": "Brillo:",
            "stretch-label": "Estirar:",
            "padding-label": "Relleno:",
            "cross-fade-label": "Fundido cruzado:",
            "cross-fade-with-blur-label": "Fundido cruzado con desenfoque:",
            "image-span-label": "Tiempo de visualización de la imagen:",
            "loop-short-media-label": "Repetir medios cortos:",
            "visualizer-label": "Visualizador:",
            "visualizer-simple": "Simple",
            "visualizer-plane-frequency": "Frecuencia de plano",
            "visualizer-plane-waveform": "Forma de onda de plano",
            "visualizer-arc-frequency": "Frecuencia de arco",
            "visualizer-arc-waveform": "Forma de onda de arco",
            "visualizer-double-arc": "Arco doble",
            "visualizer-stereo-arc-frequency": "Frecuencia de arco estéreo",
            "visualizer-stereo-arc-waveform": "Forma de onda de arco estéreo",
            "visualizer-stereo-double-arc": "Arco estéreo doble",
            "analog-clock-label": "Reloj analógico:",
            "date-hands-label": "Manecillas de fecha:",
            "millisecond-hand-label": "Manecilla de milisegundos:",
            "overlay-style-label": "Estilo de superposición:",
            "hide": "Ocultar",
            "blend": "Mezclar",
            "white": "Blanco",
            "black": "Negro",
            "system": "Sistema",
            "alternate": "Alternar",
            "rainbow": "Arcoíris",
            "overlay-position-label": "Posición de la superposición:",
            "center": "Centro",
            "top-right": "Arriba a la derecha",
            "bottom-right": "Abajo a la derecha",
            "bottom-left": "Abajo a la izquierda",
            "top-left": "Arriba a la izquierda",
            "rotate": "Rotar",
            "with-weather-label": "Clima:",
            "weather-location-label": "Ubicación del clima:",
            "ip-address": "Dirección IP (baja precisión)",
            "geolocation": "Geolocalización (alta precisión)",
            "with-clock-label": "Reloj:",
            "with-date-label": "Fecha:",
            "with-calendar-label": "Calendario:",
            "with-visualizer-label": "Visualizador (superposición):",
            "show-fps-label": "Mostrar FPS:",
            "shortcuts-label": "Atajos de teclado:",
            "language-label": "Idioma:",
            "url-label": "Enlace a esta configuración",
            "repository-label": "repositorio",
            "on": "Activado",
            "off": "Desactivado",
            "wakeup": "Temporizador de despertador",
            "wakeup-label": "Temporizador de despertador:",
            "timer-label": "Temporizador",
            "fade-in-label": "Tiempo de entrada:",
            "sleep": "Temporizador de suspensión",
            "sleep-label": "Temporizador de suspensión:",
            "fade-out-label": "Tiempo de salida:",
            "timeUnitMs": "ms",
            "timeUnitS": "s",
            "timeUnitM": "m",
            "timeUnitH": "h",
            "timeUnitD": "d",
            "ago": "hace",
            "Shuffle": "Aleatorio",
            "Repeat": "Repetir",
            "Play / Pause": "Reproducir / Pausar",
            "Volume": "Volumen",
            "Mute / Unmute": "Silenciar / Activar sonido",
            "Volume Up / Down": "Subir volumen / Bajar volumen",
            "Settings": "Configuración",
            "Seek": "Buscar",
            "Seek Backward": "Retroceder",
            "Seek Forward": "Avanzar",
            "Go to Previous/Next Media": "Ir al medio anterior/siguiente",
            "Go to Previous Media": "Ir al medio anterior",
            "Go to Next Media": "Ir al medio siguiente",
            "FullScreen": "Pantalla completa",
            "no-media-message": "Por favor, añade medios.",
            "no-repeat-message": "Por favor, activa la repetición.",
            "not-supported-media-message": "Este medio no se puede reproducir.",
            "wake-up-timer-not-working": "Es probable que el temporizador de despertador no funcione correctamente en este dispositivo.",
            "noscript-message": "JavaScript está deshabilitado. Por favor, habilita JavaScript."
        },
        "fa": {
            "lang-label": "فارسی",
            "lang-direction": "rtl",
            "add-media": "افزودن رسانه",
            "remove-media": "حذف رسانه",
            "loading-media": "در حال بارگذاری رسانه...",
            "Auto": "خودکار",
            "description": "پخش‌کننده رسانه مبتنی بر وب که در مرورگر اجرا می‌شود",
            "media-count-label": "تعداد رسانه:",
            "media-length-label": "مدت رسانه:",
            "with-fullscreen-label": "تمام‌صفحه:",
            "brightness-label": "روشنایی:",
            "stretch-label": "کشیدن:",
            "padding-label": "فاصله (Padding):",
            "cross-fade-label": "محو شدن متقابل:",
            "cross-fade-with-blur-label": "محو شدن متقابل با تاری:",
            "image-span-label": "زمان نمایش تصویر:",
            "loop-short-media-label": "پخش حلقه‌ای رسانه‌های کوتاه:",
            "visualizer-label": "ویژوالایزر:",
            "visualizer-simple": "ساده",
            "visualizer-plane-frequency": "فرکانس صفحه",
            "visualizer-plane-waveform": "موج‌نمای صفحه",
            "visualizer-arc-frequency": "فرکانس قوس",
            "visualizer-arc-waveform": "موج‌نمای قوس",
            "visualizer-double-arc": "قوس دوگانه",
            "visualizer-stereo-arc-frequency": "فرکانس قوس استریو",
            "visualizer-stereo-arc-waveform": "موج‌نمای قوس استریو",
            "visualizer-stereo-double-arc": "قوس دوگانه استریو",
            "analog-clock-label": "ساعت آنالوگ:",
            "date-hands-label": "عقربه‌های تاریخ:",
            "millisecond-hand-label": "ثانیه‌شمار میلی‌ثانیه:",
            "overlay-style-label": "سبک پوشش:",
            "hide": "مخفی",
            "blend": "ترکیب",
            "white": "سفید",
            "black": "سیاه",
            "system": "سیستم",
            "alternate": "جایگزین",
            "rainbow": "رنگین‌کمان",
            "overlay-position-label": "موقعیت پوشش:",
            "center": "مرکز",
            "top-right": "بالا-راست",
            "bottom-right": "پایین-راست",
            "bottom-left": "پایین-چپ",
            "top-left": "بالا-چپ",
            "rotate": "چرخش",
            "with-weather-label": "آب‌وهوا:",
            "weather-location-label": "مکان آب‌وهوا:",
            "ip-address": "آدرس IP (دقت پایین)",
            "geolocation": "موقعیت‌یابی (دقت بالا)",
            "with-clock-label": "ساعت:",
            "with-date-label": "تاریخ:",
            "with-calendar-label": "تقویم:",
            "with-visualizer-label": "ویژوالایزر (پوشش):",
            "show-fps-label": "نمایش FPS:",
            "shortcuts-label": "میانبرهای صفحه‌کلید:",
            "language-label": "زبان:",
            "url-label": "پیوند به این تنظیم",
            "repository-label": "مخزن",
            "on": "روشن",
            "off": "خاموش",
            "wakeup": "تایمر بیدارباش",
            "wakeup-label": "تایمر بیدارباش:",
            "timer-label": "تایمر",
            "fade-in-label": "زمان محو شدن ورود:",
            "sleep": "تایمر خواب",
            "sleep-label": "تایمر خواب:",
            "fade-out-label": "زمان محو شدن خروج:",
            "timeUnitMs": "می‌ثانیه",
            "timeUnitS": "ثانیه",
            "timeUnitM": "دقیقه",
            "timeUnitH": "ساعت",
            "timeUnitD": "روز",
            "ago": "پیش",
            "Shuffle": "درهم‌ریزی",
            "Repeat": "تکرار",
            "Play / Pause": "پخش / مکث",
            "Volume": "صدا",
            "Mute / Unmute": "بی‌صدا / فعال‌سازی صدا",
            "Volume Up / Down": "افزایش / کاهش صدا",
            "Settings": "تنظیمات",
            "Seek": "پرش",
            "Seek Backward": "پرش به عقب",
            "Seek Forward": "پرش به جلو",
            "Go to Previous/Next Media": "رفتن به رسانه قبلی/بعدی",
            "Go to Previous Media": "رفتن به رسانه قبلی",
            "Go to Next Media": "رفتن به رسانه بعدی",
            "FullScreen": "تمام‌صفحه",
            "no-media-message": "لطفاً رسانه اضافه کنید.",
            "no-repeat-message": "لطفاً تکرار را فعال کنید.",
            "not-supported-media-message": "این رسانه قابل پخش نیست.",
            "wake-up-timer-not-working": "تایمر بیدارباش احتمالاً در این دستگاه به‌درستی کار نخواهد کرد.",
            "noscript-message": "جاوااسکریپت غیرفعال است. لطفاً جاوااسکریپت را فعال کنید."
        },
        "fr": {
            "lang-label": "Français",
            "lang-direction": "ltr",
            "add-media": "Ajouter des médias",
            "remove-media": "Supprimer des médias",
            "loading-media": "Chargement des médias...",
            "Auto": "Automatique",
            "description": "Lecteur multimédia basé sur le web qui s'exécute dans un navigateur",
            "media-count-label": "Nombre de médias :",
            "media-length-label": "Durée des médias :",
            "with-fullscreen-label": "Plein écran :",
            "brightness-label": "Luminosité :",
            "stretch-label": "Étirement :",
            "padding-label": "Rembourrage :",
            "cross-fade-label": "Fondu enchaîné :",
            "cross-fade-with-blur-label": "Fondu enchaîné avec flou :",
            "image-span-label": "Durée d'affichage de l'image :",
            "loop-short-media-label": "Boucler les médias courts :",
            "visualizer-label": "Visualiseur :",
            "visualizer-simple": "Simple",
            "visualizer-plane-frequency": "Fréquence plane",
            "visualizer-plane-waveform": "Forme d'onde plane",
            "visualizer-arc-frequency": "Fréquence d'arc",
            "visualizer-arc-waveform": "Forme d'onde d'arc",
            "visualizer-double-arc": "Arc double",
            "visualizer-stereo-arc-frequency": "Fréquence d'arc stéréo",
            "visualizer-stereo-arc-waveform": "Forme d'onde d'arc stéréo",
            "visualizer-stereo-double-arc": "Arc stéréo double",
            "analog-clock-label": "Horloge analogique :",
            "date-hands-label": "Aiguilles de la date :",
            "millisecond-hand-label": "Aiguille des millisecondes :",
            "overlay-style-label": "Style de superposition :",
            "hide": "Cacher",
            "blend": "Fusion",
            "white": "Blanc",
            "black": "Noir",
            "system": "Système",
            "alternate": "Alternatif",
            "rainbow": "Arc-en-ciel",
            "overlay-position-label": "Position de la superposition :",
            "center": "Centre",
            "top-right": "En haut à droite",
            "bottom-right": "En bas à droite",
            "bottom-left": "En bas à gauche",
            "top-left": "En haut à gauche",
            "rotate": "Rotation",
            "with-weather-label": "Météo :",
            "weather-location-label": "Emplacement météo :",
            "ip-address": "Adresse IP (faible précision)",
            "geolocation": "Géolocalisation (haute précision)",
            "with-clock-label": "Horloge :",
            "with-date-label": "Date :",
            "with-calendar-label": "Calendrier :",
            "with-visualizer-label": "Visualiseur (superposition) :",
            "show-fps-label": "Afficher les FPS :",
            "shortcuts-label": "Raccourcis clavier :",
            "language-label": "Langue :",
            "url-label": "Lien vers ce réglage",
            "repository-label": "Dépôt",
            "on": "Activé",
            "off": "Désactivé",
            "wakeup": "Minuterie de réveil",
            "wakeup-label": "Minuterie de réveil :",
            "timer-label": "Minuterie",
            "fade-in-label": "Durée d'apparition :",
            "sleep": "Minuteur de mise en veille",
            "sleep-label": "Minuteur de mise en veille :",
            "fade-out-label": "Durée de disparition :",
            "timeUnitMs": "ms",
            "timeUnitS": "s",
            "timeUnitM": "min",
            "timeUnitH": "h",
            "timeUnitD": "j",
            "ago": "il y a",
            "Shuffle": "Aléatoire",
            "Repeat": "Répéter",
            "Play / Pause": "Lecture / Pause",
            "Volume": "Volume",
            "Mute / Unmute": "Muet / Réactiver le son",
            "Volume Up / Down": "Augmenter / Baisser le volume",
            "Settings": "Paramètres",
            "Seek": "Se déplacer",
            "Seek Backward": "Reculer",
            "Seek Forward": "Avancer",
            "Go to Previous/Next Media": "Aller au média précédent/suivant",
            "Go to Previous Media": "Aller au média précédent",
            "Go to Next Media": "Aller au média suivant",
            "FullScreen": "Plein écran",
            "no-media-message": "Veuillez ajouter des médias.",
            "no-repeat-message": "Veuillez activer la répétition.",
            "not-supported-media-message": "Ce média ne peut pas être lu.",
            "wake-up-timer-not-working": "La minuterie de réveil risque de ne pas fonctionner correctement sur cet appareil.",
            "noscript-message": "JavaScript est désactivé. Veuillez activer JavaScript."
        },
        "hi": {
            "lang-label": "हिन्दी",
            "lang-direction": "ltr",
            "add-media": "मीडिया जोड़ें",
            "remove-media": "मीडिया हटाएँ",
            "loading-media": "मीडिया लोड हो रहा है...",
            "Auto": "स्वचालित",
            "description": "वेब ब्राउज़र में चलने वाला वेब-आधारित मीडिया प्लेयर",
            "media-count-label": "मीडिया गिनती:",
            "media-length-label": "मीडिया अवधि:",
            "with-fullscreen-label": "फ़ुलस्क्रीन:",
            "brightness-label": "उजाला:",
            "stretch-label": "स्ट्रेच:",
            "padding-label": "पैडिंग:",
            "cross-fade-label": "क्रॉस फेड:",
            "cross-fade-with-blur-label": "ब्लर के साथ क्रॉस फेड:",
            "image-span-label": "छवि प्रदर्शन समय:",
            "loop-short-media-label": "छोटे मीडिया को लूप करें:",
            "visualizer-label": "विज़ुअलाइज़र:",
            "visualizer-simple": "सरल",
            "visualizer-plane-frequency": "समतल आवृत्ति",
            "visualizer-plane-waveform": "समतल तरंगरूप",
            "visualizer-arc-frequency": "आर्क आवृत्ति",
            "visualizer-arc-waveform": "आर्क तरंगरूप",
            "visualizer-double-arc": "डबल आर्क",
            "visualizer-stereo-arc-frequency": "स्टीरियो आर्क आवृत्ति",
            "visualizer-stereo-arc-waveform": "स्टीरियो आर्क तरंगरूप",
            "visualizer-stereo-double-arc": "स्टीरियो डबल आर्क",
            "analog-clock-label": "एनालॉग घड़ी:",
            "date-hands-label": "तारीख के सूचक:",
            "millisecond-hand-label": "मिलीसेकंड हैंड:",
            "overlay-style-label": "ओवरले शैली:",
            "hide": "छिपाएँ",
            "blend": "ब्लेंड",
            "white": "सफ़ेद",
            "black": "काला",
            "system": "सिस्टम",
            "alternate": "वैकल्पिक",
            "rainbow": "इंद्रधनुष",
            "overlay-position-label": "ओवरले स्थिति:",
            "center": "केंद्र",
            "top-right": "ऊपर-दायाँ",
            "bottom-right": "नीचे-दायाँ",
            "bottom-left": "नीचे-बायाँ",
            "top-left": "ऊपर-बायाँ",
            "rotate": "घुमाएँ",
            "with-weather-label": "मौसम:",
            "weather-location-label": "मौसम स्थान:",
            "ip-address": "IP पता (कम सटीकता)",
            "geolocation": "जियोलोकेशन (उच्च सटीकता)",
            "with-clock-label": "घड़ी:",
            "with-date-label": "तारीख:",
            "with-calendar-label": "कैलेंडर:",
            "with-visualizer-label": "विज़ुअलाइज़र (ओवरले):",
            "show-fps-label": "FPS दिखाएँ:",
            "shortcuts-label": "कीबोर्ड शॉर्टकट:",
            "language-label": "भाषा:",
            "url-label": "इस सेटिंग का लिंक",
            "repository-label": "रिपॉज़िटरी",
            "on": "चालू",
            "off": "बंद",
            "wakeup": "वेक-अप टाइमर",
            "wakeup-label": "वेक-अप टाइमर:",
            "timer-label": "टाइमर",
            "fade-in-label": "फेड-इन समय:",
            "sleep": "स्लीप टाइमर",
            "sleep-label": "स्लीप टाइमर:",
            "fade-out-label": "फेड-आउट समय:",
            "timeUnitMs": "मिलीसेकंड",
            "timeUnitS": "सेक",
            "timeUnitM": "मिन",
            "timeUnitH": "घं",
            "timeUnitD": "दिन",
            "ago": "पहले",
            "Shuffle": "शफल",
            "Repeat": "दोहराएँ",
            "Play / Pause": "प्ले / पॉज़",
            "Volume": "वॉल्यूम",
            "Mute / Unmute": "म्यूट / अनम्यूट",
            "Volume Up / Down": "वॉल्यूम ऊपर / नीचे",
            "Settings": "सेटिंग्स",
            "Seek": "खोजें",
            "Seek Backward": "पीछे जाएँ",
            "Seek Forward": "आगे जाएँ",
            "Go to Previous/Next Media": "पिछले/अगले मीडिया पर जाएँ",
            "Go to Previous Media": "पिछले मीडिया पर जाएँ",
            "Go to Next Media": "अगले मीडिया पर जाएँ",
            "FullScreen": "पूर्ण स्क्रीन",
            "no-media-message": "कृपया मीडिया जोड़ें।",
            "no-repeat-message": "कृपया रिपीट सक्षम करें।",
            "not-supported-media-message": "यह मीडिया प्ले नहीं किया जा सकता।",
            "wake-up-timer-not-working": "वेक-अप टाइमर इस डिवाइस पर सही ढंग से काम न करने की संभावना है।",
            "noscript-message": "JavaScript अक्षम है। कृपया JavaScript सक्षम करें।"
        },
        "id": {
            "lang-label": "Bahasa Indonesia",
            "lang-direction": "ltr",
            "add-media": "Tambah Media",
            "remove-media": "Hapus Media",
            "loading-media": "Memuat media...",
            "Auto": "Otomatis",
            "description": "Pemutar media berbasis web yang berjalan di peramban",
            "media-count-label": "Jumlah Media:",
            "media-length-label": "Durasi Media:",
            "with-fullscreen-label": "Layar Penuh:",
            "brightness-label": "Kecerahan:",
            "stretch-label": "Stretch:",
            "padding-label": "Padding:",
            "cross-fade-label": "Cross Fade:",
            "cross-fade-with-blur-label": "Cross Fade dengan Blur:",
            "image-span-label": "Waktu Tampil Gambar:",
            "loop-short-media-label": "Loop Media Pendek:",
            "visualizer-label": "Visualizer:",
            "visualizer-simple": "Sederhana",
            "visualizer-plane-frequency": "Frekuensi Datar",
            "visualizer-plane-waveform": "Bentuk Gelombang Datar",
            "visualizer-arc-frequency": "Frekuensi Busur",
            "visualizer-arc-waveform": "Bentuk Gelombang Busur",
            "visualizer-double-arc": "Busur Ganda",
            "visualizer-stereo-arc-frequency": "Frekuensi Busur Stereo",
            "visualizer-stereo-arc-waveform": "Bentuk Gelombang Busur Stereo",
            "visualizer-stereo-double-arc": "Busur Stereo Ganda",
            "analog-clock-label": "Jam Analog:",
            "date-hands-label": "Jarum Tanggal:",
            "millisecond-hand-label": "Jarum Milidetik:",
            "overlay-style-label": "Gaya Overlay:",
            "hide": "Sembunyikan",
            "blend": "Campur",
            "white": "Putih",
            "black": "Hitam",
            "system": "Sistem",
            "alternate": "Bergantian",
            "rainbow": "Pelangi",
            "overlay-position-label": "Posisi Overlay:",
            "center": "Tengah",
            "top-right": "Kanan Atas",
            "bottom-right": "Kanan Bawah",
            "bottom-left": "Kiri Bawah",
            "top-left": "Kiri Atas",
            "rotate": "Putar",
            "with-weather-label": "Cuaca:",
            "weather-location-label": "Lokasi Cuaca:",
            "ip-address": "Alamat IP (Akurasi Rendah)",
            "geolocation": "Geolokasi (Akurasi Tinggi)",
            "with-clock-label": "Jam:",
            "with-date-label": "Tanggal:",
            "with-calendar-label": "Kalender:",
            "with-visualizer-label": "Visualizer (Overlay):",
            "show-fps-label": "Tampilkan FPS:",
            "shortcuts-label": "Shortcut Keyboard:",
            "language-label": "Bahasa:",
            "url-label": "Tautkan ke pengaturan ini",
            "repository-label": "repositori",
            "on": "Hidup",
            "off": "Mati",
            "wakeup": "Timer Bangun",
            "wakeup-label": "Timer Bangun:",
            "timer-label": "Timer",
            "fade-in-label": "Waktu Fade-in:",
            "sleep": "Timer Tidur",
            "sleep-label": "Timer Tidur:",
            "fade-out-label": "Waktu Fade-out:",
            "timeUnitMs": "ms",
            "timeUnitS": "s",
            "timeUnitM": "m",
            "timeUnitH": "h",
            "timeUnitD": "d",
            "ago": "lalu",
            "Shuffle": "Acak",
            "Repeat": "Ulangi",
            "Play / Pause": "Putar / Jeda",
            "Volume": "Volume",
            "Mute / Unmute": "Diam / Bunyikan",
            "Volume Up / Down": "Naikkan / Turunkan Volume",
            "Settings": "Pengaturan",
            "Seek": "Loncat",
            "Seek Backward": "Mundur",
            "Seek Forward": "Maju",
            "Go to Previous/Next Media": "Ke Media Sebelumnya/Berikutnya",
            "Go to Previous Media": "Ke Media Sebelumnya",
            "Go to Next Media": "Ke Media Berikutnya",
            "FullScreen": "Layar Penuh",
            "no-media-message": "Silakan tambahkan media.",
            "no-repeat-message": "Silakan aktifkan ulang.",
            "not-supported-media-message": "Media ini tidak dapat diputar.",
            "wake-up-timer-not-working": "Timer bangun mungkin tidak berfungsi dengan baik pada perangkat ini.",
            "noscript-message": "JavaScript dinonaktifkan. Aktifkan JavaScript."
        },
        "it": {
            "lang-label": "Italiano",
            "lang-direction": "ltr",
            "add-media": "Aggiungi media",
            "remove-media": "Rimuovi media",
            "loading-media": "Caricamento media...",
            "Auto": "Automatico",
            "description": "Lettore multimediale web che viene eseguito nel browser",
            "media-count-label": "Conteggio media:",
            "media-length-label": "Durata media:",
            "with-fullscreen-label": "Schermo intero:",
            "brightness-label": "Luminosità:",
            "stretch-label": "Allunga:",
            "padding-label": "Imbottitura:",
            "cross-fade-label": "Dissolvenza incrociata:",
            "cross-fade-with-blur-label": "Dissolvenza incrociata con sfocatura:",
            "image-span-label": "Tempo di visualizzazione immagine:",
            "loop-short-media-label": "Ripeti i media brevi:",
            "visualizer-label": "Visualizzatore:",
            "visualizer-simple": "Semplice",
            "visualizer-plane-frequency": "Frequenza piano",
            "visualizer-plane-waveform": "Forma d'onda piano",
            "visualizer-arc-frequency": "Frequenza arco",
            "visualizer-arc-waveform": "Forma d'onda arco",
            "visualizer-double-arc": "Arco doppio",
            "visualizer-stereo-arc-frequency": "Frequenza arco stereo",
            "visualizer-stereo-arc-waveform": "Forma d'onda arco stereo",
            "visualizer-stereo-double-arc": "Arco stereo doppio",
            "analog-clock-label": "Orologio analogico:",
            "date-hands-label": "Lancette della data:",
            "millisecond-hand-label": "Lancetta dei millisecondi:",
            "overlay-style-label": "Stile sovrapposizione:",
            "hide": "Nascondi",
            "blend": "Fondi",
            "white": "Bianco",
            "black": "Nero",
            "system": "Sistema",
            "alternate": "Alterna",
            "rainbow": "Arcobaleno",
            "overlay-position-label": "Posizione sovrapposizione:",
            "center": "Centro",
            "top-right": "In alto a destra",
            "bottom-right": "In basso a destra",
            "bottom-left": "In basso a sinistra",
            "top-left": "In alto a sinistra",
            "rotate": "Ruota",
            "with-weather-label": "Meteo:",
            "weather-location-label": "Posizione meteo:",
            "ip-address": "Indirizzo IP (bassa precisione)",
            "geolocation": "Geolocalizzazione (alta precisione)",
            "with-clock-label": "Orologio:",
            "with-date-label": "Data:",
            "with-calendar-label": "Calendario:",
            "with-visualizer-label": "Visualizzatore (sovrapposizione):",
            "show-fps-label": "Mostra FPS:",
            "shortcuts-label": "Scorciatoie da tastiera:",
            "language-label": "Lingua:",
            "url-label": "Link a questa impostazione",
            "repository-label": "Repository",
            "on": "On",
            "off": "Off",
            "wakeup": "Timer di risveglio",
            "wakeup-label": "Timer di risveglio:",
            "timer-label": "Timer",
            "fade-in-label": "Durata fade-in:",
            "sleep": "Timer di sospensione",
            "sleep-label": "Timer di sospensione:",
            "fade-out-label": "Durata fade-out:",
            "timeUnitMs": "ms",
            "timeUnitS": "s",
            "timeUnitM": "m",
            "timeUnitH": "h",
            "timeUnitD": "g",
            "ago": "fa",
            "Shuffle": "Casuale",
            "Repeat": "Ripeti",
            "Play / Pause": "Riproduci / Pausa",
            "Volume": "Volume",
            "Mute / Unmute": "Muto / Disattiva muto",
            "Volume Up / Down": "Alza volume / Abbassa volume",
            "Settings": "Impostazioni",
            "Seek": "Salta a",
            "Seek Backward": "Salta indietro",
            "Seek Forward": "Salta avanti",
            "Go to Previous/Next Media": "Vai al media precedente/successivo",
            "Go to Previous Media": "Vai al media precedente",
            "Go to Next Media": "Vai al media successivo",
            "FullScreen": "Schermo intero",
            "no-media-message": "Aggiungi dei media.",
            "no-repeat-message": "Abilita la ripetizione.",
            "not-supported-media-message": "Questo media non può essere riprodotto.",
            "wake-up-timer-not-working": "Il timer di risveglio probabilmente non funzionerà correttamente su questo dispositivo.",
            "noscript-message": "JavaScript è disabilitato. Abilita JavaScript."
        },
        "ja": {
            "lang-label": "日本語",
            "lang-direction": "ltr",
            "add-media": "メディアを追加",
            "remove-media": "メディアを削除",
            "loading-media": "メディアを読み込み中...",
            "Auto": "自動",
            "description": "Web ブラウザ上で動作するメディアプレイヤー",
            "media-count-label": "メディア数:",
            "media-length-label": "メディア長:",
            "with-fullscreen-label": "フルスクリーン:",
            "brightness-label": "明るさ:",
            "stretch-label": "ストレッチ:",
            "padding-label": "パディング:",
            "cross-fade-label": "クロスフェード:",
            "cross-fade-with-blur-label": "ぼかし付きクロスフェード:",
            "image-span-label": "画像表示時間:",
            "loop-short-media-label": "短いメディアをループ再生:",
            "visualizer-label": "ビジュアライザー:",
            "visualizer-simple": "シンプル",
            "visualizer-plane-frequency": "平面周波数",
            "visualizer-plane-waveform": "平面波形",
            "visualizer-arc-frequency": "アーク周波数",
            "visualizer-arc-waveform": "アーク波形",
            "visualizer-double-arc": "ダブルアーク",
            "visualizer-stereo-arc-frequency": "ステレオアーク周波数",
            "visualizer-stereo-arc-waveform": "ステレオアーク波形",
            "visualizer-stereo-double-arc": "ステレオダブルアーク",
            "analog-clock-label": "アナログ時計:",
            "date-hands-label": "日付針:",
            "millisecond-hand-label": "ミリ秒針:",
            "overlay-style-label": "オーバーレイスタイル:",
            "hide": "非表示",
            "blend": "ブレンド",
            "white": "ホワイト",
            "black": "ブラック",
            "system": "システム",
            "alternate": "交互",
            "rainbow": "レインボー",
            "overlay-position-label": "オーバーレイ位置:",
            "center": "中央",
            "top-right": "右上",
            "bottom-right": "右下",
            "bottom-left": "左下",
            "top-left": "左上",
            "rotate": "回転",
            "with-weather-label": "天気:",
            "weather-location-label": "天気の場所:",
            "ip-address": "IP アドレス(低精度)",
            "geolocation": "ジオロケーション(高精度)",
            "with-clock-label": "時計:",
            "with-date-label": "日付:",
            "with-calendar-label": "カレンダー:",
            "with-visualizer-label": "ビジュアライザー(オーバーレイ):",
            "show-fps-label": "FPS を表示:",
            "shortcuts-label": "キーボードショートカット:",
            "language-label": "言語:",
            "url-label": "この設定のリンク",
            "repository-label": "リポジトリ",
            "on": "オン",
            "off": "オフ",
            "wakeup": "起床タイマー",
            "wakeup-label": "起床タイマー:",
            "timer-label": "タイマー",
            "fade-in-label": "フェードイン時間:",
            "sleep": "スリープタイマー",
            "sleep-label": "スリープタイマー:",
            "fade-out-label": "フェードアウト時間:",
            "timeUnitMs": "ミリ秒",
            "timeUnitS": "秒",
            "timeUnitM": "分",
            "timeUnitH": "時間",
            "timeUnitD": "日",
            "ago": "前",
            "Shuffle": "シャッフル",
            "Repeat": "リピート",
            "Play / Pause": "再生 / 一時停止",
            "Volume": "音量",
            "Mute / Unmute": "ミュート / ミュート解除",
            "Volume Up / Down": "音量アップ / ダウン",
            "Settings": "設定",
            "Seek": "再生位置移動",
            "Seek Backward": "巻き戻し",
            "Seek Forward": "早送り",
            "Go to Previous/Next Media": "前後のメディアへ移動",
            "Go to Previous Media": "前のメディアへ移動",
            "Go to Next Media": "次のメディアへ移動",
            "FullScreen": "フルスクリーン",
            "no-media-message": "メディアを追加してください。",
            "no-repeat-message": "リピートを有効にしてください。",
            "not-supported-media-message": "再生できないメディアです。",
            "wake-up-timer-not-working": "起床タイマーはこのデバイスでは正常に動作しない可能性が高いです。",
            "noscript-message": "JavaScript が無効になっています。JavaScript を有効にしてください。"
        },
        "ko": {
            "lang-label": "한국어",
            "lang-direction": "ltr",
            "add-media": "미디어 추가",
            "remove-media": "미디어 제거",
            "loading-media": "미디어 로드 중...",
            "Auto": "자동",
            "description": "웹 브라우저에서 실행되는 웹 기반 미디어 플레이어",
            "media-count-label": "미디어 수:",
            "media-length-label": "미디어 길이:",
            "with-fullscreen-label": "전체화면:",
            "brightness-label": "밝기:",
            "stretch-label": "스트레치:",
            "padding-label": "여백:",
            "cross-fade-label": "크로스 페이드:",
            "cross-fade-with-blur-label": "블러 포함 크로스 페이드:",
            "image-span-label": "이미지 표시 시간:",
            "loop-short-media-label": "짧은 미디어 반복 재생:",
            "visualizer-label": "시각화:",
            "visualizer-simple": "단순",
            "visualizer-plane-frequency": "평면 주파수",
            "visualizer-plane-waveform": "평면 파형",
            "visualizer-arc-frequency": "아크 주파수",
            "visualizer-arc-waveform": "아크 파형",
            "visualizer-double-arc": "더블 아크",
            "visualizer-stereo-arc-frequency": "스테레오 아크 주파수",
            "visualizer-stereo-arc-waveform": "스테레오 아크 파형",
            "visualizer-stereo-double-arc": "스테레오 더블 아크",
            "analog-clock-label": "아날로그 시계:",
            "date-hands-label": "날짜 바늘:",
            "millisecond-hand-label": "밀리초 바늘:",
            "overlay-style-label": "오버레이 스타일:",
            "hide": "숨기기",
            "blend": "블렌드",
            "white": "화이트",
            "black": "블랙",
            "system": "시스템",
            "alternate": "교대",
            "rainbow": "무지개",
            "overlay-position-label": "오버레이 위치:",
            "center": "가운데",
            "top-right": "오른쪽 위",
            "bottom-right": "오른쪽 아래",
            "bottom-left": "왼쪽 아래",
            "top-left": "왼쪽 위",
            "rotate": "회전",
            "with-weather-label": "날씨:",
            "weather-location-label": "날씨 위치:",
            "ip-address": "IP 주소(저정밀)",
            "geolocation": "위치정보(고정밀)",
            "with-clock-label": "시계:",
            "with-date-label": "날짜:",
            "with-calendar-label": "달력:",
            "with-visualizer-label": "시각화(오버레이):",
            "show-fps-label": "FPS 표시:",
            "shortcuts-label": "단축키:",
            "language-label": "언어:",
            "url-label": "이 설정으로 링크",
            "repository-label": "저장소",
            "on": "켬",
            "off": "끔",
            "wakeup": "알람 타이머",
            "wakeup-label": "알람 타이머:",
            "timer-label": "타이머",
            "fade-in-label": "페이드 인 시간:",
            "sleep": "슬립 타이머",
            "sleep-label": "슬립 타이머:",
            "fade-out-label": "페이드 아웃 시간:",
            "timeUnitMs": "ms",
            "timeUnitS": "s",
            "timeUnitM": "m",
            "timeUnitH": "h",
            "timeUnitD": "d",
            "ago": "전",
            "Shuffle": "셔플",
            "Repeat": "반복",
            "Play / Pause": "재생 / 일시정지",
            "Volume": "볼륨",
            "Mute / Unmute": "음소거 / 음소거 해제",
            "Volume Up / Down": "볼륨 높임 / 낮춤",
            "Settings": "설정",
            "Seek": "탐색",
            "Seek Backward": "뒤로 탐색",
            "Seek Forward": "앞으로 탐색",
            "Go to Previous/Next Media": "이전/다음 미디어로 이동",
            "Go to Previous Media": "이전 미디어로 이동",
            "Go to Next Media": "다음 미디어로 이동",
            "FullScreen": "전체화면",
            "no-media-message": "미디어를 추가하세요.",
            "no-repeat-message": "반복을 활성화하세요.",
            "not-supported-media-message": "이 미디어는 재생할 수 없습니다.",
            "wake-up-timer-not-working": "이 기기에서는 알람 타이머가 제대로 작동하지 않을 수 있습니다.",
            "noscript-message": "JavaScript가 비활성화되어 있습니다. JavaScript를 활성화하세요."
        },
        "nl": {
            "lang-label": "Nederlands",
            "lang-direction": "ltr",
            "add-media": "Media toevoegen",
            "remove-media": "Media verwijderen",
            "loading-media": "Media laden...",
            "Auto": "Automatisch",
            "description": "Webgebaseerde mediaspeler die in een webbrowser draait",
            "media-count-label": "Aantal media:",
            "media-length-label": "Mediaduur:",
            "with-fullscreen-label": "Volledig scherm:",
            "brightness-label": "Helderheid:",
            "stretch-label": "Uitrekken:",
            "padding-label": "Opvulling:",
            "cross-fade-label": "Crossfade:",
            "cross-fade-with-blur-label": "Crossfade met vervaging:",
            "image-span-label": "Afbeelding weergavetijd:",
            "loop-short-media-label": "Korte media herhalen:",
            "visualizer-label": "Visualizer:",
            "visualizer-simple": "Eenvoudig",
            "visualizer-plane-frequency": "Vlak frequentie",
            "visualizer-plane-waveform": "Vlak golfvorm",
            "visualizer-arc-frequency": "Boog frequentie",
            "visualizer-arc-waveform": "Boog golfvorm",
            "visualizer-double-arc": "Dubbele boog",
            "visualizer-stereo-arc-frequency": "Stereo boog frequentie",
            "visualizer-stereo-arc-waveform": "Stereo boog golfvorm",
            "visualizer-stereo-double-arc": "Stereo dubbele boog",
            "analog-clock-label": "Analoge klok:",
            "date-hands-label": "Datumwijzers:",
            "millisecond-hand-label": "Milliseconde wijzer:",
            "overlay-style-label": "Overlay-stijl:",
            "hide": "Verbergen",
            "blend": "Meng",
            "white": "Wit",
            "black": "Zwart",
            "system": "Systeem",
            "alternate": "Alternatief",
            "rainbow": "Regenboog",
            "overlay-position-label": "Overlay positie:",
            "center": "Midden",
            "top-right": "Boven rechts",
            "bottom-right": "Onder rechts",
            "bottom-left": "Onder links",
            "top-left": "Boven links",
            "rotate": "Draaien",
            "with-weather-label": "Weer:",
            "weather-location-label": "Weer locatie:",
            "ip-address": "IP-adres (lage nauwkeurigheid)",
            "geolocation": "Geolocatie (hoge nauwkeurigheid)",
            "with-clock-label": "Klok:",
            "with-date-label": "Datum:",
            "with-calendar-label": "Kalender:",
            "with-visualizer-label": "Visualizer (Overlay):",
            "show-fps-label": "FPS tonen:",
            "shortcuts-label": "Toetsenbordsnelkoppelingen:",
            "language-label": "Taal:",
            "url-label": "Link naar deze instelling",
            "repository-label": "repository",
            "on": "Aan",
            "off": "Uit",
            "wakeup": "Wekker",
            "wakeup-label": "Wekker:",
            "timer-label": "Timer",
            "fade-in-label": "Fade-in tijd:",
            "sleep": "Slaaptimer",
            "sleep-label": "Slaaptimer:",
            "fade-out-label": "Fade-out tijd:",
            "timeUnitMs": "ms",
            "timeUnitS": "s",
            "timeUnitM": "m",
            "timeUnitH": "h",
            "timeUnitD": "d",
            "ago": "geleden",
            "Shuffle": "Willekeurig",
            "Repeat": "Herhalen",
            "Play / Pause": "Afspelen / Pauzeren",
            "Volume": "Volume",
            "Mute / Unmute": "Dempen / Geluid aan",
            "Volume Up / Down": "Volume omhoog / omlaag",
            "Settings": "Instellingen",
            "Seek": "Zoeken",
            "Seek Backward": "Terug",
            "Seek Forward": "Vooruit",
            "Go to Previous/Next Media": "Ga naar vorige/volgende media",
            "Go to Previous Media": "Ga naar vorige media",
            "Go to Next Media": "Ga naar volgende media",
            "FullScreen": "Volledig scherm",
            "no-media-message": "Voeg media toe.",
            "no-repeat-message": "Schakel herhaling in.",
            "not-supported-media-message": "Dit mediaformaat kan niet worden afgespeeld.",
            "wake-up-timer-not-working": "De wekker werkt waarschijnlijk niet goed op dit apparaat.",
            "noscript-message": "JavaScript is uitgeschakeld. Schakel JavaScript in."
        },
        "pl": {
            "lang-label": "Polski",
            "lang-direction": "ltr",
            "add-media": "Dodaj multimedia",
            "remove-media": "Usuń multimedia",
            "loading-media": "Ładowanie multimediów...",
            "Auto": "Automatycznie",
            "description": "Odtwarzacz multimedialny działający w przeglądarce",
            "media-count-label": "Liczba mediów:",
            "media-length-label": "Długość mediów:",
            "with-fullscreen-label": "Pełny ekran:",
            "brightness-label": "Jasność:",
            "stretch-label": "Rozciągnięcie:",
            "padding-label": "Odstępy:",
            "cross-fade-label": "Przenikanie:",
            "cross-fade-with-blur-label": "Przenikanie z rozmyciem:",
            "image-span-label": "Czas wyświetlania obrazu:",
            "loop-short-media-label": "Powtarzaj krótkie media:",
            "visualizer-label": "Wizualizer:",
            "visualizer-simple": "Prosty",
            "visualizer-plane-frequency": "Płaszczyzna częstotliwości",
            "visualizer-plane-waveform": "Płaszczyzna przebiegu",
            "visualizer-arc-frequency": "Łuk częstotliwości",
            "visualizer-arc-waveform": "Łuk przebiegu",
            "visualizer-double-arc": "Podwójny łuk",
            "visualizer-stereo-arc-frequency": "Stereo łuk częstotliwości",
            "visualizer-stereo-arc-waveform": "Stereo łuk przebiegu",
            "visualizer-stereo-double-arc": "Stereo podwójny łuk",
            "analog-clock-label": "Zegar analogowy:",
            "date-hands-label": "Wskazówki daty:",
            "millisecond-hand-label": "Wskazówka milisekund:",
            "overlay-style-label": "Styl nakładki:",
            "hide": "Ukryj",
            "blend": "Mieszaj",
            "white": "Biały",
            "black": "Czarny",
            "system": "System",
            "alternate": "Naprzemiennie",
            "rainbow": "Tęczowy",
            "overlay-position-label": "Pozycja nakładki:",
            "center": "Środek",
            "top-right": "Prawy górny",
            "bottom-right": "Prawy dolny",
            "bottom-left": "Lewy dolny",
            "top-left": "Lewy górny",
            "rotate": "Obróć",
            "with-weather-label": "Pogoda:",
            "weather-location-label": "Lokalizacja pogody:",
            "ip-address": "Adres IP (nisk dokładność)",
            "geolocation": "Geolokalizacja (wysoka dokładność)",
            "with-clock-label": "Zegar:",
            "with-date-label": "Data:",
            "with-calendar-label": "Kalendarz:",
            "with-visualizer-label": "Wizualizer (nakładka):",
            "show-fps-label": "Pokaż FPS:",
            "shortcuts-label": "Skróty klawiaturowe:",
            "language-label": "Język:",
            "url-label": "Link do tego ustawienia",
            "repository-label": "repozytorium",
            "on": "Włącz",
            "off": "Wyłącz",
            "wakeup": "Budzik",
            "wakeup-label": "Budzik:",
            "timer-label": "Timer",
            "fade-in-label": "Czas narastania:",
            "sleep": "Timer usypiania",
            "sleep-label": "Timer usypiania:",
            "fade-out-label": "Czas zanikania:",
            "timeUnitMs": "ms",
            "timeUnitS": "s",
            "timeUnitM": "m",
            "timeUnitH": "h",
            "timeUnitD": "d",
            "ago": "temu",
            "Shuffle": "Losowo",
            "Repeat": "Powtarzaj",
            "Play / Pause": "Odtwarzaj / Pauza",
            "Volume": "Głośność",
            "Mute / Unmute": "Wycisz / Wyłącz wyciszenie",
            "Volume Up / Down": "Głośniej / Ciszej",
            "Settings": "Ustawienia",
            "Seek": "Przesuń",
            "Seek Backward": "Cofnij",
            "Seek Forward": "Przesuń do przodu",
            "Go to Previous/Next Media": "Przejdź do poprzedniego/następnego mediów",
            "Go to Previous Media": "Przejdź do poprzedniego",
            "Go to Next Media": "Przejdź do następnego",
            "FullScreen": "Pełny ekran",
            "no-media-message": "Dodaj media.",
            "no-repeat-message": "Włącz powtarzanie.",
            "not-supported-media-message": "To media nie może zostać odtworzone.",
            "wake-up-timer-not-working": "Budzik może nie działać poprawnie na tym urządzeniu.",
            "noscript-message": "JavaScript jest wyłączony. Proszę włączyć JavaScript."
        },
        "pt": {
            "lang-label": "Português",
            "lang-direction": "ltr",
            "add-media": "Adicionar mídia",
            "remove-media": "Remover mídia",
            "loading-media": "Carregando mídia...",
            "Auto": "Automático",
            "description": "Reprodutor de mídia baseado na web que roda em um navegador",
            "media-count-label": "Contagem de mídias:",
            "media-length-label": "Duração da mídia:",
            "with-fullscreen-label": "Tela cheia:",
            "brightness-label": "Brilho:",
            "stretch-label": "Esticar:",
            "padding-label": "Preenchimento:",
            "cross-fade-label": "Dissolução cruzada:",
            "cross-fade-with-blur-label": "Dissolução cruzada com desfoque:",
            "image-span-label": "Tempo de exibição da imagem:",
            "loop-short-media-label": "Repetir mídias curtas:",
            "visualizer-label": "Visualizador:",
            "visualizer-simple": "Simples",
            "visualizer-plane-frequency": "Frequência de plano",
            "visualizer-plane-waveform": "Forma de onda de plano",
            "visualizer-arc-frequency": "Frequência de arco",
            "visualizer-arc-waveform": "Forma de onda de arco",
            "visualizer-double-arc": "Arco duplo",
            "visualizer-stereo-arc-frequency": "Frequência de arco estéreo",
            "visualizer-stereo-arc-waveform": "Forma de onda de arco estéreo",
            "visualizer-stereo-double-arc": "Arco estéreo duplo",
            "analog-clock-label": "Relógio analógico:",
            "date-hands-label": "Ponteiros de data:",
            "millisecond-hand-label": "Ponteiro de milissegundos:",
            "overlay-style-label": "Estilo de sobreposição:",
            "hide": "Ocultar",
            "blend": "Mesclar",
            "white": "Branco",
            "black": "Preto",
            "system": "Sistema",
            "alternate": "Alternar",
            "rainbow": "Arco-íris",
            "overlay-position-label": "Posição da sobreposição:",
            "center": "Centro",
            "top-right": "Canto superior direito",
            "bottom-right": "Canto inferior direito",
            "bottom-left": "Canto inferior esquerdo",
            "top-left": "Canto superior esquerdo",
            "rotate": "Girar",
            "with-weather-label": "Clima:",
            "weather-location-label": "Local do clima:",
            "ip-address": "Endereço IP (baixa precisão)",
            "geolocation": "Geolocalização (alta precisão)",
            "with-clock-label": "Relógio:",
            "with-date-label": "Data:",
            "with-calendar-label": "Calendário:",
            "with-visualizer-label": "Visualizador (sobreposição):",
            "show-fps-label": "Mostrar FPS:",
            "shortcuts-label": "Atalhos de teclado:",
            "language-label": "Idioma:",
            "url-label": "Link para esta configuração",
            "repository-label": "repositório",
            "on": "Ligado",
            "off": "Desligado",
            "wakeup": "Timer de despertar",
            "wakeup-label": "Timer de despertar:",
            "timer-label": "Timer",
            "fade-in-label": "Tempo de fade-in:",
            "sleep": "Timer de suspensão",
            "sleep-label": "Timer de suspensão:",
            "fade-out-label": "Tempo de fade-out:",
            "timeUnitMs": "ms",
            "timeUnitS": "s",
            "timeUnitM": "m",
            "timeUnitH": "h",
            "timeUnitD": "d",
            "ago": "atrás",
            "Shuffle": "Aleatório",
            "Repeat": "Repetir",
            "Play / Pause": "Reproduzir / Pausar",
            "Volume": "Volume",
            "Mute / Unmute": "Silenciar / Desmutar",
            "Volume Up / Down": "Aumentar / Diminuir volume",
            "Settings": "Configurações",
            "Seek": "Buscar",
            "Seek Backward": "Retroceder",
            "Seek Forward": "Avançar",
            "Go to Previous/Next Media": "Ir para mídia anterior/próxima",
            "Go to Previous Media": "Ir para mídia anterior",
            "Go to Next Media": "Ir para mídia seguinte",
            "FullScreen": "Tela cheia",
            "no-media-message": "Por favor, adicione mídia.",
            "no-repeat-message": "Por favor, ative a repetição.",
            "not-supported-media-message": "Esta mídia não pode ser reproduzida.",
            "wake-up-timer-not-working": "O timer de despertar provavelmente não funcionará corretamente neste dispositivo.",
            "noscript-message": "JavaScript está desativado. Por favor, ative o JavaScript."
        }
    };
});
define("script/library/locale", ["require", "exports", "script/tools/array", "locale/generated/master"], function (require, exports, array_1, localeMaster) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Locale = void 0;
    localeMaster = __importStar(localeMaster);
    var Locale;
    (function (Locale) {
        Locale.master = localeMaster.localeMaster;
        var supportedLangs = Object.keys(Locale.master);
        var getSegments = function (text, separator, segments) {
            return text.split(separator).slice(0, segments).join(separator);
        };
        var getMatchLang = function (lang) {
            var _a;
            return (_a = array_1.Array.lookupValue(supportedLangs, getSegments(lang, "-", 2))) !== null && _a !== void 0 ? _a : array_1.Array.lookupValue(supportedLangs, getSegments(lang, "-", 1));
        };
        var getDefaultLang = function () {
            var _a, _b;
            return (_b = (_a = getMatchLang(navigator.language.toLowerCase())) !== null && _a !== void 0 ? _a : navigator.languages.map(function (i) { return getMatchLang(i.toLowerCase()); }).filter(function (i) { return i !== undefined; })[0]) !== null && _b !== void 0 ? _b : "en";
        };
        var lang = getDefaultLang();
        Locale.getLocale = function () { return lang; };
        Locale.setLocale = function (locale, urlLocale) {
            var _a;
            switch (locale) {
                case undefined:
                case "Auto":
                    if (urlLocale) {
                        lang = (_a = getMatchLang(urlLocale)) !== null && _a !== void 0 ? _a : getDefaultLang();
                    }
                    else {
                        lang = getDefaultLang();
                    }
                    break;
                default:
                    lang = locale;
                    break;
            }
        };
        Locale.getDirection = function (l) {
            return Locale.master[l !== null && l !== void 0 ? l : lang]["lang-direction"];
        };
        Locale.isRtl = function (l) {
            return "rtl" === Locale.getDirection(l);
        };
        Locale.isLtr = function (l) {
            return "ltr" === Locale.getDirection(l);
        };
        Locale.toRtl = function (text, f) {
            return false === f ? text : "\u202B".concat(text, "\u202C");
        };
        Locale.map = function (key, l) {
            return "" === key ? "" : Locale.master[l !== null && l !== void 0 ? l : lang][key];
        };
        Locale.getLocaleList = function () {
            return __spreadArray(["Auto"], supportedLangs, true);
        };
    })(Locale || (exports.Locale = Locale = {}));
});
define("resource/config", [], {
    "applicationTitle": "Web Media Player",
    "repositoryUrl": "https://github.com/wraith13/web-media-player/",
    "canonicalUrl": "https://wraith13.github.io/web-media-player/",
    "log": {
        "mousemove": false,
        "ToggleClassForWhileTimer.Timeout": false
    },
    "thumbnail": {
        "maxSize": 320,
        "type": "image/jpeg",
        "quality": 0.7
    },
    "history": {
        "maxLength": 1000,
        "shuffleForbiddenRate": 0.333
    },
    "ui": {
        "mousemoveTimeout": 1500
    },
    "volume": {
        "step": 5
    },
    "analyser": {
        "fftSize": 4096
    },
    "visualizer": {
        "frequencyDataLengthRate": 1.0,
        "maxHue": 300,
        "arcType": "arc",
        "waveform": {
            "lineWidth": 2,
            "strokeStyle": "hsl(200, 100%, 50%)"
        },
        "arc": {
            "arc": {
                "radiusRate": 0.15,
                "angleRate": 0.8,
                "startAngleRate": 0.25
            },
            "circle": {
                "radiusRate": 0.15,
                "angleRate": 1.0,
                "startAngleRate": -0.25
            }
        }
    },
    "player": {
        "fastFowardSpan": 5000,
        "rewindSpan": 5000,
        "notSupportedMediaMessageSpan": 5000,
        "blurEasing": 2,
        "maxBlur": 25
    },
    "clock": {
        "alternate": {
            "span": 47000
        },
        "phiColors": {
            "saturation": 0.8,
            "lightness": 0.6
        },
        "dateFormat": {
            "weekday": "long",
            "year": "numeric",
            "month": "long",
            "day": "numeric"
        },
        "timeFormat": {
            "hour": "2-digit",
            "minute": "2-digit",
            "second": "2-digit"
        },
        "firstDayOfWeek": 0
    },
    "weather": {
        "site": "wttr.in",
        "format": "%c 🌡️%t 💧%h 💨%w",
        "na": "🚫 🌡️N/A 💧N/A 💨N/A",
        "updateInterval": "30m",
        "expire": "60m",
        "retryInterval": "3m",
        "fahrenheitLocales": [
            "en-US",
            "en-BS",
            "en-BZ",
            "en-KY",
            "en-PW",
            "en-LR",
            "en-FM"
        ]
    },
    "timers": {
        "minSteps": 500
    },
    "shortcuts": {
        "displayedKeysTimeout": 250,
        "pressedKeysTimeout": 15000
    }
});
define("script/library/ui", ["require", "exports", "resource/config", "script/tools/type-guards"], function (require, exports, config_json_1, type_guards_2) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.UI = void 0;
    config_json_1 = __importDefault(config_json_1);
    var UI;
    (function (UI) {
        UI.showPickerOnLabel = function (label) {
            var selectId = label.getAttribute("for");
            if (selectId) {
                var select_1 = document.getElementById(selectId);
                if (select_1 && "select" === select_1.tagName.toLowerCase()) {
                    label.addEventListener('click', function (e) {
                        e.preventDefault();
                        select_1.focus();
                        if ("showPicker" in select_1) {
                            select_1.showPicker();
                        }
                        else {
                            select_1.click();
                        }
                    });
                }
                else {
                    console.error("🦋 FIXME: UI.showPickerOnLabel.NotFoundSelect", label, select_1);
                }
            }
            else {
                console.error("🦋 FIXME: UI.showPickerOnLabel.NotFoundForAttribute", label);
            }
        };
        var ToggleClassForWhileTimer = /** @class */ (function () {
            function ToggleClassForWhileTimer() {
                var _this = this;
                this.isInTimer = function () { return undefined !== _this.timer; };
                this.timer = undefined;
            }
            ToggleClassForWhileTimer.prototype.start = function (element, token, span) {
                var _this = this;
                if (this.isInTimer()) {
                    clearTimeout(this.timer);
                }
                element.classList.toggle(token, true);
                this.timer = setTimeout(function () {
                    if (config_json_1.default.log["ToggleClassForWhileTimer.Timeout"]) {
                        console.log("⌛️ ToggleClassForWhileTimer.Timeout", element, token, span);
                    }
                    _this.timer = undefined;
                    element.classList.toggle(token, false);
                }, span);
            };
            return ToggleClassForWhileTimer;
        }());
        UI.ToggleClassForWhileTimer = ToggleClassForWhileTimer;
        UI.fullscreenEnabled = document.fullscreenEnabled || document.webkitFullscreenEnabled;
        UI.getFullscreenElement = function () { var _a, _b; return (_b = (_a = document.fullscreenElement) !== null && _a !== void 0 ? _a : ("webkitFullscreenElement" in document ? document.webkitFullscreenElement : null)) !== null && _b !== void 0 ? _b : null; };
        UI.requestFullscreen = function (dom) {
            if (dom === void 0) { dom = document.body; }
            if (dom.requestFullscreen) {
                dom.requestFullscreen();
            }
            else if ("webkitRequestFullscreen" in dom) {
                dom.webkitRequestFullscreen();
            }
        };
        UI.exitFullscreen = function () {
            if (null !== UI.getFullscreenElement()) {
                if (document.exitFullscreen) {
                    document.exitFullscreen();
                }
                else if ("webkitCancelFullScreen" in document) {
                    document.webkitCancelFullScreen();
                }
            }
        };
        UI.setOptions = function (element, options) {
            if (options === void 0) { options = {}; }
            var className = options.className, text = options.text, _a = options.attributes, attributes = _a === void 0 ? {} : _a, _b = options.children, children = _b === void 0 ? [] : _b, _c = options.styles, styles = _c === void 0 ? {} : _c, _d = options.events, events = _d === void 0 ? {} : _d;
            if ("string" === typeof className) {
                element.className = className;
            }
            if ("string" === typeof text) {
                element.textContent = text;
            }
            Object.entries(attributes).forEach(function (_a) {
                var key = _a[0], value = _a[1];
                return element.setAttribute(key, String(value));
            });
            Object.entries(styles).forEach(function (_a) {
                var key = _a[0], value = _a[1];
                return element.style[key] = value;
            });
            Object.entries(events).forEach(function (_a) {
                var event = _a[0], handler = _a[1];
                return element.addEventListener(event, handler);
            });
            children.forEach(function (child) { return UI.appendChild(element, child); });
            return element;
        };
        UI.createText = function (text) {
            return "string" === typeof text ? document.createTextNode(text) : text;
        };
        UI.createElement = function (element) {
            return element instanceof Node ? element :
                UI.setOptions(document.createElement(element.tag), element);
        };
        UI.createNode = function (element) {
            return "string" === typeof element ? document.createTextNode(element) :
                element instanceof Node ? element :
                    UI.setOptions(document.createElement(element.tag), element);
        };
        UI.removeAllChildren = function (parent) {
            Array.from(parent.children).forEach(function (i) { return parent.removeChild(i); });
            return parent;
        };
        UI.appendChild = function (parent, element) {
            parent.appendChild(UI.createNode(element));
            return parent;
        };
        UI.replaceChild = function (parent, element) {
            UI.removeAllChildren(parent);
            return UI.appendChild(parent, element);
        };
        UI.appendChildren = function (parent, elements) {
            if ("append" in parent) {
                parent.append.apply(parent, elements.map(function (i) { return UI.createNode(i); }));
            }
            else {
                elements.forEach(function (i) { return UI.appendChild(parent, i); });
            }
            return parent;
        };
        UI.replaceChildren = function (parent, elements) {
            UI.removeAllChildren(parent);
            return UI.appendChildren(parent, elements);
        };
        UI.cullOrBreed = function (parent, element, size) {
            while (size < parent.children.length) {
                parent.removeChild(parent.lastChild);
            }
            while (parent.children.length < size) {
                UI.appendChild(parent, element);
            }
            return parent;
        };
        UI.getElementsByClassName = function (tag, className, parent) {
            var result = Array.from((parent !== null && parent !== void 0 ? parent : document).getElementsByClassName(className));
            result.forEach(function (i) {
                if (tag !== i.tagName.toLowerCase()) {
                    console.error("🦋 FIXME: UI.getElementsByClassName.InvalidDom", className, tag, i);
                }
            });
            return result;
        };
        UI.querySelectorAllWithFallback = function (tag, selectorss, parent) {
            var lastError;
            for (var i = 0; i < selectorss.length; ++i) {
                try {
                    var result = Array.from((parent !== null && parent !== void 0 ? parent : document).querySelectorAll(selectorss[i]));
                    result.forEach(function (j) {
                        if (tag !== j.tagName.toLowerCase()) {
                            console.error("🦋 FIXME: UI.querySelectorAllWithFallback.InvalidDom", i, tag, j);
                        }
                    });
                    return result;
                }
                catch (error) {
                    lastError = error;
                }
            }
            console.error("🦋 FIXME: querySelectorAllWithFallback.AllQueryFailed", selectorss, lastError);
            return [];
        };
        UI.getElementById = function (tag, id) {
            var result = document.getElementById(id);
            if (!type_guards_2.TypeGuards.hasValue(result)) {
                console.error("🦋 FIXME: UI.getElementById.NotExistsDom", id);
            }
            else if (tag !== result.tagName.toLowerCase()) {
                console.error("🦋 FIXME: UI.getElementById.InvalidDom", id, tag, result);
            }
            return result;
        };
        UI.querySelector = function (tag, selectors, parent) {
            var result = (parent !== null && parent !== void 0 ? parent : document).querySelector(selectors);
            if (!type_guards_2.TypeGuards.hasValue(result)) {
                console.error("🦋 FIXME: UI.querySelector.NotExistsDom", selectors);
            }
            else if (tag !== result.tagName.toLowerCase()) {
                console.error("🦋 FIXME: UI.querySelector.InvalidDom", selectors, tag, result);
            }
            return result;
        };
        UI.setTextContent = function (element, text) {
            if (element.textContent !== text) {
                element.textContent = text;
            }
        };
        UI.setAttribute = function (element, name, value) {
            var _a;
            if (((_a = element.getAttribute(name)) !== null && _a !== void 0 ? _a : "") !== (value !== null && value !== void 0 ? value : "")) {
                if (undefined === value || null === value) {
                    element.removeAttribute(name);
                }
                else {
                    element.setAttribute(name, value);
                }
            }
        };
        UI.setStyle = function (element, name, value) {
            var _a;
            if (((_a = element.style.getPropertyValue(name)) !== null && _a !== void 0 ? _a : "") !== (value !== null && value !== void 0 ? value : "")) {
                if (undefined === value || null === value || "" === value) {
                    element.style.removeProperty(name);
                }
                else {
                    element.style.setProperty(name, value);
                }
            }
        };
    })(UI || (exports.UI = UI = {}));
});
define("script/library/control", ["require", "exports", "script/tools/array", "script/library/ui"], function (require, exports, array_2, ui_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Control = void 0;
    var Control;
    (function (Control) {
        var makeSelectOption = function (value, text) {
            var option = document.createElement("option");
            option.value = value;
            option.textContent = text;
            return option;
        };
        Control.getDom = function (data) {
            var result = "dom" in data ?
                data.dom :
                document.getElementById(data.id);
            if (null == result || undefined === result) {
                console.error("🦋 FIXME: Contorl.getDom.NotExistsDom", data);
            }
            else if (!(result instanceof HTMLElement)) {
                console.error("🦋 FIXME: Contorl.getDom.InvalidDom", data, result);
            }
            return result;
        };
        Control.getDomId = function (data) {
            return "id" in data ? data.id :
                "dom" in data ? data.dom.id :
                    undefined;
        };
        Control.eventLog = function (data) {
            return console.log.apply(console, __spreadArray([data.message], __spreadArray(__spreadArray(__spreadArray([], array_2.Array.joinable(Control.getDomId(data.control.data)), true), [
                data.event,
                data.control
            ], false), array_2.Array.joinable(data.value), true), false));
        };
        var Button = /** @class */ (function () {
            function Button(data) {
                var _this = this;
                this.data = data;
                this.getId = function () { return Control.getDomId(_this.data); };
                this.setClick = function (click) {
                    return _this.data.click = click;
                };
                this.fire = function () { var _a, _b; return (_b = (_a = _this.data).click) === null || _b === void 0 ? void 0 : _b.call(_a, null, _this); };
                this.dom = Control.getDom(data);
                this.dom.addEventListener("click", function (event) {
                    var _a, _b;
                    Control.eventLog({ control: _this, event: event, message: "👆 Button.Click:" });
                    (_b = (_a = _this.data).click) === null || _b === void 0 ? void 0 : _b.call(_a, event, _this);
                });
            }
            return Button;
        }());
        Control.Button = Button;
        Control.preventOnChange = "preventOnChange";
        var Select = /** @class */ (function () {
            function Select(data, options) {
                var _this = this;
                this.data = data;
                this.options = options;
                this.catchUpRestore = function (params) {
                    var _a, _b, _c, _d;
                    if (((_a = params === null || params === void 0 ? void 0 : params[_this.dom.id]) !== null && _a !== void 0 ? _a : "".concat(_this.data.default)) !== _this.get()) {
                        Control.eventLog({ control: _this, event: "catchUpRestore", message: "👆 Select.Change:", value: _this.get() });
                        (_c = (_b = _this.options) === null || _b === void 0 ? void 0 : _b.change) === null || _c === void 0 ? void 0 : _c.call(_b, null, _this);
                        (_d = _this.saveParameter) === null || _d === void 0 ? void 0 : _d.call(_this, _this.getId(), _this.get());
                    }
                };
                this.getId = function () { return Control.getDomId(_this.data); };
                this.setChange = function (change) {
                    return _this.options = __assign(__assign({}, _this.options), { change: change });
                };
                this.reloadOptions = function (value) {
                    var oldValue = value !== null && value !== void 0 ? value : _this.get();
                    ui_1.UI.replaceChildren(_this.dom, _this.data.enum.map(function (i) { var _a, _b, _c; return makeSelectOption("".concat(i), (_c = (_b = (_a = _this.options) === null || _a === void 0 ? void 0 : _a.makeLabel) === null || _b === void 0 ? void 0 : _b.call(_a, i)) !== null && _c !== void 0 ? _c : "".concat(i)); }));
                    _this.switch(oldValue, Control.preventOnChange);
                };
                this.getNextIndex = function (index, direction) {
                    return index + (direction ? -1 : 1);
                };
                this.getNextIndexClamp = function (length, index, direction) {
                    var next = _this.getNextIndex(index, direction);
                    return 0 <= next && next < length ? next : index;
                };
                this.getNextIndexCycle = function (length, index, direction) {
                    return (_this.getNextIndex(index, direction) + length) % length;
                };
                this.switch = function (valueOrDirection, preventOnChange, getNextIndex) {
                    if (getNextIndex === void 0) { getNextIndex = _this.getNextIndexClamp; }
                    var oldValue = _this.get();
                    if ("boolean" === typeof valueOrDirection) {
                        var options = Array.from(_this.dom.getElementsByTagName("option"));
                        var optionValues = options.map(function (i) { return i.value; });
                        var index = optionValues.indexOf(_this.dom.value);
                        var nextIndex = getNextIndex(optionValues.length, index, valueOrDirection);
                        var nextValue = optionValues[nextIndex];
                        if (undefined !== nextValue) {
                            _this.dom.value = nextValue;
                        }
                    }
                    else {
                        if (_this.hasOption(valueOrDirection)) {
                            _this.dom.value = "".concat(valueOrDirection);
                        }
                    }
                    if (undefined === preventOnChange && (oldValue !== _this.get() || "forceOnChange" === preventOnChange)) {
                        _this.fire();
                    }
                };
                this.hasOption = function (value) {
                    var options = Array.from(_this.dom.getElementsByTagName("option"));
                    return undefined !== options.find(function (i) { return i.value === "".concat(value); });
                };
                this.cycle = function (direction, preventOnChange) { return _this.switch(direction, preventOnChange, _this.getNextIndexCycle); };
                this.get = function () { return _this.dom.value; };
                this.fire = function () { var _a, _b; return (_b = (_a = _this.options) === null || _a === void 0 ? void 0 : _a.change) === null || _b === void 0 ? void 0 : _b.call(_a, null, _this); };
                this.loadParameter = function (params, saveParameter) {
                    var value = params[_this.dom.id];
                    if (undefined !== value) {
                        if (_this.hasOption(value)) {
                            _this.switch(value);
                        }
                        else {
                            console.warn("🚫 Select.loadParameter: Unknown option value:", _this.dom.id, value, _this);
                        }
                    }
                    _this.saveParameter = saveParameter;
                    return _this;
                };
                this.dom = Control.getDom(data);
                if (!(this.dom instanceof HTMLSelectElement)) {
                    console.error("🦋 FIXME: Contorl.Select.InvalidDom", data, this.dom);
                }
                this.reloadOptions(this.data.default);
                this.dom.addEventListener(
                // Without this, in Chromium-based browsers, selecting from the dropdown triggers the label's click event, causing the dropdown to reopen.
                "click", function (event) { return event.stopPropagation(); });
                this.dom.addEventListener("change", function (event) {
                    var _a, _b, _c;
                    Control.eventLog({ control: _this, event: event, message: "👆 Select.Change:", value: _this.get() });
                    (_b = (_a = _this.options) === null || _a === void 0 ? void 0 : _a.change) === null || _b === void 0 ? void 0 : _b.call(_a, event, _this);
                    (_c = _this.saveParameter) === null || _c === void 0 ? void 0 : _c.call(_this, _this.getId(), _this.get());
                });
            }
            return Select;
        }());
        Control.Select = Select;
        var Checkbox = /** @class */ (function () {
            function Checkbox(data, options) {
                var _this = this;
                var _a;
                this.data = data;
                this.options = options;
                this.catchUpRestore = function (params) {
                    var _a, _b, _c, _d;
                    var urlParam = params === null || params === void 0 ? void 0 : params[_this.dom.id];
                    if ((undefined !== urlParam ?
                        "true" === urlParam :
                        ((_a = _this.data.default) !== null && _a !== void 0 ? _a : false)) !== _this.get()) {
                        Control.eventLog({ control: _this, event: "catchUpRestore", message: "👆 Checkbox.Change:", value: _this.get() });
                        (_c = (_b = _this.options) === null || _b === void 0 ? void 0 : _b.change) === null || _c === void 0 ? void 0 : _c.call(_b, null, _this);
                        (_d = _this.saveParameter) === null || _d === void 0 ? void 0 : _d.call(_this, _this.getId(), _this.get() ? "true" : "false");
                    }
                };
                this.getId = function () { return Control.getDomId(_this.data); };
                this.setChange = function (change) {
                    return _this.options = __assign(__assign({}, _this.options), { change: change });
                };
                this.toggle = function (checked, preventOnChange) {
                    var _a, _b;
                    if (checked !== _this.get() || "forceOnChange" === preventOnChange) {
                        _this.dom.checked = checked !== null && checked !== void 0 ? checked : !_this.get();
                        if (undefined === preventOnChange) {
                            (_b = (_a = _this.options) === null || _a === void 0 ? void 0 : _a.change) === null || _b === void 0 ? void 0 : _b.call(_a, null, _this);
                        }
                    }
                };
                this.get = function () { return _this.dom.checked; };
                this.fire = function () { var _a, _b; return (_b = (_a = _this.options) === null || _a === void 0 ? void 0 : _a.change) === null || _b === void 0 ? void 0 : _b.call(_a, null, _this); };
                this.loadParameter = function (params, saveParameter) {
                    var value = params[_this.dom.id];
                    if (undefined !== value) {
                        _this.toggle("true" === value);
                    }
                    _this.saveParameter = saveParameter;
                    return _this;
                };
                this.dom = Control.getDom(data);
                if (!(this.dom instanceof HTMLInputElement) || "checkbox" !== this.dom.type.toLowerCase()) {
                    console.error("🦋 FIXME: Contorl.Checkbox.InvalidDom", data, this.dom);
                }
                if (undefined !== this.data.default) {
                    this.toggle(this.data.default, [Control.preventOnChange][false !== ((_a = this.options) === null || _a === void 0 ? void 0 : _a.preventOnChangeWhenNew) ? 0 : 1]);
                }
                this.dom.addEventListener("change", function (event) {
                    var _a, _b, _c;
                    Control.eventLog({ control: _this, event: event, message: "👆 Checkbox.Change:", value: _this.get() });
                    (_b = (_a = _this.options) === null || _a === void 0 ? void 0 : _a.change) === null || _b === void 0 ? void 0 : _b.call(_a, event, _this);
                    (_c = _this.saveParameter) === null || _c === void 0 ? void 0 : _c.call(_this, _this.getId(), _this.get() ? "true" : "false");
                });
            }
            return Checkbox;
        }());
        Control.Checkbox = Checkbox;
        var ToggleLabel = /** @class */ (function () {
            function ToggleLabel(data, options) {
                var _this = this;
                var _a;
                this.data = data;
                this.options = options;
                this.catchUpRestore = function (params) {
                    var _a, _b, _c, _d;
                    var urlParam = params === null || params === void 0 ? void 0 : params[_this.dom.id];
                    if ((undefined !== urlParam ?
                        "true" === urlParam :
                        ((_a = _this.data.default) !== null && _a !== void 0 ? _a : false)) !== _this.get()) {
                        Control.eventLog({ control: _this, event: "catchUpRestore", message: "👆 Checkbox.Change:", value: _this.get() });
                        (_c = (_b = _this.options) === null || _b === void 0 ? void 0 : _b.change) === null || _c === void 0 ? void 0 : _c.call(_b, null, _this);
                        (_d = _this.saveParameter) === null || _d === void 0 ? void 0 : _d.call(_this, _this.getId(), _this.get() ? "true" : "false");
                    }
                };
                this.getId = function () { return Control.getDomId(_this.data); };
                this.setChange = function (change) {
                    return _this.options = __assign(__assign({}, _this.options), { change: change });
                };
                this.toggle = function (checked, preventOnChange) {
                    var _a, _b;
                    if (checked !== _this.get() || "forceOnChange" === preventOnChange) {
                        _this.dom.classList.toggle("on", checked !== null && checked !== void 0 ? checked : !_this.get());
                        if (undefined === preventOnChange) {
                            (_b = (_a = _this.options) === null || _a === void 0 ? void 0 : _a.change) === null || _b === void 0 ? void 0 : _b.call(_a, null, _this);
                        }
                    }
                };
                this.get = function () { return _this.dom.classList.contains("on"); };
                this.fire = function () { var _a, _b; return (_b = (_a = _this.options) === null || _a === void 0 ? void 0 : _a.change) === null || _b === void 0 ? void 0 : _b.call(_a, null, _this); };
                this.loadParameter = function (params, saveParameter) {
                    var value = params[_this.dom.id];
                    if (undefined !== value) {
                        _this.toggle("true" === value);
                    }
                    _this.saveParameter = saveParameter;
                    return _this;
                };
                this.dom = Control.getDom(data);
                if (!(this.dom instanceof HTMLLabelElement) || "label" !== this.dom.tagName.toLowerCase()) {
                    console.error("🦋 FIXME: Contorl.ToggleLabel.InvalidDom", data, this.dom);
                }
                if (undefined !== this.data.default) {
                    this.toggle(this.data.default, [Control.preventOnChange][false !== ((_a = this.options) === null || _a === void 0 ? void 0 : _a.preventOnChangeWhenNew) ? 0 : 1]);
                }
                this.dom.addEventListener("click", function (event) {
                    var _a, _b, _c;
                    Control.eventLog({ control: _this, event: event, message: "👆 ToggleLabel.Click:", value: !_this.get() });
                    _this.toggle();
                    (_b = (_a = _this.options) === null || _a === void 0 ? void 0 : _a.change) === null || _b === void 0 ? void 0 : _b.call(_a, event, _this);
                    (_c = _this.saveParameter) === null || _c === void 0 ? void 0 : _c.call(_this, _this.getId(), _this.get() ? "true" : "false");
                });
            }
            return ToggleLabel;
        }());
        Control.ToggleLabel = ToggleLabel;
        var Range = /** @class */ (function () {
            function Range(data, options) {
                var _this = this;
                var _a, _b, _c, _d;
                this.data = data;
                this.options = options;
                this.catchUpRestore = function (params) {
                    var _a, _b, _c;
                    var urlParam = params === null || params === void 0 ? void 0 : params[_this.dom.id];
                    if (undefined !== urlParam && urlParam !== "".concat(_this.get())) {
                        Control.eventLog({ control: _this, event: "catchUpRestore", message: "👆 Range.Change:", value: _this.get() });
                        (_b = (_a = _this.options) === null || _a === void 0 ? void 0 : _a.change) === null || _b === void 0 ? void 0 : _b.call(_a, null, _this);
                        (_c = _this.saveParameter) === null || _c === void 0 ? void 0 : _c.call(_this, _this.getId(), "".concat(_this.get()));
                    }
                };
                this.getId = function () { return Control.getDomId(_this.data); };
                this.setChange = function (change) {
                    return _this.options = __assign(__assign({}, _this.options), { change: change });
                };
                this.set = function (value, preventOnChange) {
                    var _a, _b;
                    _this.dom.value = "".concat(value);
                    if (undefined === preventOnChange) {
                        (_b = (_a = _this.options) === null || _a === void 0 ? void 0 : _a.change) === null || _b === void 0 ? void 0 : _b.call(_a, null, _this);
                    }
                };
                this.get = function () { return parseFloat(_this.dom.value); };
                this.fire = function () { var _a, _b; return (_b = (_a = _this.options) === null || _a === void 0 ? void 0 : _a.change) === null || _b === void 0 ? void 0 : _b.call(_a, null, _this); };
                this.loadParameter = function (params, saveParameter) {
                    var value = params[_this.dom.id];
                    if (undefined !== value) {
                        _this.set(parseFloat(value));
                    }
                    _this.saveParameter = saveParameter;
                    return _this;
                };
                this.dom = Control.getDom(data);
                if (!(this.dom instanceof HTMLInputElement) || "range" !== this.dom.type.toLowerCase()) {
                    console.error("🦋 FIXME: Contorl.Range.InvalidDom", data, this.dom);
                }
                this.dom.min = "".concat((_a = this.data.min) !== null && _a !== void 0 ? _a : 0);
                this.dom.max = "".concat((_b = this.data.max) !== null && _b !== void 0 ? _b : 100);
                this.dom.step = "".concat((_c = this.data.step) !== null && _c !== void 0 ? _c : 1);
                if (undefined !== this.data.default) {
                    this.set(this.data.default, [Control.preventOnChange][false !== ((_d = this.options) === null || _d === void 0 ? void 0 : _d.preventOnChangeWhenNew) ? 0 : 1]);
                }
                this.dom.addEventListener("change", function (event) {
                    var _a, _b, _c;
                    Control.eventLog({ control: _this, event: event, message: "👆 Range.Change:", value: _this.get() });
                    (_b = (_a = _this.options) === null || _a === void 0 ? void 0 : _a.change) === null || _b === void 0 ? void 0 : _b.call(_a, event, _this);
                    (_c = _this.saveParameter) === null || _c === void 0 ? void 0 : _c.call(_this, _this.getId(), "".concat(_this.get()));
                });
                this.dom.addEventListener("input", function (event) {
                    var _a, _b, _c;
                    Control.eventLog({ control: _this, event: event, message: "👆 Range.Input:", value: _this.get() });
                    (_b = (_a = _this.options) === null || _a === void 0 ? void 0 : _a.change) === null || _b === void 0 ? void 0 : _b.call(_a, event, _this);
                    (_c = _this.saveParameter) === null || _c === void 0 ? void 0 : _c.call(_this, _this.getId(), "".concat(_this.get()));
                });
            }
            return Range;
        }());
        Control.Range = Range;
    })(Control || (exports.Control = Control = {}));
});
define("resource/images", [], {
    "error-icon": "./image/forbidden.svg",
    "audio-icon": "./image/audio.svg",
    "cross-icon": "./image/cross.svg"
});
define("script/library/svg", ["require", "exports"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Svg = void 0;
    var Svg;
    (function (Svg) {
        var _this = this;
        Svg.isEmbeddedImage = function (url) {
            return ["SVG:error", "SVG:audio"].includes(url);
        };
        Svg.getSvg = function (url) { return __awaiter(_this, void 0, void 0, function () {
            var _a;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        _a = url;
                        switch (_a) {
                            case "SVG:error": return [3 /*break*/, 1];
                            case "SVG:audio": return [3 /*break*/, 3];
                            case "SVG:close": return [3 /*break*/, 5];
                        }
                        return [3 /*break*/, 7];
                    case 1: return [4 /*yield*/, Svg.loadSvg("error-icon")];
                    case 2: return [2 /*return*/, _b.sent()];
                    case 3: return [4 /*yield*/, Svg.loadSvg("audio-icon")];
                    case 4: return [2 /*return*/, _b.sent()];
                    case 5: return [4 /*yield*/, Svg.loadSvg("cross-icon")];
                    case 6: return [2 /*return*/, _b.sent()];
                    case 7:
                        console.error("\uD83D\uDEAB Unsupported embedded image URL: ".concat(url));
                        return [4 /*yield*/, Svg.loadSvg("error-icon")];
                    case 8: return [2 /*return*/, _b.sent()];
                }
            });
        }); };
        Svg.loadSvg = function (key) { return __awaiter(_this, void 0, void 0, function () {
            var dom;
            return __generator(this, function (_a) {
                try {
                    dom = document.getElementById(key);
                    if (dom) {
                        return [2 /*return*/, new DOMParser().parseFromString(dom.innerHTML, "image/svg+xml").documentElement];
                    }
                    else {
                        console.error("\uD83D\uDEAB SVG element with id \"".concat(key, "\" not found in the DOM."));
                        return [2 /*return*/, null];
                    }
                }
                catch (error) {
                    console.error("\uD83D\uDEAB Error loading SVG with key \"".concat(key, "\":"), error);
                    throw error;
                }
                return [2 /*return*/];
            });
        }); };
    })(Svg || (exports.Svg = Svg = {}));
});
define("script/tools/comparer", ["require", "exports"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Comparer = void 0;
    var Comparer;
    (function (Comparer) {
        Comparer.basic = function (a, b) {
            return a < b ? -1 :
                b < a ? 1 :
                    0;
        };
        Comparer.make = function (source) {
            var _a;
            var invoker = function (i) {
                var f = i;
                if ("function" === typeof f) {
                    return function (a, b) { return Comparer.basic(f(a), f(b)); };
                }
                var r = i;
                if (undefined !== (r === null || r === void 0 ? void 0 : r.raw)) {
                    return r.raw;
                }
                var s = i;
                if (undefined !== (s === null || s === void 0 ? void 0 : s.getter)) {
                    var body_1 = function (a, b) { return Comparer.basic(s.getter(a), s.getter(b)); };
                    if (undefined === s.condition) {
                        return body_1;
                    }
                    else {
                        var f_1 = s.condition;
                        if ("function" === typeof f_1) {
                            return function (a, b) { return f_1(a, b) ? body_1(a, b) : 0; };
                        }
                        else {
                            var t_1 = s.condition;
                            var getter_1 = t_1.getter;
                            if (undefined === getter_1) {
                                return function (a, b) { return t_1.type === typeof a && t_1.type === typeof b ? body_1(a, b) : 0; };
                            }
                            else {
                                return function (a, b) { return t_1.type === typeof getter_1(a) && t_1.type === typeof getter_1(b) ? body_1(a, b) : 0; };
                            }
                        }
                    }
                }
                return undefined;
            };
            if (Array.isArray(source)) {
                var comparerList_1 = source.map(invoker).filter(function (i) { return undefined !== i; });
                return function (a, b) {
                    var result = 0;
                    for (var i = 0; i < comparerList_1.length && 0 === result; ++i) {
                        result = comparerList_1[i](a, b);
                    }
                    return result;
                };
            }
            else {
                return (_a = invoker(source)) !== null && _a !== void 0 ? _a : (function () { return 0; });
            }
        };
        Comparer.lowerCase = Comparer.make([function (a) { return a.toLowerCase(); }, { raw: Comparer.basic }]);
    })(Comparer || (exports.Comparer = Comparer = {}));
});
define("script/tools/environment", ["require", "exports"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Environment = void 0;
    var Environment;
    (function (Environment) {
        Environment.isWindows = function () {
            return /Windows/i.test(navigator.userAgent);
        };
        Environment.isApple = function () {
            return /Macintosh|iPhone|iPad|iPod/i.test(navigator.userAgent);
        };
        Environment.isSafari = function () {
            return /^((?!chrome|android).)*safari/i.test(navigator.userAgent);
        };
        Environment.isMobile = function () {
            return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
        };
        Environment.isTouchDevice = function () {
            return "ontouchstart" in window || 0 < navigator.maxTouchPoints;
        };
        Environment.isAppleTouchDevice = function () {
            return Environment.isApple() && Environment.isTouchDevice();
        };
        Environment.canAutoplay = function () {
            return !Environment.isMobile() && !Environment.isAppleTouchDevice();
        };
    })(Environment || (exports.Environment = Environment = {}));
});
define("resource/shortcuts", [], {
    "youtube": {
        "label": "YouTube",
        "items": [
            {
                "description": "Shuffle",
                "shortcuts": [
                    {
                        "command": "toggleShuffle",
                        "type": "onKeyUp",
                        "keys": [
                            "S"
                        ]
                    }
                ]
            },
            {
                "description": "Repeat",
                "shortcuts": [
                    {
                        "command": "toggleRepeat",
                        "type": "onKeyUp",
                        "keys": [
                            "R"
                        ]
                    }
                ]
            },
            {
                "description": "Play / Pause",
                "shortcuts": [
                    {
                        "command": "togglePlay",
                        "type": "onKeyUp",
                        "keys": [
                            " "
                        ]
                    }
                ]
            },
            {
                "description": "Mute / Unmute",
                "shortcuts": [
                    {
                        "command": "toggleMute",
                        "type": "onKeyUp",
                        "keys": [
                            "M"
                        ]
                    }
                ]
            },
            {
                "description": "Volume Up / Down",
                "shortcuts": [
                    {
                        "command": "volumeUp",
                        "type": "onKeyDown",
                        "keys": [
                            "ArrowUp"
                        ]
                    },
                    {
                        "command": "volumeDown",
                        "type": "onKeyDown",
                        "keys": [
                            "ArrowDown"
                        ]
                    }
                ]
            },
            {
                "description": "Seek",
                "shortcuts": [
                    {
                        "command": "seekBackward",
                        "type": "onKeyDown",
                        "keys": [
                            "ArrowLeft"
                        ]
                    },
                    {
                        "command": "seekForward",
                        "type": "onKeyDown",
                        "keys": [
                            "ArrowRight"
                        ]
                    }
                ]
            },
            {
                "description": "Go to Previous Media",
                "shortcuts": [
                    {
                        "command": "goPreviousMedia",
                        "type": "onKeyDown",
                        "keys": [
                            "Shift",
                            "P"
                        ]
                    }
                ]
            },
            {
                "description": "Go to Next Media",
                "shortcuts": [
                    {
                        "command": "goNextMedia",
                        "type": "onKeyDown",
                        "keys": [
                            "Shift",
                            "N"
                        ]
                    }
                ]
            },
            {
                "description": "FullScreen",
                "shortcuts": [
                    {
                        "command": "toggleFullscreen",
                        "type": "onKeyUp",
                        "keys": [
                            "F"
                        ]
                    }
                ]
            }
        ]
    },
    "spotify": {
        "label": "Spotify",
        "items": [
            {
                "description": "Shuffle",
                "shortcuts": [
                    {
                        "command": "toggleShuffle",
                        "type": "onKeyUp",
                        "keys": [
                            "S"
                        ]
                    }
                ]
            },
            {
                "description": "Repeat",
                "shortcuts": [
                    {
                        "command": "toggleRepeat",
                        "type": "onKeyUp",
                        "keys": [
                            "R"
                        ]
                    }
                ]
            },
            {
                "description": "Play / Pause",
                "shortcuts": [
                    {
                        "command": "togglePlay",
                        "type": "onKeyUp",
                        "keys": [
                            " "
                        ]
                    }
                ]
            },
            {
                "description": "Mute / Unmute",
                "shortcuts": [
                    {
                        "command": "toggleMute",
                        "type": "onKeyUp",
                        "keys": [
                            "M"
                        ]
                    }
                ]
            },
            {
                "description": "Volume Up / Down",
                "shortcuts": [
                    {
                        "command": "volumeUp",
                        "type": "onKeyDown",
                        "keys": [
                            "ArrowRight"
                        ]
                    },
                    {
                        "command": "volumeDown",
                        "type": "onKeyDown",
                        "keys": [
                            "ArrowLeft"
                        ]
                    }
                ]
            },
            {
                "description": "Seek Backward",
                "shortcuts": [
                    {
                        "command": "seekBackward",
                        "type": "onKeyDown",
                        "keys": [
                            "Shift",
                            "ArrowUp"
                        ]
                    }
                ]
            },
            {
                "description": "Seek Forward",
                "shortcuts": [
                    {
                        "command": "seekForward",
                        "type": "onKeyDown",
                        "keys": [
                            "Shift",
                            "ArrowDown"
                        ]
                    }
                ]
            },
            {
                "description": "Go to Previous/Next Media",
                "shortcuts": [
                    {
                        "command": "goPreviousMedia",
                        "type": "onKeyDown",
                        "keys": [
                            "ArrowUp"
                        ]
                    },
                    {
                        "command": "goNextMedia",
                        "type": "onKeyDown",
                        "keys": [
                            "ArrowDown"
                        ]
                    }
                ]
            },
            {
                "description": "FullScreen",
                "shortcuts": [
                    {
                        "command": "toggleFullscreen",
                        "type": "onKeyUp",
                        "keys": [
                            "F"
                        ]
                    }
                ]
            }
        ]
    },
    "apple": {
        "label": "Apple Music",
        "items": [
            {
                "description": "Shuffle",
                "shortcuts": [
                    {
                        "command": "toggleShuffle",
                        "type": "onKeyUp",
                        "keys": [
                            "S"
                        ]
                    }
                ]
            },
            {
                "description": "Repeat",
                "shortcuts": [
                    {
                        "command": "toggleRepeat",
                        "type": "onKeyUp",
                        "keys": [
                            "R"
                        ]
                    }
                ]
            },
            {
                "description": "Play / Pause",
                "shortcuts": [
                    {
                        "command": "togglePlay",
                        "type": "onKeyUp",
                        "keys": [
                            " "
                        ]
                    }
                ]
            },
            {
                "description": "Mute / Unmute",
                "shortcuts": [
                    {
                        "command": "toggleMute",
                        "type": "onKeyUp",
                        "keys": [
                            "M"
                        ]
                    }
                ]
            },
            {
                "description": "Volume Up / Down",
                "shortcuts": [
                    {
                        "command": "volumeUp",
                        "type": "onKeyDown",
                        "keys": [
                            "ArrowUp"
                        ]
                    },
                    {
                        "command": "volumeDown",
                        "type": "onKeyDown",
                        "keys": [
                            "ArrowDown"
                        ]
                    }
                ]
            },
            {
                "description": "Seek Backward",
                "shortcuts": [
                    {
                        "command": "seekBackward",
                        "type": "onKeyDown",
                        "keys": [
                            "Shift",
                            "ArrowLeft"
                        ]
                    }
                ]
            },
            {
                "description": "Seek Forward",
                "shortcuts": [
                    {
                        "command": "seekForward",
                        "type": "onKeyDown",
                        "keys": [
                            "Shift",
                            "ArrowRight"
                        ]
                    }
                ]
            },
            {
                "description": "Go to Previous/Next Media",
                "shortcuts": [
                    {
                        "command": "goPreviousMedia",
                        "type": "onKeyDown",
                        "keys": [
                            "ArrowLeft"
                        ]
                    },
                    {
                        "command": "goNextMedia",
                        "type": "onKeyDown",
                        "keys": [
                            "ArrowRight"
                        ]
                    }
                ]
            },
            {
                "description": "FullScreen",
                "shortcuts": [
                    {
                        "command": "toggleFullscreen",
                        "type": "onKeyUp",
                        "keys": [
                            "F"
                        ]
                    }
                ]
            }
        ]
    },
    "windows": {
        "label": "Windows Media Player",
        "items": [
            {
                "description": "Shuffle",
                "shortcuts": [
                    {
                        "command": "toggleShuffle",
                        "type": "onKeyUp",
                        "keys": [
                            "H"
                        ]
                    }
                ]
            },
            {
                "description": "Repeat",
                "shortcuts": [
                    {
                        "command": "toggleRepeat",
                        "type": "onKeyUp",
                        "keys": [
                            "T"
                        ]
                    }
                ]
            },
            {
                "description": "Play / Pause",
                "shortcuts": [
                    {
                        "command": "togglePlay",
                        "type": "onKeyUp",
                        "keys": [
                            " "
                        ]
                    }
                ]
            },
            {
                "description": "Mute / Unmute",
                "shortcuts": [
                    {
                        "command": "toggleMute",
                        "type": "onKeyUp",
                        "keys": [
                            "M"
                        ]
                    }
                ]
            },
            {
                "description": "Volume Up / Down",
                "shortcuts": [
                    {
                        "command": "volumeUp",
                        "type": "onKeyDown",
                        "keys": [
                            "ArrowUp"
                        ]
                    },
                    {
                        "command": "volumeDown",
                        "type": "onKeyDown",
                        "keys": [
                            "ArrowDown"
                        ]
                    }
                ]
            },
            {
                "description": "Seek",
                "shortcuts": [
                    {
                        "command": "seekBackward",
                        "type": "onKeyDown",
                        "keys": [
                            "ArrowLeft"
                        ]
                    },
                    {
                        "command": "seekForward",
                        "type": "onKeyDown",
                        "keys": [
                            "ArrowRight"
                        ]
                    }
                ]
            },
            {
                "description": "Go to Previous Media",
                "shortcuts": [
                    {
                        "command": "goPreviousMedia",
                        "type": "onKeyDown",
                        "keys": [
                            "B"
                        ]
                    }
                ]
            },
            {
                "description": "Go to Next Media",
                "shortcuts": [
                    {
                        "command": "goNextMedia",
                        "type": "onKeyDown",
                        "keys": [
                            "F"
                        ]
                    }
                ]
            },
            {
                "description": "FullScreen",
                "shortcuts": [
                    {
                        "command": "toggleFullscreen",
                        "type": "onKeyUp",
                        "keys": [
                            "S"
                        ]
                    }
                ]
            }
        ]
    }
});
define("script/library/shortcuts", ["require", "exports", "script/tools/comparer", "script/tools/environment", "script/library/ui", "resource/shortcuts", "resource/config"], function (require, exports, comparer_1, environment_1, ui_2, shortcuts_json_1, config_json_2) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Shortcuts = void 0;
    shortcuts_json_1 = __importDefault(shortcuts_json_1);
    config_json_2 = __importDefault(config_json_2);
    var Shortcuts;
    (function (Shortcuts) {
        var style = "youtube";
        var currentCommandMap = null;
        var pressedKeyDiv = null;
        var localeDirection = "ltr";
        Shortcuts.setLocaleDirection = function (direction) {
            localeDirection = direction;
        };
        var swapLeftRight = function (key, reversed) {
            var _a;
            if (reversed === void 0) { reversed = true; }
            return reversed ?
                ((_a = {
                    "ArrowLeft": "ArrowRight",
                    "ArrowRight": "ArrowLeft",
                }[key]) !== null && _a !== void 0 ? _a : key) : key;
        };
        var displayedKeys = {};
        var keyDisplayNames = {
            "ArrowUp": "↑",
            "ArrowDown": "↓",
            "ArrowLeft": "←",
            "ArrowRight": "→",
            " ": "Space",
            "Control": "Ctrl",
        };
        var appleKeyDisplayNames = {
            "Alt": "⌥(option)",
            "Control": "⌃(control)",
            "Meta": "⌘(command)",
            "Shift": "⇧(shift)",
        };
        var keyAriaNames = {
            " ": "Space",
        };
        var getKeys = function (entry) {
            //Environment.isApple() && "appleKeys" in entry ? entry.appleKeys : entry.keys;
            return entry.keys;
        };
        var getDisplayKeyName = function (key) {
            var _a, _b, _c;
            return environment_1.Environment.isApple() ?
                (_b = (_a = appleKeyDisplayNames[key]) !== null && _a !== void 0 ? _a : keyDisplayNames[key]) !== null && _b !== void 0 ? _b : key :
                (_c = keyDisplayNames[key]) !== null && _c !== void 0 ? _c : key;
        };
        var getAriaKeyName = function (key) { var _a; return (_a = keyAriaNames[key]) !== null && _a !== void 0 ? _a : key; };
        Shortcuts.getDisplayList = function (filter) {
            if (filter === void 0) { filter = function () { return true; }; }
            return shortcuts_json_1.default[style].items
                .filter(filter)
                .map(function (i) {
                return ({
                    keyss: i.shortcuts.map(function (j) { return getKeys(j).map(function (key) { return getDisplayKeyName(swapLeftRight(key, "rtl" === localeDirection)); }); }),
                    description: i.description,
                });
            });
        };
        var isInputElementFocused = function () { var _a, _b, _c; return ["input", "textarea", "button"].includes((_c = (_b = (_a = document.activeElement) === null || _a === void 0 ? void 0 : _a.tagName) === null || _b === void 0 ? void 0 : _b.toLowerCase()) !== null && _c !== void 0 ? _c : ""); };
        var normalizeKey = function (key, code) {
            return code === "Space" ? " " :
                key.length === 1 ? key.toUpperCase() :
                    key;
        };
        var pressedKeys = [];
        var getShortcutKeys = function (type, normalizedKey) {
            var adjustedDirectionKey = swapLeftRight(normalizedKey, "rtl" === localeDirection);
            switch (type) {
                case "onKeyDown":
                    pressedKeys = pressedKeys.filter(function (i) { return i !== adjustedDirectionKey; });
                    pressedKeys.push(adjustedDirectionKey);
                    displayedKeys[normalizedKey] = { pressedAt: Date.now() };
                    updatePressedKeyDiv();
                    return pressedKeys;
                case "onKeyUp":
                    var result = __spreadArray([], pressedKeys, true);
                    pressedKeys = pressedKeys.filter(function (i) { return i !== adjustedDirectionKey; });
                    if (displayedKeys[normalizedKey]) {
                        if (displayedKeys[normalizedKey].removeTimer) {
                            clearTimeout(displayedKeys[normalizedKey].removeTimer);
                        }
                        displayedKeys[normalizedKey].removeTimer = setTimeout(function () {
                            delete displayedKeys[normalizedKey];
                            updatePressedKeyDiv();
                        }, config_json_2.default.shortcuts.displayedKeysTimeout);
                    }
                    return result;
            }
        };
        var updatePressedKeyDiv = function () {
            if (null !== pressedKeyDiv) {
                ui_2.UI.replaceChildren(pressedKeyDiv, Object.entries(displayedKeys)
                    .sort(function (a, b) { return comparer_1.Comparer.basic(a[1].pressedAt, b[1].pressedAt); })
                    .map(function (kvp) {
                    return ({
                        tag: "kbd",
                        text: getDisplayKeyName(kvp[0]),
                    });
                }));
            }
        };
        Shortcuts.clearPressedKeys = function () {
            if (0 < pressedKeys.length) {
                console.log("🧼 Shortcuts: Clearing pressed keys.", pressedKeys);
                pressedKeys = [];
                Object.keys(displayedKeys).forEach(function (key) {
                    if (displayedKeys[key].removeTimer) {
                        clearTimeout(displayedKeys[key].removeTimer);
                    }
                });
                for (var key in displayedKeys) {
                    delete displayedKeys[key];
                }
                updatePressedKeyDiv();
            }
        };
        Shortcuts.pruneStaleKeys = function () {
            var now = Date.now();
            for (var key in displayedKeys) {
                if (config_json_2.default.shortcuts.pressedKeysTimeout < now - displayedKeys[key].pressedAt) {
                    console.log("🧼 Shortcuts: Pruning stale key.", key);
                    delete displayedKeys[key];
                }
            }
            updatePressedKeyDiv();
        };
        Shortcuts.handleKeyEvent = function (type, event) {
            var _a;
            Shortcuts.pruneStaleKeys();
            var normalizedKey = normalizeKey(event.key, event.code);
            var shortcutKeys = getShortcutKeys(type, normalizedKey);
            var commandMap = currentCommandMap;
            if (null !== commandMap) {
                if (!isInputElementFocused()) {
                    var commandKeys = shortcuts_json_1.default[style].items.reduce(function (a, b) { return a.concat(b.shortcuts); }, []).filter(function (shortcut) {
                        return getKeys(shortcut).length === shortcutKeys.length &&
                            getKeys(shortcut).every(function (key) { return shortcutKeys.includes(key); }) &&
                            type === shortcut.type;
                    })
                        .map(function (i) { return i.command; });
                    if (0 < commandKeys.length) {
                        event.preventDefault();
                        event.stopPropagation();
                    }
                    commandKeys.forEach(function (i) {
                        console.log("👆 KeyboardShortcut:", i, type, pressedKeys);
                        var command = commandMap[i];
                        if (command) {
                            command.fire();
                        }
                        else {
                            console.error("🦋 FIXME: Shortcuts.handleKeyEvent.NotFoundCommand", i);
                        }
                    });
                    if ("onKeyDown" === type && commandKeys.length <= 0 && !["Shift", "Control"].includes(normalizedKey)) {
                        console.log("💡 UnknownKeyDown:", pressedKeys);
                        (_a = commandMap["unknownKeyDown"]) === null || _a === void 0 ? void 0 : _a.fire();
                    }
                }
            }
        };
        Shortcuts.initialize = function () {
            window.addEventListener("keydown", function (event) { return Shortcuts.handleKeyEvent("onKeyDown", event); });
            window.addEventListener("keyup", function (event) { return Shortcuts.handleKeyEvent("onKeyUp", event); });
            window.addEventListener("blur", function () { return Shortcuts.clearPressedKeys(); });
            window.addEventListener("visibilitychange", function () { return Shortcuts.clearPressedKeys(); });
            document.addEventListener("mousedown", function () { return Shortcuts.clearPressedKeys(); });
            document.addEventListener("touchstart", function () { return Shortcuts.clearPressedKeys(); });
        };
        Shortcuts.setCommandMap = function (commandMap) {
            Shortcuts.clearAriaKeyshortcuts();
            currentCommandMap = commandMap;
            Shortcuts.updateAriaKeyshortcuts();
        };
        Shortcuts.setStyle = function (newStyle) {
            if (style !== newStyle && shortcuts_json_1.default[newStyle]) {
                style = newStyle;
            }
            Shortcuts.clearAriaKeyshortcuts();
            Shortcuts.updateAriaKeyshortcuts();
        };
        Shortcuts.clearAriaKeyshortcuts = function () {
            if (null !== currentCommandMap) {
                Object.keys(currentCommandMap !== null && currentCommandMap !== void 0 ? currentCommandMap : {}).forEach(function (commandKey) {
                    var commandEntry = currentCommandMap === null || currentCommandMap === void 0 ? void 0 : currentCommandMap[commandKey];
                    if (commandEntry === null || commandEntry === void 0 ? void 0 : commandEntry.control) {
                        commandEntry.control.removeAttribute("aria-keyshortcuts");
                    }
                });
            }
        };
        Shortcuts.updateAriaKeyshortcuts = function () {
            if (currentCommandMap && style) {
                Object.keys(currentCommandMap !== null && currentCommandMap !== void 0 ? currentCommandMap : {}).forEach(function (commandKey) {
                    var commandEntry = currentCommandMap === null || currentCommandMap === void 0 ? void 0 : currentCommandMap[commandKey];
                    if (commandEntry === null || commandEntry === void 0 ? void 0 : commandEntry.control) {
                        var ariaKeyshortcuts = shortcuts_json_1.default[style].items.reduce(function (a, b) { return a.concat(b.shortcuts); }, []).filter(function (shortcut) {
                            return shortcut.command === commandKey;
                        })
                            .map(function (i) {
                            return getKeys(i)
                                .map(function (key) { return getAriaKeyName(swapLeftRight(key, "rtl" === localeDirection)); })
                                .join("+");
                        })
                            .join(", ");
                        if (0 < ariaKeyshortcuts.length) {
                            commandEntry.control.setAttribute("aria-keyshortcuts", ariaKeyshortcuts);
                        }
                        else {
                            commandEntry.control.removeAttribute("aria-keyshortcuts");
                        }
                    }
                });
            }
        };
        Shortcuts.setPressedKeyDiv = function (div) {
            pressedKeyDiv = div;
        };
    })(Shortcuts || (exports.Shortcuts = Shortcuts = {}));
});
define("script/library/index", ["require", "exports", "script/library/locale", "script/library/ui", "script/library/control", "script/library/svg", "script/library/shortcuts"], function (require, exports, ImportedLocale, ImportedUI, ImportedControl, ImportedSvg, ImportedShortcuts) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Library = void 0;
    ImportedLocale = __importStar(ImportedLocale);
    ImportedUI = __importStar(ImportedUI);
    ImportedControl = __importStar(ImportedControl);
    ImportedSvg = __importStar(ImportedSvg);
    ImportedShortcuts = __importStar(ImportedShortcuts);
    var Library;
    (function (Library) {
        Library.Locale = ImportedLocale.Locale;
        Library.UI = ImportedUI.UI;
        Library.Control = ImportedControl.Control;
        Library.Svg = ImportedSvg.Svg;
        Library.Shortcuts = ImportedShortcuts.Shortcuts;
    })(Library || (exports.Library = Library = {}));
});
define("script/tools/timespan", ["require", "exports", "script/library/index", "script/tools/number"], function (require, exports, _library_1, number_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Timespan = void 0;
    var Timespan;
    (function (Timespan) {
        Timespan.toHumanizedString = function (value, maximumFractionDigits, locale) {
            var result = [];
            if (value < 1000) {
                result.push("".concat(number_1.NumberTools.toString(value, maximumFractionDigits, locale), " ").concat(_library_1.Library.Locale.map("timeUnitMs")));
            }
            else {
                var days = Math.floor(value / (24 * 60 * 60 * 1000));
                if (0 < days) {
                    result.push("".concat(number_1.NumberTools.toString(days, 0, locale), " ").concat(_library_1.Library.Locale.map("timeUnitD")));
                }
                var hours = Math.floor(value / (60 * 60 * 1000)) % 24;
                if (0 < hours) {
                    result.push("".concat(number_1.NumberTools.toString(hours, 0, locale), " ").concat(_library_1.Library.Locale.map("timeUnitH")));
                }
                var minutes = Math.floor(value / (60 * 1000)) % 60;
                if (0 < minutes) {
                    result.push("".concat(number_1.NumberTools.toString(minutes, 0, locale), " ").concat(_library_1.Library.Locale.map("timeUnitM")));
                }
                var seconds = (value % (60 * 1000)) / 1000;
                if (0 < seconds) {
                    result.push("".concat(number_1.NumberTools.toString(seconds, maximumFractionDigits, locale), " ").concat(_library_1.Library.Locale.map("timeUnitS")));
                }
            }
            return result.join(" ");
        };
        Timespan.toMediaTimeString = function (value, locale) {
            if (Number.isNaN(value)) {
                return "NaN";
            }
            else if (value < 0 || !Number.isFinite(value)) {
                return "00:00";
            }
            else {
                var seconds = Math.floor(value / 1000);
                var hours = Math.floor(seconds / 3600);
                var minutes = Math.floor((seconds % 3600) / 60);
                var secs = seconds % 60;
                var nf = new Intl.NumberFormat(locale, { minimumIntegerDigits: 2, useGrouping: false });
                if (hours === 0) {
                    return "".concat(nf.format(minutes), ":").concat(nf.format(secs));
                }
                else {
                    return "".concat(nf.format(hours), ":").concat(nf.format(minutes), ":").concat(nf.format(secs));
                }
            }
        };
        Timespan.parse = function (timespan) {
            try {
                switch (typeof timespan) {
                    case "number":
                        return timespan;
                    case "string":
                        if (timespan.endsWith("ms")) {
                            return parseFloat(timespan.substring(0, timespan.length - 2).trim());
                        }
                        else if (timespan.endsWith("s")) {
                            return parseFloat(timespan.substring(0, timespan.length - 1).trim()) * 1000;
                        }
                        else if (timespan.endsWith("m")) {
                            return parseFloat(timespan.substring(0, timespan.length - 1).trim()) * 60 * 1000;
                        }
                        else if (timespan.endsWith("h")) {
                            return parseFloat(timespan.substring(0, timespan.length - 1).trim()) * 60 * 60 * 1000;
                        }
                        else if (timespan.endsWith("d")) {
                            return parseFloat(timespan.substring(0, timespan.length - 1).trim()) * 24 * 60 * 60 * 1000;
                        }
                        else if (timespan.endsWith("w")) {
                            return parseFloat(timespan.substring(0, timespan.length - 1).trim()) * 7 * 24 * 60 * 60 * 1000;
                        }
                        else if (timespan.endsWith("y")) {
                            return parseFloat(timespan.substring(0, timespan.length - 1).trim()) * 365.2425 * 24 * 60 * 60 * 1000;
                        }
                        else {
                            return parseInt(timespan.trim());
                        }
                }
            }
            catch (err) {
                console.error(err);
            }
            return null;
        };
    })(Timespan || (exports.Timespan = Timespan = {}));
});
define("script/tools/hash", ["require", "exports"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Hash = void 0;
    var Hash;
    (function (Hash) {
        Hash.fnv1a_32 = function (key) {
            var hash = 2166136261;
            for (var _i = 0, key_1 = key; _i < key_1.length; _i++) {
                var char = key_1[_i];
                hash ^= char.charCodeAt(0);
                hash = (hash * 16777619) >>> 0;
            }
            return hash;
        };
    })(Hash || (exports.Hash = Hash = {}));
});
define("script/tools/random", ["require", "exports", "script/tools/hash"], function (require, exports, hash_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Random = void 0;
    var Random;
    (function (Random) {
        Random.makeInteger = function (size, random, index, prime) {
            if (random === void 0) { random = function () { return Math.random(); }; }
            return Math.floor(random(index, prime) * size);
        };
        Random.select = function (list, random, index, prime) {
            if (random === void 0) { random = Math.random; }
            return list[Random.makeInteger(list.length, random, index, prime)];
        };
        var IndexedRandom = /** @class */ (function () {
            function IndexedRandom(hash32, seed, prime) {
                if (hash32 === void 0) { hash32 = hash_1.Hash.fnv1a_32; }
                if (seed === void 0) { seed = Math.random(); }
                if (prime === void 0) { prime = 31; }
                var _this = this;
                this.hash32 = hash32;
                this.seed = seed;
                this.prime = prime;
                this.index = 0;
                this.get = function (index, prime) {
                    return _this.hash32("".concat(_this.seed, ":").concat((prime !== null && prime !== void 0 ? prime : _this.prime) * (index !== null && index !== void 0 ? index : (_this.index++)))) / 0xFFFFFFFF;
                };
                this.getFunction = function () {
                    return _this.get.bind(_this);
                };
                this.setIndex = function (index) {
                    return _this.index = index;
                };
                this.resetIndex = function () {
                    return _this.setIndex(0);
                };
            }
            return IndexedRandom;
        }());
        Random.IndexedRandom = IndexedRandom;
    })(Random || (exports.Random = Random = {}));
});
define("script/tools/byte", ["require", "exports", "script/tools/number"], function (require, exports, number_2) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Byte = void 0;
    var Byte;
    (function (Byte) {
        var toString = function (value, maximumDigits, locale) {
            return value.toLocaleString(locale, {
                maximumFractionDigits: undefined === maximumDigits ? undefined :
                    Math.max(0, maximumDigits - number_2.NumberTools.getIntegralDigits(value)),
            });
        };
        Byte.toDisplayString = function (value, maximumDigits, locale) {
            return value < 1024 ? "".concat(toString(value, maximumDigits, locale), " B") :
                value < 1024 * 1024 ? "".concat(toString(value / 1024, maximumDigits, locale), " KiB") :
                    value < 1024 * 1024 * 1024 ? "".concat(toString(value / (1024 * 1024), maximumDigits, locale), " MiB") :
                        value < 1024 * 1024 * 1024 * 1024 ? "".concat(toString(value / (1024 * 1024 * 1024 * 1024), maximumDigits, locale), " GiB") :
                            "".concat(toString(value / (1024 * 1024 * 1024 * 1024 * 1024), maximumDigits, locale), " TiB");
        };
    })(Byte || (exports.Byte = Byte = {}));
});
define("script/tools/timer", ["require", "exports"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Timer = void 0;
    var Timer;
    (function (Timer) {
        Timer.sleep = function (timeout) {
            return new Promise(function (resolve) { return setTimeout(resolve, timeout); });
        };
        var ExtendableTimer = /** @class */ (function () {
            function ExtendableTimer(onStart, onEnd, span) {
                var _this = this;
                this.onStart = onStart;
                this.onEnd = onEnd;
                this.span = span;
                this.isInTimer = function () { return undefined !== _this.timer; };
                this.timer = undefined;
            }
            ExtendableTimer.prototype.kick = function () {
                var _this = this;
                if (this.isInTimer()) {
                    clearTimeout(this.timer);
                }
                else {
                    this.onStart();
                }
                this.timer = setTimeout(function () {
                    _this.timer = undefined;
                    _this.onEnd();
                }, this.span);
            };
            return ExtendableTimer;
        }());
        Timer.ExtendableTimer = ExtendableTimer;
    })(Timer || (exports.Timer = Timer = {}));
});
define("script/tools/index", ["require", "exports", "script/tools/type-guards", "script/tools/number", "script/tools/timespan", "script/tools/math", "script/tools/random", "script/tools/array", "script/tools/comparer", "script/tools/hash", "script/tools/byte", "script/tools/timer", "script/tools/environment"], function (require, exports, ImportedTypeGuards, ImportedNumber, ImportedTimespan, ImportedMath, ImportedRandom, ImportedArray, ImportedComparer, ImportedHash, ImportedByte, ImportedTimer, ImportedEnvironment) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Tools = void 0;
    ImportedTypeGuards = __importStar(ImportedTypeGuards);
    ImportedNumber = __importStar(ImportedNumber);
    ImportedTimespan = __importStar(ImportedTimespan);
    ImportedMath = __importStar(ImportedMath);
    ImportedRandom = __importStar(ImportedRandom);
    ImportedArray = __importStar(ImportedArray);
    ImportedComparer = __importStar(ImportedComparer);
    ImportedHash = __importStar(ImportedHash);
    ImportedByte = __importStar(ImportedByte);
    ImportedTimer = __importStar(ImportedTimer);
    ImportedEnvironment = __importStar(ImportedEnvironment);
    var Tools;
    (function (Tools) {
        Tools.TypeGuards = ImportedTypeGuards.TypeGuards;
        Tools.Number = ImportedNumber.NumberTools;
        Tools.Timespan = ImportedTimespan.Timespan;
        Tools.Math = ImportedMath.Math;
        Tools.Random = ImportedRandom.Random;
        Tools.Array = ImportedArray.Array;
        Tools.Comparer = ImportedComparer.Comparer;
        Tools.Hash = ImportedHash.Hash;
        Tools.Byte = ImportedByte.Byte;
        Tools.Timer = ImportedTimer.Timer;
        Tools.Environment = ImportedEnvironment.Environment;
    })(Tools || (exports.Tools = Tools = {}));
});
define("script/features/fps", ["require", "exports", "script/tools/index"], function (require, exports, _tools_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Fps = void 0;
    var Fps;
    (function (Fps) {
        var OnlineStandardDeviation = /** @class */ (function () {
            function OnlineStandardDeviation() {
                var _this = this;
                this.count = 0;
                this.mean = 0;
                this.m2 = 0;
                this.reset = function () {
                    _this.count = 0;
                    _this.mean = 0;
                    _this.m2 = 0;
                };
                this.update = function (value) {
                    _this.count += 1;
                    var delta = value - _this.mean;
                    _this.mean += delta / _this.count;
                    var delta2 = value - _this.mean;
                    _this.m2 += delta * delta2;
                };
                this.isValid = function () { return 1 < _this.count; };
                this.getVariance = function () {
                    return _this.isValid() ? _this.m2 / (_this.count - 1) : 0;
                };
                this.getStandardDeviation = function () {
                    return Math.sqrt(_this.getVariance());
                };
            }
            return OnlineStandardDeviation;
        }());
        Fps.OnlineStandardDeviation = OnlineStandardDeviation;
        Fps.standardDeviation = new OnlineStandardDeviation();
        var fpsWindow = 1000; // ms
        var frameTimings = [];
        var fpsHistory = [];
        Fps.averageFps = NaN; // 直近1秒間の平均FPSを格納する変数
        var makeInvalidFpsHistoryEntry = function () {
            return ({
                fps: NaN,
                now: NaN,
                text: "N/A FPS",
            });
        };
        Fps.reset = function () {
            Fps.isValid = false;
            frameTimings = [];
            fpsHistory = [];
            Fps.currentMaxFps = Fps.currentNowFps = Fps.currentMinFps =
                makeInvalidFpsHistoryEntry();
            Fps.standardDeviation.reset();
            Fps.averageFps = NaN; // リセット時に初期化
        };
        Fps.step = function (now) {
            frameTimings.push(now);
            Fps.isValid = 2 <= frameTimings.length;
            if (Fps.isValid) {
                while (2 < frameTimings.length && fpsWindow < now - frameTimings[0]) {
                    frameTimings.shift();
                }
                var timeSpan = Math.max(now - frameTimings[0], 0.001); // max for avoid 0 div
                var frameCount = frameTimings.length - 1;
                var fps = (frameCount * 1000) / timeSpan;
                Fps.standardDeviation.update(fps);
                Fps.currentNowFps =
                    {
                        fps: fps,
                        now: now,
                        text: makeFpsText(fps),
                    };
                var expiredAt = now - fpsWindow;
                while (0 < fpsHistory.length && fpsHistory[0].now < expiredAt) {
                    fpsHistory.shift();
                }
                fpsHistory.push(Fps.currentNowFps);
                Fps.currentMaxFps = Fps.currentNowFps;
                Fps.currentMinFps = Fps.currentNowFps;
                fpsHistory.forEach(function (i) {
                    if (Fps.currentMaxFps.fps < i.fps) {
                        Fps.currentMaxFps = i;
                    }
                    if (i.fps < Fps.currentMinFps.fps) {
                        Fps.currentMinFps = i;
                    }
                });
                var totalFps = _tools_1.Tools.Math.sum(fpsHistory.map(function (i) { return i.fps; }));
                Fps.averageFps = totalFps / fpsHistory.length;
                if (Fps.isUnderFuseFps()) {
                    console.error("❌ UnderFuseFps:", {
                        fuseFps: Fps.fuseFps,
                        maxFps: Fps.currentMaxFps.fps,
                        nowFps: Fps.currentMaxFps.fps,
                        minFps: Fps.currentMinFps.fps,
                        averageFps: Fps.averageFps,
                    });
                }
            }
        };
        var makeFpsText = function (fps) {
            return "".concat(fps.toLocaleString("en-US", { useGrouping: false, maximumFractionDigits: 2, minimumFractionDigits: 2, }), " FPS");
        };
        Fps.getText = function () {
            return Fps.currentMaxFps.text + " (Max)\n"
                + "".concat(Fps.averageFps.toFixed(2), " FPS (Avg)\n")
                //+currentNowFps.text + " (Now)\n"
                + Fps.currentMinFps.text + " (Min)";
        };
        Fps.isUnderFuseFps = function () { return Fps.isValid && Fps.currentMaxFps.fps < Fps.fuseFps; };
    })(Fps || (exports.Fps = Fps = {}));
});
define("script/url", ["require", "exports"], function (require, exports) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Url = void 0;
    //import config from "@resource/config.json";
    var Url;
    (function (Url) {
        Url.parseParameter = function (url) {
            var result = {};
            var urlObj = new URL(url.replace(/#/g, "?"));
            var params = urlObj.searchParams;
            params.forEach(function (value, key) { return result[key] = value; });
            return result;
        };
        Url.make = function (params) {
            //const url = new URL(config.canonicalUrl || window.location.href);
            var url = new URL(window.location.href.replace(/#/g, "?"));
            for (var _i = 0, _a = Object.entries(params); _i < _a.length; _i++) {
                var _b = _a[_i], key = _b[0], value = _b[1];
                url.searchParams.set(key, value);
            }
            return url.toString().replace(/\?/g, "#");
        };
        // export const update = (params: Record<string, string>): void =>
        //     window.history.replaceState({}, "", make(params));
        Url.addParameter = function (params, key, value) {
            params[key] = value;
            return params;
        };
        Url.initialize = function () {
        };
        Url.params = Url.parseParameter(window.location.href);
    })(Url || (exports.Url = Url = {}));
});
define("resource/control", [], {
    "shuffle": {
        "id": "shuffle",
        "default": false
    },
    "repeat": {
        "id": "repeat",
        "default": false
    },
    "volumeButton": {
        "id": "volume-button",
        "default": false
    },
    "volume": {
        "id": "volume",
        "min": 0,
        "max": 100,
        "step": 1,
        "default": 100
    },
    "settingsButton": {
        "id": "settings-button",
        "default": false
    },
    "withFullscreen": {
        "id": "with-fullscreen",
        "default": false
    },
    "brightness": {
        "id": "brightness",
        "min": 0,
        "max": 100,
        "step": 1,
        "default": 100
    },
    "stretch": {
        "id": "stretch",
        "min": 0,
        "max": 100,
        "step": 1,
        "default": 30
    },
    "padding": {
        "id": "padding",
        "default": true
    },
    "crossFade": {
        "id": "cross-fade",
        "enum": [
            30000,
            24000,
            18000,
            12500,
            10000,
            7500,
            5000,
            4000,
            3000,
            2500,
            2000,
            1500,
            1250,
            1000,
            750,
            500,
            250,
            0
        ],
        "default": 1500
    },
    "crossFadeWithBlur": {
        "id": "cross-fade-with-blur",
        "default": true
    },
    "imageSpan": {
        "id": "image-span",
        "enum": [
            3600000,
            1800000,
            900000,
            750000,
            600000,
            450000,
            300000,
            180000,
            90000,
            60000,
            45000,
            30000,
            24000,
            18000,
            12500,
            10000,
            7500,
            5000,
            4000,
            3000,
            2500,
            2000,
            1500,
            1000
        ],
        "default": 24000
    },
    "loopShortMedia": {
        "id": "loop-short-media",
        "default": false
    },
    "visualizer": {
        "id": "visualizer-type",
        "enum": [
            "simple",
            "plane-frequency",
            "plane-waveform",
            "arc-frequency",
            "arc-waveform",
            "double-arc",
            "stereo-arc-frequency",
            "stereo-arc-waveform",
            "stereo-double-arc"
        ],
        "default": "stereo-double-arc"
    },
    "analogClock": {
        "id": "analog-clock",
        "default": false
    },
    "dateHands": {
        "id": "date-hands",
        "default": false
    },
    "millisecondHand": {
        "id": "millisecond-hand",
        "default": false
    },
    "overlayStyle": {
        "id": "overlay-style",
        "enum": [
            "blend",
            "white",
            "black",
            "system",
            "alternate",
            "rainbow"
        ],
        "default": "alternate"
    },
    "overlayPosition": {
        "id": "overlay-position",
        "enum": [
            "center",
            "top-right",
            "bottom-right",
            "bottom-left",
            "top-left",
            "rotate"
        ],
        "default": "rotate"
    },
    "withClock": {
        "id": "with-clock",
        "default": false
    },
    "withDate": {
        "id": "with-date",
        "default": false
    },
    "withWeather": {
        "id": "with-weather",
        "default": false
    },
    "weatherLocation": {
        "id": "weather-location",
        "enum": [
            "ip-address",
            "geolocation"
        ],
        "default": "ip-address"
    },
    "withCalendar": {
        "id": "with-calendar",
        "default": false
    },
    "withVisualizer": {
        "id": "with-visualizer",
        "default": false
    },
    "showFps": {
        "id": "show-fps",
        "default": false
    },
    "language": {
        "id": "language",
        "enum": [
            "Auto"
        ],
        "default": "Auto"
    },
    "wakeUpButton": {
        "id": "wakeup-button",
        "default": false
    },
    "wakeUpToggle": {
        "id": "wakeup-toggle-label",
        "default": false
    },
    "wakeUpTime": {
        "id": "wakeup-time",
        "enum": [
            "12h",
            "11.5h",
            "11h",
            "10.5h",
            "10h",
            "9.5h",
            "9h",
            "8.5h",
            "8h",
            "7.5h",
            "7h",
            "6.5h",
            "6h",
            "5.75h",
            "5.5h",
            "5.25h",
            "5h",
            "4.75h",
            "4.5h",
            "4.25h",
            "4h",
            "3.75h",
            "3.5h",
            "3.25h",
            "3h",
            "2.75h",
            "2.5h",
            "2.25h",
            "2h",
            "1.75h",
            "1.5h",
            "1.25h",
            "1h",
            "55m",
            "50m",
            "45m",
            "40m",
            "35m",
            "30m",
            "25m",
            "20m",
            "15m",
            "10m",
            "5m",
            "1m",
            "5s"
        ],
        "default": "7.5h"
    },
    "fadeIn": {
        "id": "fade-in",
        "enum": [
            "2h",
            "1.75h",
            "1.5h",
            "1.25h",
            "1h",
            "55m",
            "50m",
            "45m",
            "40m",
            "35m",
            "30m",
            "25m",
            "20m",
            "15m",
            "10m",
            "5m",
            "3m",
            "2m",
            "1m",
            "45s",
            "30s",
            "15s",
            "10s",
            "5s",
            "3s",
            "2s",
            "1s",
            "off"
        ],
        "default": "5m"
    },
    "sleepButton": {
        "id": "sleep-button",
        "default": false
    },
    "sleepToggle": {
        "id": "sleep-toggle-label",
        "default": false
    },
    "sleepTime": {
        "id": "sleep-time",
        "enum": [
            "12h",
            "11.5h",
            "11h",
            "10.5h",
            "10h",
            "9.5h",
            "9h",
            "8.5h",
            "8h",
            "7.5h",
            "7h",
            "6.5h",
            "6h",
            "5.75h",
            "5.5h",
            "5.25h",
            "5h",
            "4.75h",
            "4.5h",
            "4.25h",
            "4h",
            "3.75h",
            "3.5h",
            "3.25h",
            "3h",
            "2.75h",
            "2.5h",
            "2.25h",
            "2h",
            "1.75h",
            "1.5h",
            "1.25h",
            "1h",
            "55m",
            "50m",
            "45m",
            "40m",
            "35m",
            "30m",
            "25m",
            "20m",
            "15m",
            "10m",
            "5m",
            "1m",
            "5s"
        ],
        "default": "30m"
    },
    "fadeOut": {
        "id": "fade-out",
        "enum": [
            "2h",
            "1.75h",
            "1.5h",
            "1.25h",
            "1h",
            "55m",
            "50m",
            "45m",
            "40m",
            "35m",
            "30m",
            "25m",
            "20m",
            "15m",
            "10m",
            "5m",
            "3m",
            "2m",
            "1m",
            "45s",
            "30s",
            "15s",
            "10s",
            "5s",
            "3s",
            "2s",
            "1s",
            "off"
        ],
        "default": "5m"
    }
});
define("script/ui", ["require", "exports", "script/tools/index", "script/library/index", "script/url", "resource/control", "resource/shortcuts"], function (require, exports, _tools_2, _library_2, url_1, control_json_1, shortcuts_json_2) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.UI = void 0;
    control_json_1 = __importDefault(control_json_1);
    shortcuts_json_2 = __importDefault(shortcuts_json_2);
    var UI;
    (function (UI) {
        UI.locale = undefined;
        UI.manifest = _library_2.Library.UI.getElementById("link", "manifest");
        UI.noscript = _library_2.Library.UI.getElementById("div", "noscript");
        UI.screenBody = _library_2.Library.UI.getElementById("div", "screen-body");
        UI.mediaScreen = _library_2.Library.UI.getElementById("div", "media-screen");
        UI.elementPool = _library_2.Library.UI.getElementById("div", "element-pool");
        var ControlPanel;
        (function (ControlPanel) {
            ControlPanel.wakeUpButton = new _library_2.Library.Control.Checkbox(control_json_1.default.wakeUpButton);
            ControlPanel.shuffle = new _library_2.Library.Control.Checkbox(control_json_1.default.shuffle);
            ControlPanel.repeat = new _library_2.Library.Control.Checkbox(control_json_1.default.repeat);
            ControlPanel.playButton = new _library_2.Library.Control.Button({ id: "play-button", });
            ControlPanel.volumeButton = new _library_2.Library.Control.Checkbox(control_json_1.default.volumeButton);
            ControlPanel.settingsButton = new _library_2.Library.Control.Checkbox(control_json_1.default.settingsButton);
            ControlPanel.sleepButton = new _library_2.Library.Control.Checkbox(control_json_1.default.sleepButton);
        })(ControlPanel = UI.ControlPanel || (UI.ControlPanel = {}));
        UI.mediaIndex = _library_2.Library.UI.getElementById("span", "media-index");
        UI.mediaTitle = _library_2.Library.UI.getElementById("span", "media-title");
        UI.mediaTime = _library_2.Library.UI.getElementById("span", "media-time");
        UI.seekRange = _library_2.Library.UI.getElementById("input", "seek");
        UI.nextButton = new _library_2.Library.Control.Button({ id: "next-button", });
        UI.backBUtton = new _library_2.Library.Control.Button({ id: "back-button", });
        UI.fastForwardButton = new _library_2.Library.Control.Button({ id: "fast-forward-button", });
        UI.rewindButton = new _library_2.Library.Control.Button({ id: "rewind-button", });
        UI.volumeLabel = _library_2.Library.UI.querySelector("label", "label[for='volume-button']");
        UI.volumeRange = new _library_2.Library.Control.Range(control_json_1.default.volume);
        UI.mediaList = _library_2.Library.UI.getElementById("div", "media-list");
        UI.isScrolledToMediaListBottom = function () {
            return UI.mediaList.scrollHeight <= UI.mediaList.scrollTop + (UI.mediaList.clientHeight * 1) + (UI.addMediaButtonHeight * 0.3);
        };
        UI.progressCircle = _library_2.Library.UI.getElementById("div", "progress-circle");
        var AnalogClock;
        (function (AnalogClock) {
            AnalogClock.panel = _library_2.Library.UI.getElementById("time", "analog-clock-panel");
            AnalogClock.monthPanel = _library_2.Library.UI.getElementById("div", "month-panel");
            AnalogClock.yearNiddle = _library_2.Library.UI.getElementById("div", "year-niddle");
            AnalogClock.monthNiddle = _library_2.Library.UI.getElementById("div", "month-niddle");
            AnalogClock.weekNiddle = _library_2.Library.UI.getElementById("div", "week-niddle");
            AnalogClock.hoursNiddle = _library_2.Library.UI.getElementById("div", "hours-niddle");
            AnalogClock.minutesNiddle = _library_2.Library.UI.getElementById("div", "minutes-niddle");
            AnalogClock.secondsNiddle = _library_2.Library.UI.getElementById("div", "seconds-niddle");
            AnalogClock.milliSecondsNiddle = _library_2.Library.UI.getElementById("div", "milli-seconds-niddle");
        })(AnalogClock = UI.AnalogClock || (UI.AnalogClock = {}));
        ;
        UI.addMediaButton = new _library_2.Library.Control.Button({ id: "add-media", });
        UI.addMediaButtonHeight = 84;
        UI.inputFile = _library_2.Library.UI.getElementById("input", "add-file");
        var SettingsPanel;
        (function (SettingsPanel) {
            SettingsPanel.mediaCount = _library_2.Library.UI.getElementById("span", "media-count");
            SettingsPanel.mediaLength = _library_2.Library.UI.getElementById("span", "media-length");
            SettingsPanel.withFullscreenCheckbox = new _library_2.Library.Control.Checkbox(control_json_1.default.withFullscreen);
            SettingsPanel.brightnessRange = new _library_2.Library.Control.Range(control_json_1.default.brightness);
            SettingsPanel.stretchRange = new _library_2.Library.Control.Range(control_json_1.default.stretch);
            SettingsPanel.paddingCheckbox = new _library_2.Library.Control.Checkbox(control_json_1.default.padding);
            SettingsPanel.crossFadeSelect = new _library_2.Library.Control.Select(control_json_1.default.crossFade, {
                makeLabel: function (value) { return value <= 0 ?
                    _library_2.Library.Locale.map("off") :
                    _tools_2.Tools.Timespan.toHumanizedString(value, undefined, UI.locale); }
            });
            SettingsPanel.crossFadeWithBlurCheckbox = new _library_2.Library.Control.Checkbox(control_json_1.default.crossFadeWithBlur);
            SettingsPanel.imageSpanSelect = new _library_2.Library.Control.Select(control_json_1.default.imageSpan, { makeLabel: function (value) { return _tools_2.Tools.Timespan.toHumanizedString(value, undefined, UI.locale); } });
            SettingsPanel.loopShortMediaCheckbox = new _library_2.Library.Control.Checkbox(control_json_1.default.loopShortMedia);
            SettingsPanel.visualizerSelect = new _library_2.Library.Control.Select(control_json_1.default.visualizer, { makeLabel: function (i) { return _library_2.Library.Locale.map("visualizer-".concat(i)); }, });
            SettingsPanel.analogClockCheckbox = new _library_2.Library.Control.Checkbox(control_json_1.default.analogClock);
            SettingsPanel.dateHandsCheckbox = new _library_2.Library.Control.Checkbox(control_json_1.default.dateHands);
            SettingsPanel.millisecondHandCheckbox = new _library_2.Library.Control.Checkbox(control_json_1.default.millisecondHand);
            SettingsPanel.overlayStyleSelect = new _library_2.Library.Control.Select(control_json_1.default.overlayStyle, { makeLabel: function (i) { return _library_2.Library.Locale.map(i); }, });
            SettingsPanel.overlayPositionSelect = new _library_2.Library.Control.Select(control_json_1.default.overlayPosition, { makeLabel: function (i) { return _library_2.Library.Locale.map(i); }, });
            SettingsPanel.withWeatherCheckbox = new _library_2.Library.Control.Checkbox(control_json_1.default.withWeather);
            SettingsPanel.weatherLocationSelect = new _library_2.Library.Control.Select(control_json_1.default.weatherLocation, { makeLabel: function (i) { return _library_2.Library.Locale.map(i); }, });
            SettingsPanel.withClockCheckbox = new _library_2.Library.Control.Checkbox(control_json_1.default.withClock);
            SettingsPanel.withDateCheckbox = new _library_2.Library.Control.Checkbox(control_json_1.default.withDate);
            SettingsPanel.withCalenderCheckbox = new _library_2.Library.Control.Checkbox(control_json_1.default.withCalendar);
            SettingsPanel.withVisualizerCheckbox = new _library_2.Library.Control.Checkbox(control_json_1.default.withVisualizer);
            SettingsPanel.showFpsCheckbox = new _library_2.Library.Control.Checkbox(control_json_1.default.showFps);
            SettingsPanel.getDefaultShortcut = function () {
                switch (true) {
                    case _tools_2.Tools.Environment.isWindows():
                        return "windows";
                    case _tools_2.Tools.Environment.isApple():
                        return "apple";
                    default:
                        return "youtube";
                }
            };
            SettingsPanel.shortcutsSelect = new _library_2.Library.Control.Select({
                id: "shortcuts",
                enum: Object.keys(shortcuts_json_2.default),
                default: SettingsPanel.getDefaultShortcut(),
            }, {
                makeLabel: function (i) { return shortcuts_json_2.default[i].label; },
            });
            SettingsPanel.languageSelect = new _library_2.Library.Control.Select({
                id: control_json_1.default.language.id,
                enum: _library_2.Library.Locale.getLocaleList(),
                default: control_json_1.default.language.default,
            }, {
                makeLabel: function (i) { return "Auto" === i ?
                    _library_2.Library.Locale.map("Auto") :
                    ("".concat(i, ": ")
                        + _library_2.Library.Locale.toRtl(_library_2.Library.Locale.map("lang-label", i), _library_2.Library.Locale.isRtl() && _library_2.Library.Locale.isLtr(i))); },
            });
            SettingsPanel.urlAnchor = _library_2.Library.UI.getElementById("a", "url");
        })(SettingsPanel = UI.SettingsPanel || (UI.SettingsPanel = {}));
        UI.fpsDisplay = _library_2.Library.UI.getElementById("div", "fps");
        UI.overlay = _library_2.Library.UI.getElementById("div", "overlay-panel");
        UI.visualizer = _library_2.Library.UI.getElementById("div", "visualizer");
        UI.calendar = _library_2.Library.UI.getElementById("div", "calendar");
        UI.weather = _library_2.Library.UI.getElementById("div", "weather");
        UI.date = _library_2.Library.UI.getElementById("time", "date");
        UI.time = _library_2.Library.UI.getElementById("time", "time");
        UI.keyboardShortcut = _library_2.Library.UI.getElementById("div", "keyboard-shortcut");
        UI.pressedKey = _library_2.Library.UI.getElementById("div", "pressed-key");
        UI.updateShortcuts = function () {
            _library_2.Library.UI.replaceChildren(UI.keyboardShortcut, _library_2.Library.Shortcuts.getDisplayList(function (i) {
                switch (i.description) {
                    case "FullScreen":
                        return _library_2.Library.UI.fullscreenEnabled;
                    default:
                        return true;
                }
            }).map(function (i) {
                return [
                    {
                        tag: "span",
                        children: i.keyss
                            .map(function (j) { return j.map(function (key) { return ({ tag: "kbd", text: key }); }); })
                            .reduce(function (accumulator, item, i) {
                            return __spreadArray(__spreadArray(__spreadArray([], accumulator, true), (0 < i ? [{ tag: "span", className: "separator", text: "/", }] : []), true), item, true);
                        }, []),
                    },
                    { tag: "span", text: _library_2.Library.Locale.map(i.description), }
                ];
            })
                .reduce(function (a, b) { return a.concat(b); }, []));
            _library_2.Library.Shortcuts.updateAriaKeyshortcuts();
        };
        UI.updateLanguage = function () {
            _library_2.Library.Locale.setLocale(UI.SettingsPanel.languageSelect.get(), url_1.Url.params["locale"]);
            var lang = _library_2.Library.Locale.getLocale();
            document.documentElement.setAttribute("lang", lang);
            var localeDirection = _library_2.Library.Locale.getDirection(lang);
            document.documentElement.setAttribute("dir", localeDirection);
            _library_2.Library.Shortcuts.setLocaleDirection(localeDirection);
            UI.manifest.setAttribute("href", "web.manifest/generated/".concat(lang, ".json"));
            UI.SettingsPanel.crossFadeSelect.reloadOptions();
            UI.SettingsPanel.imageSpanSelect.reloadOptions();
            UI.SettingsPanel.visualizerSelect.reloadOptions();
            UI.SettingsPanel.overlayStyleSelect.reloadOptions();
            UI.SettingsPanel.overlayPositionSelect.reloadOptions();
            UI.SettingsPanel.weatherLocationSelect.reloadOptions();
            UI.SettingsPanel.languageSelect.reloadOptions();
            UI.wakeUpSelect.reloadOptions();
            UI.fadeInSelect.reloadOptions();
            UI.sleepSelect.reloadOptions();
            UI.fadeOutSelect.reloadOptions();
            _library_2.Library.UI.querySelectorAllWithFallback("span", ["[data-lang-key]"])
                .forEach(function (i) { return UI.updateLabel(i); });
            Array.from(document.querySelectorAll("[data-aria-lang-key]"))
                .forEach(function (i) { return UI.updateAriaLabel(i); });
            UI.updateShortcuts();
        };
        UI.wakeUpProgressCircle = _library_2.Library.UI.getElementById("div", "wakeup-progress-circle");
        UI.wakeUpTimerLabel = _library_2.Library.UI.getElementById("label", "wakeup-timer");
        UI.wakeUpToggle = new _library_2.Library.Control.ToggleLabel(control_json_1.default.wakeUpToggle);
        UI.wakeUpSelect = new _library_2.Library.Control.Select(control_json_1.default.wakeUpTime, {
            makeLabel: function (value) { var _a; return _tools_2.Tools.Timespan.toHumanizedString((_a = _tools_2.Tools.Timespan.parse(value)) !== null && _a !== void 0 ? _a : 0, undefined, UI.locale); }
        });
        UI.fadeInSelect = new _library_2.Library.Control.Select(control_json_1.default.fadeIn, {
            makeLabel: function (value) {
                var _a;
                return "off" === value ?
                    _library_2.Library.Locale.map("off") :
                    _tools_2.Tools.Timespan.toHumanizedString((_a = _tools_2.Tools.Timespan.parse(value)) !== null && _a !== void 0 ? _a : 0, undefined, UI.locale);
            }
        });
        UI.noMediaLabel = _library_2.Library.UI.getElementById("label", "no-media");
        UI.sleepProgressCircle = _library_2.Library.UI.getElementById("div", "sleep-progress-circle");
        UI.sleepTimerLabel = _library_2.Library.UI.getElementById("label", "sleep-timer");
        UI.sleepToggle = new _library_2.Library.Control.ToggleLabel(control_json_1.default.sleepToggle);
        UI.sleepSelect = new _library_2.Library.Control.Select(control_json_1.default.sleepTime, {
            makeLabel: function (value) { var _a; return _tools_2.Tools.Timespan.toHumanizedString((_a = _tools_2.Tools.Timespan.parse(value)) !== null && _a !== void 0 ? _a : 0, undefined, UI.locale); }
        });
        UI.fadeOutSelect = new _library_2.Library.Control.Select(control_json_1.default.fadeOut, {
            makeLabel: function (value) {
                var _a;
                return "off" === value ?
                    _library_2.Library.Locale.map("off") :
                    _tools_2.Tools.Timespan.toHumanizedString((_a = _tools_2.Tools.Timespan.parse(value)) !== null && _a !== void 0 ? _a : 0, undefined, UI.locale);
            }
        });
        UI.noRepeatLabel = _library_2.Library.UI.getElementById("label", "no-repeat");
        UI.initialize = function (params) {
            UI.locale = params["locale"];
            UI.noscript.style.setProperty("display", "none");
            if (!_library_2.Library.UI.fullscreenEnabled && SettingsPanel.withFullscreenCheckbox.dom.parentElement) {
                SettingsPanel.withFullscreenCheckbox.dom.parentElement.style.setProperty("display", "none");
            }
        };
        UI.getDataLangKey = function (element) {
            return element.getAttribute("data-lang-key");
        };
        UI.updateLabel = function (element) {
            return _library_2.Library.UI.setTextContent(element, _library_2.Library.Locale.map(UI.getDataLangKey(element)));
        };
        UI.updateAriaLabel = function (element) {
            var labelKey = element.getAttribute("data-aria-lang-key");
            if (labelKey) {
                element.setAttribute("aria-label", _library_2.Library.Locale.map(labelKey));
            }
        };
        UI.setLabel = function (element, label) {
            return element.setAttribute("data-lang-key", label);
        };
        UI.setAndUpdateLabel = function (element, label) {
            UI.setLabel(element, label);
            UI.updateLabel(element);
        };
        UI.popupCheckboxList = [
            ControlPanel.volumeButton,
            ControlPanel.settingsButton,
            ControlPanel.wakeUpButton,
            ControlPanel.sleepButton,
        ];
        UI.updateParentClassBasedOnCheckbox = function (checkbox, checked) {
            var parent = checkbox.dom.parentElement;
            parent.classList.toggle("checked", checked !== null && checked !== void 0 ? checked : checkbox.get());
        };
        UI.closeOtherPopups = function (except) {
            UI.updateParentClassBasedOnCheckbox(except);
            UI.popupCheckboxList.forEach(function (i) {
                if (except !== i) {
                    i.toggle(false, "preventOnChange");
                    UI.updateParentClassBasedOnCheckbox(i);
                }
            });
        };
    })(UI || (exports.UI = UI = {}));
});
define("script/features/location", ["require", "exports", "script/ui"], function (require, exports, ui_3) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Location = void 0;
    var Location;
    (function (Location) {
        var coords;
        Location.requestToGetGeolocation = function () {
            if (window.isSecureContext && "geolocation" in navigator) {
                navigator.geolocation.getCurrentPosition(function (position) {
                    console.log("📍 Geolocation obtained:", position.coords);
                    coords = "".concat(position.coords.latitude.toFixed(4), ",").concat(position.coords.longitude.toFixed(4));
                }, function (error) {
                    console.warn("🚫 Failed to obtain geolocation:", error);
                }, {
                    enableHighAccuracy: false,
                    timeout: 10000,
                    maximumAge: 60 * 60 * 1000,
                });
            }
            else {
                console.warn("🚫 Geolocation not supported. Falling back to IP address.");
            }
        };
        Location.get = function () {
            if ("geolocation" === ui_3.UI.SettingsPanel.weatherLocationSelect.get()) {
                return coords;
            }
            return undefined;
        };
    })(Location || (exports.Location = Location = {}));
});
define("script/features/weather", ["require", "exports", "script/tools/index", "script/features/location", "resource/config"], function (require, exports, _tools_3, location_1, config_json_3) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Weather = void 0;
    config_json_3 = __importDefault(config_json_3);
    var Weather;
    (function (Weather) {
        var _this = this;
        Weather.site = config_json_3.default.weather.site;
        Weather.format = config_json_3.default.weather.format;
        Weather.separator = "|";
        Weather.extractFixedText = function (format) { var _a; return (_a = format.replace(/%\S+/g, "").trim().match(/\S+/g)) !== null && _a !== void 0 ? _a : []; };
        Weather.isRegularResponse = function (text) {
            return Weather.extractFixedText(Weather.format).every(function (i) { return text.includes(i); });
        };
        Weather.getTemperatureUnit = function (locale) {
            if (locale === void 0) { locale = navigator.language; }
            return config_json_3.default.weather.fahrenheitLocales.includes(locale) ? "imperial" : "metric";
        };
        Weather.getTemperatureParam = function (locale) {
            if (locale === void 0) { locale = navigator.language; }
            return Weather.getTemperatureUnit(locale) === "imperial" ? "&u" : "";
        };
        var locationCache = undefined;
        Weather.makeRequestUrl = function (location, locale) {
            if (locale === void 0) { locale = navigator.language; }
            return location && 0 < location.length ?
                "https://".concat(Weather.site, "/").concat(encodeURIComponent(location), "?format=").concat(encodeURIComponent(Weather.format)).concat(Weather.getTemperatureParam(locale)) :
                "https://".concat(Weather.site, "/?format=").concat(encodeURIComponent(Weather.format)).concat(Weather.getTemperatureParam(locale)).concat(Weather.separator, "%l");
        };
        var lastRequestTimestamp = 0;
        var isLastRequestWithGeolocation = false;
        // export const enforceMonocromeFont = (text: string): string =>
        //     text.replace(/[\u2600-\u26FF\u1F300-\u1F5FF]/g, m => `${m}\uFE0E`);
        Weather.fetch = function (location) { return __awaiter(_this, void 0, void 0, function () {
            var result, response, parts, error_1;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        result = undefined;
                        _a.label = 1;
                    case 1:
                        _a.trys.push([1, 6, , 7]);
                        console.log("🌤 Fetching weather data...", Weather.makeRequestUrl(location));
                        return [4 /*yield*/, window.fetch(Weather.makeRequestUrl(location))];
                    case 2:
                        response = _a.sent();
                        if (!response.ok) return [3 /*break*/, 4];
                        return [4 /*yield*/, response.text()];
                    case 3:
                        //result = enforceMonocromeFont(await response.text())
                        result = (_a.sent())
                            .replace(/\s+/g, " ")
                            .trim();
                        if (Weather.isRegularResponse(result)) {
                            console.log("🌤 Weather data fetched:", result);
                            if (result.includes(Weather.separator)) {
                                parts = result.split(Weather.separator);
                                if (2 <= parts.length) {
                                    locationCache = parts[1].trim();
                                    console.log("📍 Location extracted:", locationCache);
                                }
                                result = parts[0].trim();
                            }
                            Weather.setCache(result);
                        }
                        else {
                            console.warn("🚫 Irregular weather data:", result);
                        }
                        return [3 /*break*/, 5];
                    case 4:
                        console.warn("🚫 Failed to fetch weather data:", response.status, response.statusText);
                        _a.label = 5;
                    case 5: return [3 /*break*/, 7];
                    case 6:
                        error_1 = _a.sent();
                        console.error("🚫 Error fetching weather data:", error_1);
                        return [3 /*break*/, 7];
                    case 7: return [2 /*return*/, result];
                }
            });
        }); };
        Weather.cache = config_json_3.default.weather.na;
        Weather.lastTimestamp = 0;
        Weather.setCache = function (data) {
            Weather.cache = data !== null && data !== void 0 ? data : config_json_3.default.weather.na;
            Weather.lastTimestamp = new Date().getTime();
        };
        Weather.isWeatherFetchAllowed = function () {
            var _a;
            var now = Date.now();
            var retryInterval = (_a = _tools_3.Tools.Timespan.parse(config_json_3.default.weather.retryInterval)) !== null && _a !== void 0 ? _a : (3 * 60 * 1000);
            return lastRequestTimestamp + retryInterval < now;
        };
        Weather.isUpdateRequired = function () {
            var _a;
            var now = Date.now();
            var updateInterval = (_a = _tools_3.Tools.Timespan.parse(config_json_3.default.weather.updateInterval)) !== null && _a !== void 0 ? _a : (30 * 60 * 1000);
            return Weather.lastTimestamp + updateInterval < now;
        };
        Weather.isExpired = function () {
            var _a;
            var now = Date.now();
            var expire = (_a = _tools_3.Tools.Timespan.parse(config_json_3.default.weather.expire)) !== null && _a !== void 0 ? _a : (60 * 60 * 1000);
            return Weather.lastTimestamp + expire < now;
        };
        Weather.get = function () {
            var location = location_1.Location.get();
            var isWithGeolocation = undefined !== location;
            if (Weather.isUpdateRequired() || isWithGeolocation !== isLastRequestWithGeolocation) {
                if (Weather.isWeatherFetchAllowed()) {
                    lastRequestTimestamp = Date.now();
                    isLastRequestWithGeolocation = isWithGeolocation;
                    Weather.fetch(location !== null && location !== void 0 ? location : locationCache);
                }
            }
            if (Weather.isExpired()) {
                return config_json_3.default.weather.na;
            }
            else {
                return Weather.cache;
            }
        };
    })(Weather || (exports.Weather = Weather = {}));
});
define("script/features/overlay", ["require", "exports", "script/library/index", "script/tools/index", "script/ui", "script/features/weather", "resource/config"], function (require, exports, library_1, tools_1, ui_4, weather_1, config_json_4) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Overlay = void 0;
    config_json_4 = __importDefault(config_json_4);
    var phi = (1 + Math.sqrt(5)) / 2;
    var Overlay;
    (function (Overlay) {
        Overlay.firstDayOfWeek = config_json_4.default.clock.firstDayOfWeek;
        Overlay.locale = undefined;
        Overlay.title = undefined;
        Overlay.subtitle = undefined;
        Overlay.updateAnalogClock = function (date) {
            var isAnalogClockEnabled = ui_4.UI.SettingsPanel.analogClockCheckbox.get();
            var isDateHandsEnabled = ui_4.UI.SettingsPanel.dateHandsCheckbox.get();
            var isMillisecondHandEnabled = ui_4.UI.SettingsPanel.millisecondHandCheckbox.get();
            ui_4.UI.AnalogClock.panel.classList.toggle("hide", !isAnalogClockEnabled);
            ui_4.UI.AnalogClock.yearNiddle.classList.toggle("hide", !isDateHandsEnabled);
            ui_4.UI.AnalogClock.monthNiddle.classList.toggle("hide", !isDateHandsEnabled);
            ui_4.UI.AnalogClock.weekNiddle.classList.toggle("hide", !isDateHandsEnabled);
            if (isAnalogClockEnabled) {
                ui_4.UI.AnalogClock.milliSecondsNiddle.classList.toggle("hide", !isMillisecondHandEnabled);
                var milliSeconds = date.getMilliseconds();
                var seconds = date.getSeconds() + (milliSeconds / 1000);
                var minutes = date.getMinutes() + (seconds / 60);
                var hours = date.getHours() + (minutes / 60);
                var secondsAngle = seconds / 60;
                var minutesAngle = minutes / 60;
                var hoursAngle = hours % 12 / 12;
                var milliSecondsAngle = milliSeconds / 1000;
                if (isDateHandsEnabled) {
                    var week = date.getDay() + (hours / 24);
                    var month = (date.getDate() - 1) + (hours / 24);
                    var daysOfThisMonth_1 = new Date(date.getFullYear(), date.getMonth() + 1, 0).getDate();
                    var year = date.getMonth() + (month / daysOfThisMonth_1);
                    var weekAngle = week / 7;
                    var monthAngle = month / daysOfThisMonth_1;
                    var yearAngle = year / 12;
                    [28, 29, 30, 31].forEach(function (days) {
                        ui_4.UI.AnalogClock.monthPanel.classList.toggle("days".concat(days), daysOfThisMonth_1 === days);
                    });
                    library_1.Library.UI.setStyle(ui_4.UI.AnalogClock.weekNiddle, "--progress", "".concat(weekAngle));
                    library_1.Library.UI.setStyle(ui_4.UI.AnalogClock.monthNiddle, "--progress", "".concat(monthAngle));
                    library_1.Library.UI.setStyle(ui_4.UI.AnalogClock.yearNiddle, "--progress", "".concat(yearAngle));
                }
                library_1.Library.UI.setStyle(ui_4.UI.AnalogClock.milliSecondsNiddle, "--progress", "".concat(milliSecondsAngle));
                library_1.Library.UI.setStyle(ui_4.UI.AnalogClock.secondsNiddle, "--progress", "".concat(secondsAngle));
                library_1.Library.UI.setStyle(ui_4.UI.AnalogClock.minutesNiddle, "--progress", "".concat(minutesAngle));
                library_1.Library.UI.setStyle(ui_4.UI.AnalogClock.hoursNiddle, "--progress", "".concat(hoursAngle));
                library_1.Library.UI.setAttribute(ui_4.UI.AnalogClock.panel, "datatime", date.toISOString());
            }
            else {
                library_1.Library.UI.setAttribute(ui_4.UI.AnalogClock.panel, "datatime", undefined);
            }
        };
        Overlay.makeDate = function (date, locale) {
            return date.toLocaleDateString(locale, config_json_4.default.clock.dateFormat);
        };
        Overlay.makeTime = function (date, locale) {
            return date.toLocaleTimeString(locale, config_json_4.default.clock.timeFormat);
        };
        Overlay.updateLayout = function (date) {
            if (ui_4.UI.overlay.classList.contains("rotate")) {
                var direction_1 = ((date.getHours() % 12) / 3) | 0;
                [
                    "top-right",
                    "bottom-right",
                    "bottom-left",
                    "top-left",
                ]
                    .forEach(function (i, ix) { return ui_4.UI.overlay.classList.toggle(i, direction_1 === ix); });
            }
        };
        Overlay.updateWeather = function () {
            var _a, _b, _c;
            if (ui_4.UI.SettingsPanel.withWeatherCheckbox.get()) {
                var weather = weather_1.Weather.get();
                if (((_a = ui_4.UI.weather.attributes.getNamedItem("data-weather")) === null || _a === void 0 ? void 0 : _a.value) !== weather) {
                    var attribute = document.createAttribute("data-weather");
                    attribute.value = weather;
                    ui_4.UI.weather.attributes.setNamedItem(attribute);
                    var firstLetter = (_c = (_b = weather.match(/\S+/)) === null || _b === void 0 ? void 0 : _b[0]) !== null && _c !== void 0 ? _c : "";
                    var tail = weather.slice(firstLetter.length).trim();
                    library_1.Library.UI.replaceChildren(ui_4.UI.weather, [
                        {
                            tag: "span",
                            className: "first-letter",
                            text: firstLetter,
                        },
                        {
                            tag: "span",
                            className: "tail",
                            text: tail,
                        }
                    ]);
                }
            }
            else {
                library_1.Library.UI.setTextContent(ui_4.UI.weather, "");
            }
        };
        Overlay.updateTime = function (date) {
            if (ui_4.UI.SettingsPanel.withClockCheckbox.get()) {
                library_1.Library.UI.setTextContent(ui_4.UI.time, Overlay.title !== null && Overlay.title !== void 0 ? Overlay.title : Overlay.makeTime(date, Overlay.locale));
                library_1.Library.UI.setAttribute(ui_4.UI.time, "datatime", Overlay.makeTime(date, "ja-JP"));
            }
            else {
                library_1.Library.UI.setTextContent(ui_4.UI.time, "");
                library_1.Library.UI.setAttribute(ui_4.UI.time, "datatime", undefined);
            }
        };
        Overlay.updateDate = function (date) {
            if (ui_4.UI.SettingsPanel.withDateCheckbox.get()) {
                library_1.Library.UI.setTextContent(ui_4.UI.date, Overlay.subtitle !== null && Overlay.subtitle !== void 0 ? Overlay.subtitle : Overlay.makeDate(date, Overlay.locale));
                library_1.Library.UI.setAttribute(ui_4.UI.date, "datatime", date.toISOString().slice(0, 10));
            }
            else {
                library_1.Library.UI.setTextContent(ui_4.UI.date, "");
                library_1.Library.UI.setAttribute(ui_4.UI.date, "datatime", undefined);
            }
        };
        Overlay.updateCalendar = function (date) {
            var _a;
            var dateDate = ui_4.UI.SettingsPanel.withCalenderCheckbox.get() ? Overlay.makeDate(date, Overlay.locale) : "";
            if (((_a = ui_4.UI.calendar.attributes.getNamedItem("data-date")) === null || _a === void 0 ? void 0 : _a.value) !== dateDate) {
                var attribute = document.createAttribute("data-date");
                attribute.value = dateDate;
                ui_4.UI.calendar.attributes.setNamedItem(attribute);
                if ("" === dateDate) {
                    library_1.Library.UI.removeAllChildren(ui_4.UI.calendar);
                }
                else {
                    var weeks = [];
                    var currentDate = new Date(date);
                    var currentDay = currentDate.getDay();
                    var offset = (currentDay - Overlay.firstDayOfWeek + 7) % 7;
                    var startOfWeek = new Date(currentDate);
                    startOfWeek.setDate(currentDate.getDate() - offset);
                    for (var w = -3; w <= 3; ++w) {
                        var weekDays = [];
                        for (var d = 0; d < 7; ++d) {
                            var day = new Date(startOfWeek);
                            day.setDate(startOfWeek.getDate() + w * 7 + d);
                            weekDays.push({
                                tag: "span",
                                className: "day".concat(currentDate.getMonth() === day.getMonth() && currentDate.getDate() === day.getDate() ? " today" : "").concat(currentDate.getMonth() === day.getMonth() ? " current-month" : ""),
                                text: day.getDate().toString(),
                            });
                        }
                        weeks.push({
                            tag: "div",
                            className: "week",
                            children: weekDays,
                        });
                    }
                    library_1.Library.UI.replaceChildren(ui_4.UI.calendar, weeks);
                }
            }
        };
        Overlay.setColor = function (color) {
            library_1.Library.UI.setStyle(ui_4.UI.calendar, "color", color);
            library_1.Library.UI.setStyle(ui_4.UI.weather, "color", color);
            library_1.Library.UI.setStyle(ui_4.UI.date, "color", color);
            library_1.Library.UI.setStyle(ui_4.UI.time, "color", color);
        };
        Overlay.update = function (now) {
            var overlayOption = ui_4.UI.SettingsPanel.overlayStyleSelect.get();
            if ("hide" !== overlayOption) {
                var date = new Date();
                Overlay.updateAnalogClock(date);
                Overlay.updateLayout(date);
                Overlay.updateWeather();
                Overlay.updateTime(date);
                Overlay.updateDate(date);
                Overlay.updateCalendar(date);
                switch (overlayOption) {
                    case "alternate":
                        var isWhite = (new Date().getTime() / config_json_4.default.clock.alternate.span) % 2 < 1.0;
                        ui_4.UI.overlay.classList.toggle("white", isWhite);
                        ui_4.UI.overlay.classList.toggle("black", !isWhite);
                        Overlay.setColor(undefined);
                        break;
                    case "rainbow":
                        Overlay.setColor("hsl(".concat((now * 360) / (24000 * phi), ", 100%, 50%)"));
                        break;
                    default:
                        Overlay.setColor(undefined);
                        break;
                }
            }
        };
        Overlay.initialize = function (params) {
            var _a;
            Overlay.firstDayOfWeek = ((_a = tools_1.Tools.Number.parseInt(params["first-day-of-week"])) !== null && _a !== void 0 ? _a : config_json_4.default.clock.firstDayOfWeek) % 7;
            Overlay.locale = params["locale"];
            Overlay.title = params["title"];
            Overlay.subtitle = params["subtitle"];
            ui_4.UI.time.classList.toggle("text", undefined !== Overlay.title);
        };
    })(Overlay || (exports.Overlay = Overlay = {}));
});
define("script/features/analyser", ["require", "exports", "resource/config"], function (require, exports, config_json_5) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Analyser = void 0;
    config_json_5 = __importDefault(config_json_5);
    var Analyser;
    (function (Analyser) {
        var _this = this;
        var _a;
        Analyser.audioContext = new (window.AudioContext || window.webkitAudioContext)();
        Analyser.fftSize = (_a = config_json_5.default.analyser.fftSize) !== null && _a !== void 0 ? _a : 1024;
        Analyser.isSupported = function () {
            return Boolean(Analyser.audioContext) &&
                "function" === typeof Analyser.audioContext.createGain &&
                "function" === typeof Analyser.audioContext.createAnalyser;
        };
        Analyser.resume = function () { return __awaiter(_this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!(Analyser.audioContext.state === "suspended")) return [3 /*break*/, 2];
                        return [4 /*yield*/, Analyser.audioContext.resume()];
                    case 1:
                        _a.sent();
                        _a.label = 2;
                    case 2: return [2 /*return*/];
                }
            });
        }); };
        ;
        var Entry = /** @class */ (function () {
            function Entry(mediaElement) {
                this.mediaElement = mediaElement;
                this.splitter = null;
                this.analyserNodes = null;
                this.isValidFrequencyData = { left: false, right: false, mono: false };
                this.isValidTimeDomainData = { left: false, right: false, mono: false };
                this.frequencyDataArray = { left: null, right: null, mono: null, };
                this.timeDomainDataArray = { left: null, right: null, mono: null, };
                // if (mediaElement instanceof HTMLVideoElement)
                // {
                //     this.gainNode = audioContext.createGain();
                //     this.mediaElementAudioSourceNode = audioContext.createMediaElementSource(mediaElement);
                //     this.mediaElementAudioSourceNode.connect(this.gainNode);
                //     this.gainNode.connect(audioContext.destination);
                // }
                // else
                // {
                this.splitter = Analyser.audioContext.createChannelSplitter(2);
                this.analyserNodes =
                    {
                        left: Analyser.audioContext.createAnalyser(),
                        right: Analyser.audioContext.createAnalyser(),
                        mono: Analyser.audioContext.createAnalyser(),
                    };
                this.analyserNodes.left.fftSize = Analyser.fftSize;
                this.analyserNodes.right.fftSize = Analyser.fftSize;
                this.gainNode = Analyser.audioContext.createGain();
                this.mediaElementAudioSourceNode = Analyser.audioContext.createMediaElementSource(mediaElement);
                this.mediaElementAudioSourceNode.connect(this.splitter);
                this.splitter.connect(this.analyserNodes.left, 0);
                this.splitter.connect(this.analyserNodes.right, 1);
                this.mediaElementAudioSourceNode.connect(this.analyserNodes.mono);
                this.mediaElementAudioSourceNode.connect(this.gainNode);
                this.gainNode.connect(Analyser.audioContext.destination);
                //this.analyserNode.connect(audioContext.destination);
                //this.frequencyDataArray = new Uint8Array(this.analyserNode.frequencyBinCount);
                // }
            }
            Entry.prototype.destroy = function () {
                var _a, _b, _c, _d, _e, _f, _g;
                (_b = (_a = this.analyserNodes) === null || _a === void 0 ? void 0 : _a.left) === null || _b === void 0 ? void 0 : _b.disconnect();
                (_d = (_c = this.analyserNodes) === null || _c === void 0 ? void 0 : _c.right) === null || _d === void 0 ? void 0 : _d.disconnect();
                (_e = this.splitter) === null || _e === void 0 ? void 0 : _e.disconnect();
                (_g = (_f = this.analyserNodes) === null || _f === void 0 ? void 0 : _f.mono) === null || _g === void 0 ? void 0 : _g.disconnect();
                this.gainNode.disconnect();
                this.mediaElementAudioSourceNode.disconnect();
            };
            Entry.prototype.step = function () {
                this.isValidFrequencyData = { left: false, right: false, mono: false };
                this.isValidTimeDomainData = { left: false, right: false, mono: false };
            };
            Entry.prototype.getByteFrequencyData = function (channel) {
                if (this.analyserNodes && !this.isValidFrequencyData[channel]) {
                    if (!this.frequencyDataArray[channel]) {
                        this.frequencyDataArray[channel] = new Uint8Array(this.analyserNodes[channel].frequencyBinCount);
                    }
                    this.analyserNodes[channel].getByteFrequencyData(this.frequencyDataArray[channel]);
                    this.isValidFrequencyData[channel] = true;
                }
                return this.frequencyDataArray[channel];
            };
            Entry.prototype.getByteTimeDomainData = function (channel) {
                if (this.analyserNodes && !this.isValidTimeDomainData[channel]) {
                    if (!this.timeDomainDataArray[channel]) {
                        this.timeDomainDataArray[channel] = new Uint8Array(this.analyserNodes[channel].fftSize);
                    }
                    this.analyserNodes[channel].getByteTimeDomainData(this.timeDomainDataArray[channel]);
                    this.isValidTimeDomainData[channel] = true;
                }
                return this.timeDomainDataArray[channel];
            };
            return Entry;
        }());
        Analyser.Entry = Entry;
    })(Analyser || (exports.Analyser = Analyser = {}));
});
define("script/features/media", ["require", "exports", "script/library/index", "script/tools/index", "resource/config"], function (require, exports, _library_3, tools_2, Config) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Media = void 0;
    Config = __importStar(Config);
    var Media;
    (function (Media) {
        var _this = this;
        ;
        Media.mediaList = [];
        Media.getMediaCategory = function (file) {
            if (file && file.type) {
                switch (true) {
                    case file.type.startsWith("image/"):
                        return "image";
                    case file.type.startsWith("audio/"):
                        return "audio";
                    case file.type.startsWith("video/"):
                        return "video";
                    default:
                        console.warn("🚫 Unsupported media type:", file.type);
                        return null;
                }
            }
            else {
                console.warn("🚫 Invalid file or file type:", file);
                return null;
            }
        };
        Media.isMediaFile = function (file) {
            return null !== Media.getMediaCategory(file);
        };
        Media.getUrl = function (file) {
            return URL.createObjectURL(file);
        };
        Media.getName = function (file) {
            return file.name || "Unknown File";
        };
        var canvasImageSourceToDataUrl = function (canvasImageSource, width, height) {
            if (width <= 0 || height <= 0) {
                console.warn("🚫 Invalid dimensions for canvas image source:", { width: width, height: height, canvasImageSource: canvasImageSource });
            }
            else {
                var maxSize = Config.thumbnail.maxSize;
                if (width > maxSize || height > maxSize) {
                    var scale = Math.min(maxSize / width, maxSize / height);
                    width = Math.round(width * scale);
                    height = Math.round(height * scale);
                }
                else {
                    if (canvasImageSource instanceof HTMLImageElement) {
                        return canvasImageSource.src;
                    }
                }
                var canvas = document.createElement("canvas");
                canvas.width = width;
                canvas.height = height;
                var ctx = canvas.getContext("2d");
                if (ctx) {
                    ctx.drawImage(canvasImageSource, 0, 0, width, height);
                    return canvas.toDataURL(Config.thumbnail.type, Config.thumbnail.quality);
                }
            }
            return "SVG:error";
        };
        Media.imageToEntry = function (category, file) {
            return new Promise(function (resolve) { return __awaiter(_this, void 0, void 0, function () {
                var img, url;
                return __generator(this, function (_a) {
                    img = new Image();
                    url = Media.getUrl(file);
                    img.onload = function () { return resolve({
                        url: url,
                        type: file.type,
                        category: category,
                        name: Media.getName(file),
                        thumbnail: canvasImageSourceToDataUrl(img, img.width, img.height),
                        size: file.size,
                        duration: null,
                        area: { width: img.width, height: img.height },
                    }); };
                    img.onerror = function (error) {
                        console.error("🚫 Error loading image metadata:", error);
                        resolve(null);
                    };
                    img.src = url;
                    return [2 /*return*/];
                });
            }); });
        };
        Media.audioToEntry = function (category, file) {
            return new Promise(function (resolve) { return __awaiter(_this, void 0, void 0, function () {
                var url, audio, loadedmetadataCalled, failed, finish;
                return __generator(this, function (_a) {
                    url = Media.getUrl(file);
                    audio = document.createElement("audio");
                    loadedmetadataCalled = false;
                    failed = false;
                    finish = function () { return resolve({
                        url: url,
                        type: file.type,
                        category: category,
                        name: Media.getName(file),
                        thumbnail: "SVG:audio",
                        size: file.size,
                        duration: audio.duration * 1000,
                        area: null,
                    }); };
                    audio.addEventListener("loadedmetadata", function () {
                        loadedmetadataCalled = true;
                        finish();
                    });
                    audio.addEventListener("error", function (error) {
                        console.error("🚫 Error loading audio metadata:", error);
                        failed = true;
                        resolve(null);
                    });
                    audio.src = url;
                    tools_2.Tools.Timer.sleep(1000).then(function () {
                        if (!loadedmetadataCalled && !failed) {
                            console.warn("⏳ Audio metadata not loaded in time, trying to finish anyway.");
                            finish();
                        }
                    });
                    return [2 /*return*/];
                });
            }); });
        };
        Media.videoToEntry = function (category, file) {
            return new Promise(function (resolve) { return __awaiter(_this, void 0, void 0, function () {
                var url, video, finish, loadedmetadataCalled, loadeddataCalled, failed, tryFinish;
                return __generator(this, function (_a) {
                    url = Media.getUrl(file);
                    video = document.createElement("video");
                    video.muted = true;
                    video.playsInline = true;
                    finish = function (skipThumbnail) { return resolve({
                        url: url,
                        type: file.type,
                        category: category,
                        name: Media.getName(file),
                        thumbnail: skipThumbnail ?
                            "SVG:error" :
                            canvasImageSourceToDataUrl(video, video.videoWidth, video.videoHeight),
                        size: file.size,
                        duration: video.duration * 1000,
                        area: { width: video.videoWidth, height: video.videoHeight },
                    }); };
                    loadedmetadataCalled = false;
                    loadeddataCalled = false;
                    failed = false;
                    tryFinish = function () {
                        if (loadedmetadataCalled && loadeddataCalled) {
                            finish();
                        }
                    };
                    video.addEventListener("loadedmetadata", function () {
                        loadedmetadataCalled = true;
                        tryFinish();
                    });
                    video.addEventListener("loadeddata", function () {
                        loadeddataCalled = true;
                        tryFinish();
                    });
                    video.addEventListener("error", function (error) {
                        console.error("🚫 Error loading video metadata:", error);
                        failed = true;
                        resolve(null);
                    });
                    video.src = url;
                    video.currentTime = 0.1;
                    tools_2.Tools.Timer.sleep(1000).then(function () {
                        video.play().finally(function () {
                            video.pause();
                            if ((!loadedmetadataCalled || !loadeddataCalled) && !failed) {
                                console.warn("⏳ Video metadata not loaded in time, trying to finish anyway.");
                                finish("skipThumbnail");
                            }
                        });
                    });
                    return [2 /*return*/];
                });
            }); });
        };
        Media.fileToEntry = function (file) { return __awaiter(_this, void 0, void 0, function () {
            var category, _a;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        category = Media.getMediaCategory(file);
                        _a = category;
                        switch (_a) {
                            case "image": return [3 /*break*/, 1];
                            case "audio": return [3 /*break*/, 3];
                            case "video": return [3 /*break*/, 5];
                        }
                        return [3 /*break*/, 7];
                    case 1: return [4 /*yield*/, Media.imageToEntry(category, file)];
                    case 2: return [2 /*return*/, _b.sent()];
                    case 3: return [4 /*yield*/, Media.audioToEntry(category, file)];
                    case 4: return [2 /*return*/, _b.sent()];
                    case 5: return [4 /*yield*/, Media.videoToEntry(category, file)];
                    case 6: return [2 /*return*/, _b.sent()];
                    case 7:
                        console.warn("🚫 Unsupported media type:", file.type, file);
                        return [2 /*return*/, null];
                }
            });
        }); };
        Media.isPixelatedImage = function (entry) {
            return ["image/png", "image/gif"].includes(entry.type);
        };
        Media.isThumbnailPixelatedImage = function (entry) {
            return Media.isPixelatedImage(entry) && entry.url === entry.thumbnail;
        };
        Media.makeThumbnailElement = function (entry) { return __awaiter(_this, void 0, void 0, function () {
            var svg, img;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!_library_3.Library.Svg.isEmbeddedImage(entry.thumbnail)) return [3 /*break*/, 2];
                        return [4 /*yield*/, _library_3.Library.Svg.getSvg(entry.thumbnail)];
                    case 1:
                        svg = _a.sent();
                        svg.classList.add("thumbnail");
                        svg.setAttribute("alt", entry.name);
                        return [2 /*return*/, svg];
                    case 2:
                        img = {
                            tag: "img",
                            className: "thumbnail" + (Media.isThumbnailPixelatedImage(entry) ? " pixelated" : ""),
                            attributes: {
                                src: entry.thumbnail,
                                alt: entry.name,
                            },
                        };
                        return [2 /*return*/, img];
                }
            });
        }); };
    })(Media || (exports.Media = Media = {}));
});
define("script/features/visualizer", ["require", "exports", "script/library/index", "script/ui", "resource/config"], function (require, exports, _library_4, ui_5, config_json_6) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Visualizer = void 0;
    config_json_6 = __importDefault(config_json_6);
    var circleRadians = 2 * Math.PI;
    var arcConfig = config_json_6.default.visualizer.arc[config_json_6.default.visualizer.arcType];
    var Visualizer;
    (function (Visualizer) {
        var _this = this;
        Visualizer.makePoint = function (x, y) {
            return ({
                x: x,
                y: y,
            });
        };
        Visualizer.makeSize = function (width, height) {
            return ({
                width: width,
                height: height,
            });
        };
        Visualizer.makeRect = function (point, size) {
            var x = point.x, y = point.y;
            var width = size.width, height = size.height;
            return { x: x, y: y, width: width, height: height };
        };
        Visualizer.addPoints = function (a, b) {
            return Visualizer.makePoint(a.x + b.x, a.y + b.y);
        };
        Visualizer.offsetPointX = function (a, x) {
            return Visualizer.makePoint(a.x + x, a.y);
        };
        Visualizer.offsetPointY = function (a, y) {
            return Visualizer.makePoint(a.x, a.y + y);
        };
        Visualizer.scalePoint = function (point, scale) {
            return Visualizer.makePoint(point.x * scale, point.y * scale);
        };
        Visualizer.scaleSize = function (size, scale) {
            return Visualizer.makeSize(size.width * scale, size.height * scale);
        };
        Visualizer.sizeToPoint = function (size) {
            return Visualizer.makePoint(size.width, size.height);
        };
        Visualizer.scaleRect = function (rect, scale) {
            return Visualizer.makeRect(Visualizer.addPoints(rect, Visualizer.sizeToPoint(Visualizer.scaleSize(rect, (1 - scale) / 2))), Visualizer.scaleSize(rect, scale));
        };
        Visualizer.getElementSize = function (element) {
            return Visualizer.makeSize(element.clientWidth, element.clientHeight);
        };
        Visualizer.getElementRect = function (element) {
            return Visualizer.makeRect(Visualizer.makePoint(0, 0), Visualizer.getElementSize(element));
        };
        Visualizer.getCenterPoint = function (rect) { return Visualizer.addPoints(rect, Visualizer.sizeToPoint(Visualizer.scaleSize(rect, 0.5))); };
        Visualizer.angleToPoint = function (angle) { return Visualizer.makePoint(Math.cos(angle), Math.sin(angle)); };
        Visualizer.getPointAtAngle = function (center, angle, radius) { return Visualizer.addPoints(center, Visualizer.scalePoint(Visualizer.angleToPoint(angle), radius)); };
        var CanvasContext2D = /** @class */ (function () {
            function CanvasContext2D(canvas) {
                this.canvas = canvas;
                var context = canvas.getContext("2d");
                if (!context) {
                    throw new Error("Failed to get 2D context");
                }
                this.context = context;
                this.rect = Visualizer.getElementRect(canvas);
            }
            CanvasContext2D.prototype.clear = function (rect) {
                if (rect === void 0) { rect = Visualizer.getElementRect(this.canvas); }
                this.context.clearRect(rect.x, rect.y, rect.width, rect.height);
            };
            CanvasContext2D.prototype.fill = function (fillStyle, rect) {
                if (rect === void 0) { rect = this.rect; }
                this.context.fillStyle = fillStyle;
                this.context.fillRect(rect.x, rect.y, rect.width, rect.height);
            };
            CanvasContext2D.prototype.moveTo = function (point) {
                this.context.moveTo(point.x, point.y);
            };
            CanvasContext2D.prototype.lineTo = function (point) {
                this.context.lineTo(point.x, point.y);
            };
            CanvasContext2D.prototype.beginPath = function (data) {
                if (undefined !== data) {
                    if (undefined !== data.lineWidth) {
                        this.context.lineWidth = data.lineWidth;
                    }
                    if (undefined !== data.strokeStyle) {
                        this.context.strokeStyle = data.strokeStyle;
                    }
                }
                this.context.beginPath();
            };
            CanvasContext2D.prototype.stroke = function () {
                this.context.stroke();
            };
            return CanvasContext2D;
        }());
        Visualizer.CanvasContext2D = CanvasContext2D;
        Visualizer.VisualizerDom = HTMLDivElement;
        Visualizer.isSimpleMode = function () {
            return ui_5.UI.mediaScreen.classList.contains("simple");
        };
        Visualizer.isPlaneFrequencyMode = function () {
            return ui_5.UI.mediaScreen.classList.contains("plane-frequency");
        };
        Visualizer.isPlaneWaveformMode = function () {
            return ui_5.UI.mediaScreen.classList.contains("plane-waveform");
        };
        Visualizer.isArcFrequencyMode = function () {
            return ui_5.UI.mediaScreen.classList.contains("arc-frequency");
        };
        Visualizer.isArcWaveformMode = function () {
            return ui_5.UI.mediaScreen.classList.contains("arc-waveform");
        };
        Visualizer.isDoubleArcMode = function () {
            return ui_5.UI.mediaScreen.classList.contains("double-arc");
        };
        Visualizer.isStereoArcFrequencyMode = function () {
            return ui_5.UI.mediaScreen.classList.contains("stereo-arc-frequency");
        };
        Visualizer.isStereoArcWaveformMode = function () {
            return ui_5.UI.mediaScreen.classList.contains("stereo-arc-waveform");
        };
        Visualizer.isStereoDoubleArcMode = function () {
            return ui_5.UI.mediaScreen.classList.contains("stereo-double-arc");
        };
        Visualizer.make = function (media, index) {
            var visualDom = _library_4.Library.UI.createElement({ tag: "div", className: "visualizer" });
            switch (media.type) {
                case "audio":
                    //visualDom.classList.add("audio");
                    break;
            }
            visualDom.classList.toggle("odd", 0 !== (index % 2));
            return visualDom;
        };
        Visualizer.makeSureIcon = function (cssClass, icon) { return function (visualDom) { return __awaiter(_this, void 0, void 0, function () {
            var baseCssClass, result;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        baseCssClass = "visual-icon";
                        result = visualDom.querySelector(".".concat(baseCssClass, ".").concat(cssClass));
                        if (!!result) return [3 /*break*/, 2];
                        return [4 /*yield*/, _library_4.Library.Svg.loadSvg(icon)];
                    case 1:
                        result = _a.sent();
                        result.classList.add(baseCssClass);
                        result.classList.add(cssClass);
                        visualDom.appendChild(result);
                        _a.label = 2;
                    case 2: return [2 /*return*/, result];
                }
            });
        }); }; };
        Visualizer.makeSureAudioIcon = Visualizer.makeSureIcon("audio-icon", "audio-icon");
        Visualizer.makeSureMuteIcon = Visualizer.makeSureIcon("mute-icon", "error-icon");
        Visualizer.makeSureProgressCircle = function (visualDom) {
            var result = visualDom.querySelector(".visual-progress-circle");
            if (!result) {
                result = _library_4.Library.UI.createElement({ tag: "div", className: "visual-progress-circle" });
                visualDom.appendChild(result);
            }
            return result;
        };
        Visualizer.makeSureTextSpan = function (visualDom) {
            var result = visualDom.querySelector(".visual-text");
            if (!result) {
                result = _library_4.Library.UI.createElement({ tag: "span", className: "visual-text" });
                visualDom.appendChild(result);
            }
            return result;
        };
        Visualizer.getCanvasOrNull = function (visualDom) {
            return visualDom.querySelector(".visual-canvas") || null;
        };
        Visualizer.makeCanvas = function (visualDom) {
            var result = _library_4.Library.UI.createElement({ tag: "canvas", className: "visual-canvas" });
            visualDom.appendChild(result);
            Visualizer.fitCanvas(visualDom, result);
            return result;
        };
        Visualizer.makeSureCanvas = function (visualDom) { var _a; return (_a = Visualizer.getCanvasOrNull(visualDom)) !== null && _a !== void 0 ? _a : Visualizer.makeCanvas(visualDom); };
        Visualizer.fitCanvas = function (visualDom, canvas) {
            var _a = Visualizer.getElementSize(visualDom), width = _a.width, height = _a.height;
            if (canvas.width !== width || canvas.height !== height) {
                canvas.width = width;
                canvas.height = height;
            }
        };
        Visualizer.updateStretch = function (visualDom) {
            var canvas = Visualizer.getCanvasOrNull(visualDom);
            if (canvas) {
                Visualizer.fitCanvas(visualDom, canvas);
            }
        };
        Visualizer.drawPlaneFrequency = function (context, rect, scale, analyser) {
            var _a;
            var frequencyDataArray = (_a = analyser.getByteFrequencyData("mono")) !== null && _a !== void 0 ? _a : null;
            if (context && frequencyDataArray) {
                var maxIndex = frequencyDataArray.length * config_json_6.default.visualizer.frequencyDataLengthRate;
                var zeroLevel = 1;
                if (rect.height <= rect.width) {
                    var barWidth = rect.width / maxIndex;
                    for (var i = 0; i < maxIndex; ++i) {
                        var value = frequencyDataArray[i] / 255.0;
                        var hue = (i / maxIndex) * config_json_6.default.visualizer.maxHue;
                        var barHeight = zeroLevel + (scale * value * (rect.height - zeroLevel));
                        var point = Visualizer.makePoint(i * barWidth, (rect.height - barHeight) / 2);
                        context.fill("hsl(".concat(hue, ", 100%, 50%)"), Visualizer.makeRect(Visualizer.addPoints(rect, point), Visualizer.makeSize(barWidth, barHeight)));
                    }
                }
                else {
                    var barHeight = rect.height / maxIndex;
                    for (var i = 0; i < maxIndex; ++i) {
                        var value = frequencyDataArray[i] / 255.0;
                        var hue = (i / maxIndex) * config_json_6.default.visualizer.maxHue;
                        var barWidth = zeroLevel + (scale * value * (rect.width - zeroLevel));
                        var point = Visualizer.makePoint((rect.width - barWidth) / 2, rect.height - ((i + 1) * barHeight));
                        context.fill("hsl(".concat(hue, ", 100%, 50%)"), Visualizer.makeRect(Visualizer.addPoints(rect, point), Visualizer.makeSize(barWidth, barHeight)));
                    }
                }
            }
        };
        Visualizer.drawPlaneWaveform = function (context, rect, scale, analyser) {
            var _a;
            var timeDomainDataArray = (_a = analyser.getByteTimeDomainData("mono")) !== null && _a !== void 0 ? _a : null;
            if (context && timeDomainDataArray) {
                var maxIndex = timeDomainDataArray.length;
                context.beginPath(config_json_6.default.visualizer.waveform);
                if (rect.height <= rect.width) {
                    var sliceWidth = rect.width / maxIndex;
                    context.moveTo(Visualizer.offsetPointY(rect, rect.height / 2));
                    for (var i = 0; i < maxIndex; ++i) {
                        var value = timeDomainDataArray[i] / 255.0;
                        var x = rect.width - i * sliceWidth;
                        var y = scale * value * rect.height;
                        context.lineTo(Visualizer.addPoints(rect, { x: x, y: y }));
                    }
                    context.lineTo(Visualizer.addPoints(rect, Visualizer.makePoint(0, rect.height / 2)));
                }
                else {
                    var sliceHeight = rect.height / maxIndex;
                    context.moveTo(Visualizer.offsetPointX(rect, rect.width / 2));
                    for (var i = 0; i < maxIndex; ++i) {
                        var value = timeDomainDataArray[i] / 255.0;
                        var x = scale * value * rect.width;
                        var y = rect.height - i * sliceHeight;
                        context.lineTo(Visualizer.addPoints(rect, { x: x, y: y }));
                    }
                    context.lineTo(Visualizer.addPoints(rect, Visualizer.makePoint(rect.width / 2, 0)));
                }
                context.stroke();
            }
        };
        Visualizer.getStartAngle = function (channel) {
            switch (channel) {
                case "left":
                    return circleRadians * (arcConfig.startAngleRate + ((1 - arcConfig.angleRate) / 4));
                case "right":
                    return circleRadians * (arcConfig.startAngleRate - ((1 - arcConfig.angleRate) / 4));
                case "mono":
                default:
                    return circleRadians * (arcConfig.startAngleRate + ((1 - arcConfig.angleRate) / 2));
            }
        };
        Visualizer.getAngle = function (channel, rate) {
            var base = circleRadians * arcConfig.angleRate * rate;
            switch (channel) {
                case "left":
                    return base * 0.5;
                case "right":
                    return base * -0.5;
                case "mono":
                default:
                    return base;
            }
        };
        Visualizer.drawArcFrequency = function (context, channel, rect, scale, analyser) {
            var _a;
            var frequencyDataArray = (_a = analyser.getByteFrequencyData(channel)) !== null && _a !== void 0 ? _a : null;
            if (context && frequencyDataArray) {
                var startAngle = Visualizer.getStartAngle(channel);
                var radius = (rect.width + rect.height) * arcConfig.radiusRate;
                var center = Visualizer.getCenterPoint(rect);
                var maxIndex = frequencyDataArray.length * config_json_6.default.visualizer.frequencyDataLengthRate;
                var lineWidth = (circleRadians * radius) / maxIndex * 0.8;
                var zeroLevel = 1;
                for (var i = 0; i < maxIndex; i++) {
                    var hue = (i / maxIndex) * config_json_6.default.visualizer.maxHue;
                    var angle = startAngle + Visualizer.getAngle(channel, i / maxIndex);
                    var value = frequencyDataArray[i] / 255.0;
                    var barLength = scale * radius * value + zeroLevel;
                    var strokeStyle = "hsl(".concat(hue, ", 100%, 50%)");
                    context.beginPath({ lineWidth: lineWidth, strokeStyle: strokeStyle, });
                    context.moveTo(Visualizer.getPointAtAngle(center, angle, radius - (barLength / 2)));
                    context.lineTo(Visualizer.getPointAtAngle(center, angle, radius + (barLength / 2)));
                    context.stroke();
                }
            }
        };
        Visualizer.drawArcWaveform = function (context, channel, rect, scale, analyser) {
            var _a;
            var timeDomainDataArray = (_a = analyser.getByteTimeDomainData(channel)) !== null && _a !== void 0 ? _a : null;
            if (context && timeDomainDataArray) {
                var startAngle = Visualizer.getStartAngle(channel);
                var radius = (rect.width + rect.height) * arcConfig.radiusRate;
                var center = Visualizer.getCenterPoint(rect);
                var maxIndex = timeDomainDataArray.length;
                context.beginPath(config_json_6.default.visualizer.waveform);
                context.moveTo(Visualizer.getPointAtAngle(center, startAngle + Visualizer.getAngle(channel, 1.0), radius));
                for (var i = 0; i < maxIndex; i++) {
                    var value = timeDomainDataArray[i] / 255.0;
                    var barLength = scale * (radius * (value - 0.5)) * 2.0;
                    var angle = startAngle + Visualizer.getAngle(channel, 1.0 - (i / maxIndex));
                    context.lineTo(Visualizer.getPointAtAngle(center, angle, radius + barLength));
                }
                context.lineTo(Visualizer.getPointAtAngle(center, startAngle, radius));
                context.stroke();
            }
        };
        Visualizer.step = function (_media, playerDom, visualDom, analyser) {
            var _a;
            if (playerDom instanceof HTMLAudioElement) {
                Visualizer.makeSureAudioIcon(visualDom).catch(console.error);
                if (playerDom.muted) {
                    Visualizer.makeSureMuteIcon(visualDom).catch(console.error);
                }
            }
            if (Visualizer.isSimpleMode()) {
                var frequencyDataArray = (_a = analyser === null || analyser === void 0 ? void 0 : analyser.getByteFrequencyData("mono")) !== null && _a !== void 0 ? _a : null;
                Visualizer.makeSureProgressCircle(visualDom).style.setProperty("--progress", "".concat(playerDom.currentTime / playerDom.duration));
                Visualizer.makeSureProgressCircle(visualDom).style.setProperty("--volume", "".concat(Visualizer.getVolume(frequencyDataArray)));
            }
            else {
                var canvas = Visualizer.makeSureCanvas(visualDom);
                var context = new CanvasContext2D(canvas);
                if (context && analyser) {
                    context.clear();
                    var rect = Visualizer.getElementRect(visualDom);
                    if (Visualizer.isPlaneFrequencyMode()) {
                        Visualizer.drawPlaneFrequency(context, rect, 1.0, analyser);
                    }
                    if (Visualizer.isPlaneWaveformMode()) {
                        Visualizer.drawPlaneWaveform(context, rect, 1.0, analyser);
                    }
                    if (Visualizer.isArcFrequencyMode()) {
                        Visualizer.drawArcFrequency(context, "mono", rect, 1.0, analyser);
                    }
                    if (Visualizer.isArcWaveformMode()) {
                        Visualizer.drawArcWaveform(context, "mono", rect, 1.0, analyser);
                    }
                    if (Visualizer.isDoubleArcMode()) {
                        Visualizer.drawArcFrequency(context, "mono", Visualizer.scaleRect(rect, 1.2), 0.6, analyser);
                        Visualizer.drawArcWaveform(context, "mono", Visualizer.scaleRect(rect, 0.8), 0.7, analyser);
                    }
                    if (Visualizer.isStereoArcFrequencyMode()) {
                        Visualizer.drawArcFrequency(context, "left", rect, 1.0, analyser);
                        Visualizer.drawArcFrequency(context, "right", rect, 1.0, analyser);
                    }
                    if (Visualizer.isStereoArcWaveformMode()) {
                        Visualizer.drawArcWaveform(context, "left", rect, 1.0, analyser);
                        Visualizer.drawArcWaveform(context, "right", rect, 1.0, analyser);
                    }
                    if (Visualizer.isStereoDoubleArcMode()) {
                        Visualizer.drawArcFrequency(context, "left", Visualizer.scaleRect(rect, 1.2), 0.6, analyser);
                        Visualizer.drawArcWaveform(context, "left", Visualizer.scaleRect(rect, 0.8), 0.7, analyser);
                        Visualizer.drawArcFrequency(context, "right", Visualizer.scaleRect(rect, 1.2), 0.6, analyser);
                        Visualizer.drawArcWaveform(context, "right", Visualizer.scaleRect(rect, 0.8), 0.7, analyser);
                    }
                }
            }
        };
        Visualizer.isValidFrequencyDataArray = function (frequencyDataArray) { var _a; return 0 < ((_a = frequencyDataArray === null || frequencyDataArray === void 0 ? void 0 : frequencyDataArray.length) !== null && _a !== void 0 ? _a : 0); };
        Visualizer.getVolume = function (frequencyDataArray) {
            return Visualizer.isValidFrequencyDataArray(frequencyDataArray) ?
                Math.sqrt(Visualizer.getRawVolume(frequencyDataArray)) :
                0.5;
        };
        Visualizer.getRawVolume = function (frequencyDataArray) {
            return (Math.hypot.apply(Math, Array.from(frequencyDataArray)) / Math.sqrt(frequencyDataArray.length)) / 255.0;
        };
    })(Visualizer || (exports.Visualizer = Visualizer = {}));
});
define("script/features/elementpool", ["require", "exports", "script/library/index", "script/ui", "script/features/analyser"], function (require, exports, _library_5, ui_6, analyser_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.ElementPool = void 0;
    var ElementPool;
    (function (ElementPool) {
        var _this = this;
        var analyserPool = new Map();
        ElementPool.makeSure = function (data) {
            var result = Promise.resolve();
            if (data.image) {
                while (ui_6.UI.elementPool.getElementsByTagName("img").length < 4) {
                    var imgElement = _library_5.Library.UI.createElement({
                        tag: "img",
                        className: "player",
                        attributes: {
                            src: data.image.url,
                            alt: data.image.name,
                        },
                    });
                    ui_6.UI.elementPool.appendChild(imgElement);
                }
            }
            if (data.audio) {
                var url_2 = data.audio.url;
                var count = ui_6.UI.elementPool.getElementsByTagName("audio").length;
                while (count++ < 2) {
                    result = result.then(function () {
                        var audioElement = _library_5.Library.UI.createElement({
                            tag: "audio",
                            className: "player",
                            attributes: {
                                src: url_2,
                                //controls: false,
                                autoplay: false,
                            },
                        });
                        ui_6.UI.elementPool.appendChild(audioElement);
                        audioElement.volume = 0;
                        audioElement.muted = false;
                        return audioElement.play().then(function () { audioElement.pause(); audioElement.currentTime = 0; });
                    });
                }
            }
            if (data.video) {
                var url_3 = data.video.url;
                var count = ui_6.UI.elementPool.getElementsByTagName("video").length;
                while (count++ < 4) {
                    result = result.then(function () {
                        var videoElement = _library_5.Library.UI.createElement({
                            tag: "video",
                            className: "player",
                            attributes: {
                                src: url_3,
                                //controls: false,
                                autoplay: false,
                                playsinline: true,
                                webkitPlaysinline: true,
                            },
                        });
                        ui_6.UI.elementPool.appendChild(videoElement);
                        videoElement.volume = 0;
                        videoElement.muted = false;
                        return videoElement.play().then(function () { videoElement.pause(); videoElement.currentTime = 0; });
                    });
                }
            }
            return result.then(function () { return undefined; });
        };
        ElementPool.makeSureAnalyser = function (element) { return __awaiter(_this, void 0, void 0, function () {
            var result;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        if (!analyser_1.Analyser.isSupported()) return [3 /*break*/, 2];
                        return [4 /*yield*/, analyser_1.Analyser.resume()];
                    case 1:
                        _a.sent();
                        result = analyserPool.get(element);
                        if (!result) {
                            result = new analyser_1.Analyser.Entry(element);
                            analyserPool.set(element, result);
                        }
                        return [2 /*return*/, result];
                    case 2: return [2 /*return*/, null];
                }
            });
        }); };
        ElementPool.get = function (media) {
            switch (media.category) {
                case "image":
                    var imgElement = ui_6.UI.elementPool.getElementsByTagName("img")[0];
                    if (imgElement) {
                        imgElement.src = media.url;
                        imgElement.alt = media.name;
                        return imgElement;
                    }
                    break;
                case "audio":
                    var audioElement = ui_6.UI.elementPool.getElementsByTagName("audio")[0];
                    if (audioElement) {
                        audioElement.src = media.url;
                        audioElement.controls = false;
                        audioElement.autoplay = false;
                        audioElement.currentTime = 0;
                        audioElement.volume = 0;
                        audioElement.muted = false;
                        return audioElement;
                    }
                    break;
                case "video":
                    var videoElement = ui_6.UI.elementPool.getElementsByTagName("video")[0];
                    if (videoElement) {
                        videoElement.src = media.url;
                        videoElement.autoplay = false;
                        videoElement.currentTime = 0;
                        videoElement.volume = 0;
                        videoElement.muted = false;
                        return videoElement;
                    }
                    break;
                default:
                    console.error("🦋 Unknown media type:", media.type, media);
                    return null;
            }
            console.error("🦋 No element found in the pool for media:", media);
            return null;
        };
        ElementPool.release = function (element) {
            if (element) {
                element.className = "player";
                ui_6.UI.elementPool.appendChild(element);
            }
        };
    })(ElementPool || (exports.ElementPool = ElementPool = {}));
});
define("script/features/history", ["require", "exports", "script/features/media", "script/tools/index", "script/ui", "resource/config"], function (require, exports, media_1, _tools_4, ui_7, Config) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.History = void 0;
    Config = __importStar(Config);
    var History;
    (function (History) {
        var history = [];
        var baseIndex = 0;
        var currentIndex = -1;
        History.clear = function () {
            navigator.mediaSession.setPositionState();
            history = [];
            baseIndex = 0;
            currentIndex = -1;
        };
        History.isCleared = function () {
            return 0 === history.length && -1 === currentIndex;
        };
        History.regulate = function () {
            var maxHistoryLength = Math.max(Config.history.maxLength, media_1.Media.mediaList.length);
            if (maxHistoryLength < history.length) {
                var oldLength = history.length;
                history = history.slice(-maxHistoryLength);
                var diff = oldLength - history.length;
                baseIndex += diff;
                currentIndex -= diff;
            }
        };
        History.getCurrentIndex = function () {
            return baseIndex + currentIndex;
        };
        History.getMedia = function () {
            var mediaIndex = history[currentIndex];
            var media = media_1.Media.mediaList[mediaIndex];
            if (media) {
                return media;
            }
            else {
                console.error("🦋 Broken media list", { currentIndex: currentIndex, mediaIndex: mediaIndex, playlist: history, mediaList: media_1.Media.mediaList, });
                return undefined;
            }
        };
        History.play = function (media) {
            if (0 <= media_1.Media.mediaList.length) {
                if (media) {
                    History.clear();
                    var index = media_1.Media.mediaList.indexOf(media);
                    if (ui_7.UI.ControlPanel.shuffle.get()) {
                        history.push(index);
                        currentIndex = 0;
                    }
                    else {
                        for (var i = 0; i <= index; ++i) {
                            history.push(i);
                        }
                        currentIndex = index;
                    }
                    return media;
                }
                else if (0 <= currentIndex && currentIndex < history.length) {
                    return History.getMedia();
                }
                else {
                    return History.next();
                }
            }
            return undefined;
        };
        History.next = function () {
            if (History.isAtEnd()) {
                History.clear();
                return undefined;
            }
            else {
                ++currentIndex;
                if (history.length <= currentIndex) {
                    currentIndex = history.length;
                    if (ui_7.UI.ControlPanel.shuffle.get()) {
                        history.push(History.getShuffleNext());
                    }
                    else {
                        history.push(History.getStraightNext(currentIndex));
                    }
                    History.regulate();
                }
                return History.getMedia();
            }
        };
        History.isAtEnd = function () {
            if (0 <= media_1.Media.mediaList.length) {
                var nextIndex = currentIndex + 1;
                if (nextIndex < media_1.Media.mediaList.length ||
                    0 < History.getStraightNext(nextIndex) ||
                    ui_7.UI.ControlPanel.repeat.get()) {
                    return false;
                }
            }
            return true;
        };
        History.back = function () {
            if (0 <= media_1.Media.mediaList.length) {
                if (0 < currentIndex) {
                    --currentIndex;
                    return History.getMedia();
                }
            }
            return undefined;
        };
        History.getStraightNext = function (index) {
            var _a;
            var backMediaIndex = (_a = history[index - 1]) !== null && _a !== void 0 ? _a : -1;
            var currentMediaIndex = backMediaIndex + 1;
            return currentMediaIndex % media_1.Media.mediaList.length;
        };
        History.getShuffleNext = function () {
            switch (media_1.Media.mediaList.length) {
                case 0:
                    return -1;
                case 1:
                    return 0;
                case 2:
                    return history.length < 2 ?
                        _tools_4.Tools.Random.makeInteger(media_1.Media.mediaList.length) :
                        (0 === history[_tools_4.Tools.Random.makeInteger(history.length)] ? 1 : 0);
                default:
                    var playedList_1 = history.slice(Math.floor(currentIndex / media_1.Media.mediaList.length) * media_1.Media.mediaList.length);
                    var unplayedList = media_1.Media.mediaList.map(function (_, i) { return i; }).filter(function (i) { return !playedList_1.includes(i); });
                    var forbidens_1 = _tools_4.Tools.Array.backSlice(history, Math.ceil(media_1.Media.mediaList.length * Config.history.shuffleForbiddenRate));
                    var canonicals = unplayedList.filter(function (i) { return !forbidens_1.includes(i); });
                    return canonicals[_tools_4.Tools.Random.makeInteger(canonicals.length)];
            }
        };
    })(History || (exports.History = History = {}));
});
define("script/features/track", ["require", "exports", "script/tools/index", "script/library/index", "script/ui", "script/features/elementpool", "script/features/analyser", "script/features/visualizer", "resource/config"], function (require, exports, _tools_5, _library_6, ui_8, elementpool_1, analyser_2, visualizer_1, config_json_7) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Track = exports.hasValidGainNode = void 0;
    config_json_7 = __importDefault(config_json_7);
    var hasValidGainNode = function (track) {
        return track.analyser instanceof analyser_2.Analyser.Entry && track.analyser.gainNode instanceof GainNode;
    };
    exports.hasValidGainNode = hasValidGainNode;
    var Track = /** @class */ (function () {
        function Track(media, index) {
            var _this = this;
            this.paddingElement = null;
            this.startTime = null;
            this.elapsedTime = null;
            this.fadeRate = 0.0;
            this.currentTimeForValidation = 0.0;
            this.analyser = null;
            this.media = media;
            this.index = index;
            switch (media.category) {
                case "image":
                    this.playerElement = this.makePlayerElement();
                    this.visualElement = _library_6.Library.UI.createElement({
                        tag: "div",
                        className: "track-frame",
                        children: [this.playerElement,]
                    });
                    break;
                case "audio":
                    this.playerElement = this.makePlayerElement();
                    this.visualElement = visualizer_1.Visualizer.make(media, index);
                    this.visualElement.appendChild(this.playerElement);
                    if (analyser_2.Analyser.isSupported()) {
                        elementpool_1.ElementPool.makeSureAnalyser(this.playerElement)
                            .then(function (analyser) { return _this.setAnalyser(analyser); })
                            .catch(console.error);
                    }
                    break;
                case "video":
                    this.playerElement = this.makePlayerElement();
                    this.visualElement = _library_6.Library.UI.createElement({
                        tag: "div",
                        className: "track-frame",
                        children: [this.playerElement,]
                    });
                    if (analyser_2.Analyser.isSupported()) {
                        elementpool_1.ElementPool.makeSureAnalyser(this.playerElement)
                            .then(function (analyser) { return _this.setAnalyser(analyser); })
                            .catch(console.error);
                    }
                    break;
                default:
                    console.error("🦋 Unknown media type:", media.type, media);
                    this.playerElement = null;
                    this.visualElement = null;
                    break;
            }
            if (this.playerElement instanceof HTMLMediaElement) {
                if (this.isLoop()) {
                    this.playerElement.loop = true;
                }
                else {
                    this.playerElement.removeAttribute("loop");
                }
            }
            // this.visualElement?.addEventListener
            // (
            //     "click",
            //     () => document.body.classList.toggle("mousemove")
            // );
        }
        Track.prototype.setAnalyser = function (analyser) {
            this.analyser = analyser;
            if (this.analyser instanceof analyser_2.Analyser.Entry && this.analyser.gainNode instanceof GainNode && this.playerElement instanceof HTMLMediaElement) {
                this.analyser.gainNode.gain.value = this.playerElement.volume;
                this.playerElement.volume = 1.0;
            }
        };
        Track.prototype.selfValidate = function () {
            if (this.playerElement instanceof HTMLMediaElement) {
                if (this.currentTimeForValidation + (60 * 60) < this.playerElement.currentTime && this.playerElement.paused) {
                    var actualDuration = this.currentTimeForValidation * 1000;
                    if (null === this.media.duration || (actualDuration + (60 * 60 * 1000)) < this.media.duration) {
                        this.media.duration = actualDuration;
                        console.log("🦋 Updated media duration:", this.media.name, this.media.duration);
                        if (this.isLoop()) {
                            this.playerElement.loop = true;
                            this.playerElement.play();
                        }
                        return true;
                    }
                }
                else {
                    this.currentTimeForValidation = this.playerElement.currentTime;
                }
            }
            return false;
        };
        Track.prototype.makePlayerElement = function () {
            return elementpool_1.ElementPool.get(this.media);
        };
        Track.prototype.isPlaying = function () {
            return null !== this.startTime;
        };
        Track.prototype.play = function () {
            return __awaiter(this, void 0, void 0, function () {
                var _a;
                return __generator(this, function (_b) {
                    switch (_b.label) {
                        case 0:
                            this.startTime = Date.now() - ((_a = this.elapsedTime) !== null && _a !== void 0 ? _a : 0);
                            if (!(this.playerElement instanceof HTMLMediaElement)) return [3 /*break*/, 4];
                            return [4 /*yield*/, this.playerElement.play()];
                        case 1:
                            _b.sent();
                            this.currentTimeForValidation = this.playerElement.currentTime;
                            if (!(this.paddingElement instanceof HTMLMediaElement)) return [3 /*break*/, 3];
                            return [4 /*yield*/, this.paddingElement.play()];
                        case 2:
                            _b.sent();
                            this.paddingElement.currentTime = this.playerElement.currentTime;
                            _b.label = 3;
                        case 3:
                            if (!this.isLoop()) {
                                this.startTime = Date.now() - (this.playerElement.currentTime * 1000);
                            }
                            _b.label = 4;
                        case 4:
                            this.elapsedTime = null;
                            return [2 /*return*/];
                    }
                });
            });
        };
        Track.prototype.pause = function () {
            if (this.playerElement instanceof HTMLMediaElement) {
                this.playerElement.pause();
                if (this.paddingElement instanceof HTMLMediaElement) {
                    this.paddingElement.pause();
                }
            }
            if (null !== this.startTime) {
                this.elapsedTime = Date.now() - this.startTime;
                this.startTime = null;
            }
        };
        Track.prototype.seek = function (seekPosition) {
            seekPosition = Math.max(0, Math.min(seekPosition, this.getDuration()));
            if (this.playerElement instanceof HTMLMediaElement) {
                var singleSeekPosition = this.isLoop() ?
                    seekPosition % this.getSingleDuration() :
                    seekPosition;
                this.playerElement.currentTime = singleSeekPosition / 1000;
                if (this.paddingElement instanceof HTMLMediaElement) {
                    this.paddingElement.currentTime = singleSeekPosition / 1000;
                }
            }
            if (null !== this.startTime) {
                this.startTime = Date.now() - seekPosition;
            }
            if (null !== this.elapsedTime) {
                this.elapsedTime = seekPosition;
            }
        };
        Track.prototype.getSeek = function () {
            var _a;
            if (this.playerElement instanceof HTMLMediaElement && !this.isLoop()) {
                return this.playerElement.currentTime * 1000;
            }
            else {
                return (_a = this.elapsedTime) !== null && _a !== void 0 ? _a : this.getElapsedTime();
            }
        };
        Track.prototype.diffSeek = function (seekDiff) {
            this.seek(this.getSeek() + seekDiff);
        };
        Track.prototype.rateSeek = function (rate) {
            this.seek(this.getDuration() * rate);
        };
        Track.prototype.fastForward = function () {
            this.diffSeek(config_json_7.default.player.fastFowardSpan);
        };
        Track.prototype.rewind = function () {
            this.diffSeek(-config_json_7.default.player.rewindSpan);
        };
        Track.prototype.setPositionState = function () {
            navigator.mediaSession.setPositionState({
                duration: this.getDuration(),
                playbackRate: this.playerElement instanceof HTMLMediaElement ? this.playerElement.playbackRate : 1.0,
                position: this.getElapsedTime() / 1000,
            });
        };
        Track.prototype.step = function (truckType) {
            var _a;
            (_a = this.analyser) === null || _a === void 0 ? void 0 : _a.step();
            if (this.playerElement instanceof HTMLAudioElement && this.visualElement instanceof visualizer_1.Visualizer.VisualizerDom) {
                visualizer_1.Visualizer.step(this.media, this.playerElement, this.visualElement, this.analyser);
            }
            if ("current" === truckType) {
                if (this.playerElement instanceof HTMLVideoElement && ui_8.UI.SettingsPanel.withVisualizerCheckbox.get()) {
                    ui_8.UI.visualizer.classList.toggle("on", true);
                    ui_8.UI.visualizer.classList.toggle("odd", 0 !== (this.index % 2));
                    visualizer_1.Visualizer.step(this.media, this.playerElement, ui_8.UI.visualizer, this.analyser);
                }
                else {
                    ui_8.UI.visualizer.classList.toggle("on", false);
                }
            }
            if (this.playerElement instanceof HTMLMediaElement && !this.isLoop()) {
                ui_8.UI.seekRange.valueAsNumber = (this.playerElement.currentTime * 1000) / this.getDuration();
            }
            else {
                ui_8.UI.seekRange.valueAsNumber = this.getElapsedTime() / this.getDuration();
            }
        };
        Track.prototype.isLoop = function () {
            var loopShortMedia = ui_8.UI.SettingsPanel.loopShortMediaCheckbox.get();
            var imageSpan = this.getImageDuration();
            return loopShortMedia && null !== this.media.duration && this.media.duration <= imageSpan;
        };
        Track.prototype.getImageDuration = function () {
            return parseFloat(ui_8.UI.SettingsPanel.imageSpanSelect.get());
        };
        Track.prototype.getDuration = function () {
            if (this.isLoop()) {
                return this.getImageDuration();
            }
            else {
                return this.getSingleDuration();
            }
        };
        Track.prototype.getSingleDuration = function () {
            var _a;
            return (_a = this.media.duration) !== null && _a !== void 0 ? _a : this.getImageDuration();
        };
        Track.prototype.getEndTime = function () {
            if (null !== this.startTime) {
                return this.startTime + this.getDuration();
            }
            else {
                return 0;
            }
        };
        Track.prototype.getElapsedTime = function () {
            var _a;
            if (null !== this.startTime) {
                return Date.now() - this.startTime;
            }
            else {
                return (_a = this.elapsedTime) !== null && _a !== void 0 ? _a : 0;
            }
        };
        Track.prototype.getRemainingTime = function () {
            if (null === this.startTime) {
                return this.getDuration();
            }
            else {
                return this.getEndTime() - Date.now();
            }
        };
        Track.prototype.appleyStretch = function (dom, StretchRate) {
            if (this.media.area) {
                var widthScale = window.innerWidth / this.media.area.width;
                var heightScale = window.innerHeight / this.media.area.height;
                var minScale = Math.min(widthScale, heightScale);
                var maxScale = Math.max(widthScale, heightScale);
                var maxStreach = maxScale / minScale; // 1以上
                var ratio = 1 / Math.max(1 / maxStreach, 1 - StretchRate);
                var scale = ratio * minScale;
                var scaledWidth = this.media.area.width * scale;
                var scaledHeight = this.media.area.height * scale;
                _library_6.Library.UI.setStyle(dom, "width", "".concat(scaledWidth, "px"));
                _library_6.Library.UI.setStyle(dom, "height", "".concat(scaledHeight, "px"));
                if (maxStreach <= ratio) {
                    return true;
                }
            }
            return false;
        };
        Track.prototype.updateStretch = function (truckType) {
            var _this = this;
            if (this.visualElement) {
                if (this.media.area) {
                    var StretchRate = ui_8.UI.SettingsPanel.stretchRange.get() / 100;
                    var isFit = this.appleyStretch(this.playerElement, StretchRate);
                    if (ui_8.UI.SettingsPanel.paddingCheckbox.get()) {
                        if (!isFit) {
                            if (null === this.paddingElement) {
                                this.paddingElement = this.makePlayerElement();
                                this.paddingElement.classList.add("padding");
                                if (this.paddingElement instanceof HTMLMediaElement) {
                                    var playerDom = this.playerElement;
                                    this.paddingElement.volume = 0;
                                    this.paddingElement.muted = true;
                                    this.paddingElement.loop = playerDom.loop;
                                    this.paddingElement.currentTime = playerDom.currentTime;
                                    if (this.playerElement instanceof HTMLMediaElement && !this.playerElement.paused) {
                                        this.paddingElement.play().then(function () {
                                            if (_this.paddingElement instanceof HTMLVideoElement && _this.playerElement instanceof HTMLVideoElement) {
                                                _this.paddingElement.currentTime = _this.playerElement.currentTime;
                                            }
                                        });
                                    }
                                }
                                this.visualElement.insertBefore(this.paddingElement, this.playerElement);
                            }
                            this.appleyStretch(this.paddingElement, 1.0);
                        }
                    }
                    else {
                        if (null !== this.paddingElement) {
                            if (this.paddingElement instanceof HTMLMediaElement) {
                                this.paddingElement.pause();
                            }
                            elementpool_1.ElementPool.release(this.paddingElement);
                            this.paddingElement = null;
                        }
                    }
                }
                // else
                // {
                //     Library.UI.setStyle(this.visualElement, "width", `100%`);
                //     Library.UI.setStyle(this.visualElement, "height", `100%`);
                // }
                if (this.playerElement instanceof HTMLAudioElement && this.visualElement instanceof visualizer_1.Visualizer.VisualizerDom) {
                    visualizer_1.Visualizer.updateStretch(this.visualElement);
                    visualizer_1.Visualizer.step(this.media, this.playerElement, this.visualElement, this.analyser);
                }
                if ("current" === truckType) {
                    if (this.playerElement instanceof HTMLVideoElement && ui_8.UI.SettingsPanel.withVisualizerCheckbox.get()) {
                        visualizer_1.Visualizer.updateStretch(ui_8.UI.visualizer);
                        visualizer_1.Visualizer.step(this.media, this.playerElement, ui_8.UI.visualizer, this.analyser);
                    }
                }
            }
            if ("current" === truckType) {
                visualizer_1.Visualizer.updateStretch(ui_8.UI.visualizer);
            }
        };
        Track.prototype.updateLoopShortMedia = function (isPlaying) {
            if (this.playerElement instanceof HTMLMediaElement) {
                if (this.isLoop()) {
                    this.playerElement.loop = true;
                    if (this.playerElement.paused && isPlaying) {
                        this.playerElement.play();
                    }
                    if (this.paddingElement instanceof HTMLMediaElement) {
                        this.paddingElement.loop = true;
                        if (this.paddingElement.paused && isPlaying) {
                            this.paddingElement.play();
                        }
                    }
                }
                else {
                    this.playerElement.removeAttribute("loop");
                    if (this.paddingElement instanceof HTMLMediaElement) {
                        this.paddingElement.removeAttribute("loop");
                    }
                }
            }
        };
        Track.prototype.isMuteCondition = function (volume, rate, fade) {
            if (_tools_5.Tools.Environment.isSafari()) {
                if ((0, exports.hasValidGainNode)(this)) {
                    switch (fade) {
                        case "fadeIn":
                            return false;
                        case "fadeOut":
                            return true;
                        default:
                            break;
                    }
                }
                if (undefined !== rate) {
                    return volume <= 0 || rate <= 0.5;
                }
            }
            return volume <= 0;
        };
        Track.prototype.setVolume = function (volume, rate, fade) {
            if (this.playerElement instanceof HTMLMediaElement) {
                var finalVolume = volume * (rate !== null && rate !== void 0 ? rate : 1.0);
                if ((0, exports.hasValidGainNode)(this)) {
                    if (finalVolume !== this.analyser.gainNode.gain.value) {
                        this.analyser.gainNode.gain.value = finalVolume;
                    }
                }
                else {
                    if (finalVolume !== this.playerElement.volume) {
                        this.playerElement.volume = finalVolume;
                    }
                }
                this.playerElement.muted = this.isMuteCondition(volume, rate, fade);
            }
            if ("fadeOut" !== fade && this.visualElement instanceof visualizer_1.Visualizer.VisualizerDom && this.playerElement instanceof HTMLMediaElement) {
                this.visualElement.classList.toggle("muted", this.playerElement.muted);
            }
        };
        Track.prototype.setBrightness = function (rate) {
            if (this.visualElement) {
                _library_6.Library.UI.setStyle(this.visualElement, "--brightness", "".concat(rate));
            }
        };
        Track.prototype.setOpacity = function (rate) {
            var finalOpacity = rate;
            this.fadeRate = finalOpacity;
            if (this.visualElement) {
                _library_6.Library.UI.setStyle(this.visualElement, "opacity", "".concat(finalOpacity));
            }
        };
        Track.prototype.easingForBlur = function (rate) {
            return Math.pow(rate, config_json_7.default.player.blurEasing);
        };
        Track.prototype.setBlur = function (rate) {
            var maxBlur = config_json_7.default.player.maxBlur;
            var finalBlur = maxBlur * this.easingForBlur(rate);
            if (this.visualElement) {
                _library_6.Library.UI.setStyle(this.visualElement, "--blur", "calc(".concat(finalBlur, "vw + ").concat(finalBlur, "vh)"));
            }
        };
        Track.prototype.release = function () {
            elementpool_1.ElementPool.release(this.playerElement);
            elementpool_1.ElementPool.release(this.paddingElement);
        };
        return Track;
    }());
    exports.Track = Track;
});
define("script/features/timer", ["require", "exports", "resource/config"], function (require, exports, config) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Timer = void 0;
    config = __importStar(config);
    var Timer;
    (function (Timer) {
        var Player = {
            isPlaying: undefined,
            play: undefined,
            pause: undefined,
            onChangedSleepMode: undefined,
        };
        var wakeUpTimeSpan = null;
        var wakeUpFadeInSpan = 0;
        var wakeUpAt = null;
        var wokeUpAt = null;
        var wakeUpTimer = null;
        var sleepTimeSpan = null;
        var sleepFadeOutSpan = 0;
        var sleepAt = null;
        var sleepTimer = null;
        var isSleeped = false;
        Timer.setWakeUpFadeInSpan = function (timespan) {
            wakeUpFadeInSpan = timespan;
        };
        Timer.setSleepFadeOutSpan = function (timespan) {
            sleepFadeOutSpan = timespan;
        };
        Timer.setWakeUpTimer = function (timespan) {
            wokeUpAt = null;
            wakeUpTimeSpan = timespan;
            if (null !== wakeUpTimer) {
                clearTimeout(wakeUpTimer);
                wakeUpTimer = null;
            }
            if (null !== wakeUpTimeSpan && 0 < wakeUpTimeSpan) {
                wakeUpAt = Timer.getNow() + wakeUpTimeSpan;
                wakeUpTimer = setTimeout(function () {
                    wakeUpTimer = null;
                    wokeUpAt = Timer.getNow();
                    Timer.wakeUp("WithPlay");
                }, wakeUpTimeSpan);
                Timer.sleep();
            }
            else {
                wakeUpAt = null;
                Timer.wakeUp();
            }
        };
        Timer.setSleepTimer = function (timespan) {
            sleepTimeSpan = timespan;
            Timer.wakeUp();
            if (null !== sleepTimer) {
                clearTimeout(sleepTimer);
                sleepTimer = null;
            }
            if (null !== sleepTimeSpan && 0 < sleepTimeSpan) {
                sleepAt = Timer.getNow() + sleepTimeSpan;
                sleepTimer = setTimeout(function () {
                    sleepAt = null;
                    sleepTimer = null;
                    Timer.sleep("WithPause");
                }, sleepTimeSpan);
            }
            else {
                sleepAt = null;
            }
        };
        Timer.wakeUp = function (withPlay) {
            Player.onChangedSleepMode(isSleeped = false);
            if (withPlay === "WithPlay") {
                Player.play();
            }
        };
        Timer.sleep = function (withPause) {
            Player.onChangedSleepMode(isSleeped = true);
            if (withPause === "WithPause") {
                Player.pause();
            }
        };
        Timer.getNow = function () { return Date.now(); };
        Timer.isInSleepedMode = function () {
            return (!Player.isPlaying()) && isSleeped;
        };
        Timer.isWaitingForWakeUp = function () {
            return null !== wakeUpAt && null === wokeUpAt;
        };
        Timer.getTimeUntilWakeUp = function () {
            return null !== wakeUpAt ? wakeUpAt - Timer.getNow() : null;
        };
        Timer.getProgressUntilWakeUp = function () {
            var timeUntilWakeUp = Timer.getTimeUntilWakeUp();
            if (null !== timeUntilWakeUp && null !== wakeUpTimeSpan) {
                return (wakeUpTimeSpan - timeUntilWakeUp) / wakeUpTimeSpan;
            }
            return null;
        };
        Timer.getProgressUntilFadeInComplete = function () {
            var elapsedWokeUpTime = Timer.getElapsedWokeUpTime();
            if (null !== elapsedWokeUpTime) {
                return Math.min(elapsedWokeUpTime / wakeUpFadeInSpan, 1);
            }
            return null;
        };
        Timer.getCountDownTimerLoopSpan = function (timerSpan, remainingTime) {
            if (null !== remainingTime && 0 < remainingTime && null !== timerSpan) {
                var stabilizeSpan = remainingTime % 1000 || 1000;
                var spanFromminSteps = timerSpan / config.timers.minSteps;
                return Math.min(stabilizeSpan, spanFromminSteps);
            }
            return null;
        };
        Timer.getWakeUpCountDownTimerLoopSpan = function (remainingTime) {
            if (remainingTime === void 0) { remainingTime = Timer.getTimeUntilWakeUp(); }
            return Timer.getCountDownTimerLoopSpan(wakeUpTimeSpan, remainingTime);
        };
        Timer.getFadeInCountDownTimerLoopSpan = function (remainingTime) {
            if (remainingTime === void 0) { remainingTime = Timer.getElapsedWokeUpTime(); }
            return Timer.getCountDownTimerLoopSpan(wakeUpFadeInSpan, remainingTime);
        };
        Timer.isWakeUpFading = function () {
            return null !== Timer.getElapsedWokeUpTime();
        };
        Timer.getElapsedWokeUpTime = function () {
            if (null !== wokeUpAt) {
                var result = Timer.getNow() - wokeUpAt;
                if (0 <= result && result <= wakeUpFadeInSpan) {
                    return result;
                }
            }
            return null;
        };
        Timer.getWakeUpFadeProgress = function () {
            if (Timer.isWakeUpFading()) {
                var wakeUpTime = Timer.getElapsedWokeUpTime();
                if (null !== wakeUpTime) {
                    return Math.min(wakeUpTime / wakeUpFadeInSpan, 1);
                }
            }
            return null;
        };
        Timer.isSleepTimerActive = function () {
            return null !== sleepAt;
        };
        Timer.isSleepFading = function () {
            var timeUntilSleep = Timer.getTimeUntilSleep();
            return null !== timeUntilSleep && timeUntilSleep <= sleepFadeOutSpan;
        };
        Timer.getTimeUntilSleep = function () {
            return null !== sleepAt ? sleepAt - Timer.getNow() : null;
        };
        Timer.getProgressUntilSleep = function () {
            var timeUntilSleep = Timer.getTimeUntilSleep();
            if (null !== timeUntilSleep && null !== sleepTimeSpan) {
                return (sleepTimeSpan - timeUntilSleep) / sleepTimeSpan;
            }
            return null;
        };
        Timer.getSleepCountDownTimerLoopSpan = function (remainingTime) {
            return Timer.getCountDownTimerLoopSpan(sleepTimeSpan, remainingTime);
        };
        Timer.getSleepFadeProgress = function () {
            if (Timer.isSleepFading()) {
                var timeUntilSleep = Timer.getTimeUntilSleep();
                if (null !== timeUntilSleep) {
                    return Math.min((sleepFadeOutSpan - timeUntilSleep) / sleepFadeOutSpan, 1);
                }
            }
            return null;
        };
        Timer.getTimerFade = function () {
            var wakeUpFadeProgress = Timer.getWakeUpFadeProgress();
            var sleepFadeProgress = Timer.getSleepFadeProgress();
            if (null !== wakeUpFadeProgress || null !== sleepFadeProgress) {
                return (wakeUpFadeProgress !== null && wakeUpFadeProgress !== void 0 ? wakeUpFadeProgress : 1) * (1 - (sleepFadeProgress !== null && sleepFadeProgress !== void 0 ? sleepFadeProgress : 0));
            }
            // if (isInSleepedMode())
            // {
            //     return 0;
            // }
            return 1;
        };
        Timer.initialize = function (data) {
            Player.isPlaying = data.isPlaying;
            Player.play = data.play;
            Player.pause = data.pause;
            Player.onChangedSleepMode = data.onChangedSleepMode;
        };
    })(Timer || (exports.Timer = Timer = {}));
});
define("script/features/player", ["require", "exports", "script/tools/index", "script/library/index", "script/features/fps", "script/features/overlay", "script/ui", "script/features/elementpool", "script/features/media", "script/features/history", "script/features/track", "script/features/timer", "resource/config"], function (require, exports, _tools_6, _library_7, fps_1, overlay_1, ui_9, elementpool_2, media_2, history_1, track_1, timer_1, Config) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Player = void 0;
    Config = __importStar(Config);
    var Player;
    (function (Player) {
        var _this = this;
        Player.locale = undefined;
        var CrossFade;
        (function (CrossFade) {
            CrossFade.startAt = null;
            CrossFade.elapsedTime = null;
            CrossFade.getDuration = function () {
                return parseFloat(ui_9.UI.SettingsPanel.crossFadeSelect.get());
            };
            CrossFade.clear = function () {
                CrossFade.startAt = null;
                CrossFade.elapsedTime = null;
            };
            CrossFade.isCrossFading = function () {
                return null !== CrossFade.startAt || null !== CrossFade.elapsedTime;
            };
            CrossFade.start = function () {
                CrossFade.startAt = Date.now();
                CrossFade.elapsedTime = null;
            };
            CrossFade.pause = function () {
                if (null !== CrossFade.startAt) {
                    CrossFade.elapsedTime = Date.now() - CrossFade.startAt;
                }
            };
            CrossFade.resume = function () {
                if (null !== CrossFade.elapsedTime) {
                    CrossFade.startAt = Date.now() - CrossFade.elapsedTime;
                    CrossFade.elapsedTime = null;
                }
            };
            CrossFade.getEndAt = function () {
                if (null !== CrossFade.startAt) {
                    return CrossFade.startAt + CrossFade.getDuration();
                }
                else if (null !== CrossFade.elapsedTime) {
                    return Date.now() + CrossFade.getDuration() - CrossFade.elapsedTime;
                }
                else {
                    return null;
                }
            };
            CrossFade.getProgress = function (trackType) {
                if ("current" === trackType) {
                    if (null !== CrossFade.elapsedTime) {
                        return Math.min(CrossFade.elapsedTime / CrossFade.getDuration(), 1);
                    }
                    else if (null !== CrossFade.startAt) {
                        return Math.min((Date.now() - CrossFade.startAt) / CrossFade.getDuration(), 1);
                    }
                    else {
                        return 1;
                    }
                }
                else {
                    return 1 - CrossFade.getProgress("current");
                }
            };
            CrossFade.isHotCrossFadeTarget = function (target) {
                return (CrossFade.getDuration() * 3) < target.getDuration();
            };
        })(CrossFade = Player.CrossFade || (Player.CrossFade = {}));
        var noMediaTimer = new _library_7.Library.UI.ToggleClassForWhileTimer();
        var loopHandle = null;
        Player.updateFullscreenState = function (fullscreen) {
            if (_library_7.Library.UI.fullscreenEnabled) {
                if (fullscreen !== null && fullscreen !== void 0 ? fullscreen : ui_9.UI.SettingsPanel.withFullscreenCheckbox.get()) {
                    _library_7.Library.UI.requestFullscreen(document.body);
                    setTimeout(function () { return document.body.focus(); }, 100);
                }
                else {
                    _library_7.Library.UI.exitFullscreen();
                }
            }
        };
        var currentTrack = null;
        var fadeoutingTrack = null;
        Player.isPlaying = function () {
            return document.body.classList.contains("play");
        };
        Player.isSeeking = function () {
            return document.body.classList.contains("is-seeking");
        };
        Player.startAnimationFrameLoop = function () {
            if (null !== loopHandle) {
                window.cancelAnimationFrame(loopHandle);
            }
            loopHandle = window.requestAnimationFrame(Player.loop);
        };
        Player.play = function (media) { return __awaiter(_this, void 0, void 0, function () {
            var currentMedia;
            var _a, _b, _c;
            return __generator(this, function (_d) {
                switch (_d.label) {
                    case 0:
                        document.body.classList.toggle("show-ui", false);
                        document.body.classList.toggle("list", false);
                        document.body.classList.toggle("play", true);
                        return [4 /*yield*/, elementpool_2.ElementPool.makeSure({
                                image: (_a = media_2.Media.mediaList.find(function (m) { return "image" === m.category; })) !== null && _a !== void 0 ? _a : null,
                                audio: (_b = media_2.Media.mediaList.find(function (m) { return "audio" === m.category; })) !== null && _b !== void 0 ? _b : null,
                                video: (_c = media_2.Media.mediaList.find(function (m) { return "video" === m.category; })) !== null && _c !== void 0 ? _c : null,
                            })];
                    case 1:
                        _d.sent();
                        Player.updateFullscreenState();
                        Player.startAnimationFrameLoop();
                        navigator.mediaSession.metadata = new MediaMetadata({
                            title: Config.applicationTitle,
                            artist: "Unknown Artist",
                            album: "Temporary Media List",
                            artwork: [
                                {
                                    src: "./image/appicon.png",
                                    type: "image/png",
                                },
                            ],
                        });
                        navigator.mediaSession.playbackState = "playing";
                        if (media_2.Media.mediaList.length <= 0) {
                            noMediaTimer.start(document.body, "no-media", 5000);
                        }
                        if (history_1.History.isCleared()) {
                            CrossFade.clear();
                            Player.removeFadeoutTrack();
                            Player.removeTrack(currentTrack);
                            currentTrack = null;
                        }
                        CrossFade.resume();
                        currentMedia = history_1.History.play(media);
                        if (currentMedia) {
                            Player.playMedia(currentMedia, "resume");
                        }
                        else if (!ui_9.UI.ControlPanel.repeat.get()) {
                            Player.pause();
                        }
                        return [2 /*return*/];
                }
            });
        }); };
        Player.resume = function () {
            if (Player.isPlaying()) {
                Player.startAnimationFrameLoop();
            }
        };
        Player.pause = function () {
            if (null !== loopHandle) {
                window.cancelAnimationFrame(loopHandle);
            }
            ui_9.UI.overlay.style.removeProperty("opacity");
            //updateFullscreenState(false);
            navigator.mediaSession.playbackState = "paused";
            document.body.classList.toggle("list", true);
            document.body.classList.toggle("play", false);
            currentTrack === null || currentTrack === void 0 ? void 0 : currentTrack.pause();
            fadeoutingTrack === null || fadeoutingTrack === void 0 ? void 0 : fadeoutingTrack.pause();
            CrossFade.pause();
            var isResumable = 0 < media_2.Media.mediaList.length && null !== currentTrack;
            ui_9.UI.screenBody.classList.toggle("paused", isResumable);
            if (isResumable) {
                ui_9.UI.mediaList.scrollTop = ui_9.UI.mediaList.scrollHeight;
                document.body.classList.toggle("show-paused-media", true);
            }
        };
        Player.previous = function () {
            var media = history_1.History.back();
            if (media) {
                Player.playMedia(media);
            }
            else {
                Player.pause();
            }
        };
        Player.next = function () {
            var media = history_1.History.next();
            if (media) {
                Player.playMedia(media);
            }
            else {
                Player.pause();
                Player.clear();
            }
        };
        Player.clearCrossFade = function () {
            if (null !== currentTrack) {
                if (CrossFade.isCrossFading()) {
                    var currentVolume = ui_9.UI.volumeRange.get() / 100;
                    CrossFade.clear();
                    Player.removeFadeoutTrack();
                    currentTrack.setVolume(currentVolume);
                    currentTrack.setOpacity(1);
                    currentTrack.setBlur(1);
                }
            }
        };
        Player.fastForward = function () {
            if (null !== currentTrack) {
                Player.clearCrossFade();
                currentTrack.fastForward();
                Player.step();
            }
        };
        Player.rewind = function () {
            if (null !== currentTrack) {
                Player.clearCrossFade();
                currentTrack.rewind();
                Player.step();
            }
        };
        Player.seek = function (rate) {
            if (null !== currentTrack) {
                Player.clearCrossFade();
                currentTrack.rateSeek(rate);
                Player.step();
            }
        };
        Player.temporaryPause = function () {
            if (null !== currentTrack) {
                Player.clearCrossFade();
                currentTrack === null || currentTrack === void 0 ? void 0 : currentTrack.pause();
            }
        };
        Player.temporaryResume = function () {
            if (null !== currentTrack) {
                Player.clearCrossFade();
                currentTrack.play();
            }
        };
        Player.updateFps = function () {
            if (ui_9.UI.SettingsPanel.showFpsCheckbox.get()) {
                _library_7.Library.UI.setTextContent(ui_9.UI.fpsDisplay, fps_1.Fps.getText());
            }
        };
        Player.isNextTiming = function () {
            if (null !== currentTrack) {
                if (currentTrack.getRemainingTime() <= 0) {
                    return true;
                }
                if (0 < parseFloat(ui_9.UI.SettingsPanel.crossFadeSelect.get())) {
                    if (CrossFade.isHotCrossFadeTarget(currentTrack)) {
                        if (currentTrack.getRemainingTime() <= CrossFade.getDuration()) {
                            return true;
                        }
                    }
                }
            }
            return false;
        };
        Player.crossFade = function () { return __awaiter(_this, void 0, void 0, function () {
            var _a;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        if (!(null !== currentTrack)) return [3 /*break*/, 4];
                        if (!!Player.isSeeking()) return [3 /*break*/, 4];
                        if (currentTrack.selfValidate()) {
                            ui_9.UI.SettingsPanel.mediaLength.click();
                        }
                        if (!CrossFade.isCrossFading()) return [3 /*break*/, 3];
                        if (!(((_a = CrossFade.getEndAt()) !== null && _a !== void 0 ? _a : 0) <= Date.now())) return [3 /*break*/, 2];
                        CrossFade.clear();
                        Player.removeFadeoutTrack();
                        if (!!currentTrack.isPlaying()) return [3 /*break*/, 2];
                        return [4 /*yield*/, currentTrack.play()];
                    case 1:
                        _b.sent();
                        _b.label = 2;
                    case 2: return [3 /*break*/, 4];
                    case 3:
                        if (currentTrack.getRemainingTime() <= 0 || (Player.isNextTiming() && !history_1.History.isAtEnd())) {
                            Player.next();
                        }
                        _b.label = 4;
                    case 4: return [2 /*return*/];
                }
            });
        }); };
        var updateTrackPropertiesBase = function (trackType) {
            var track = "current" === trackType ? currentTrack : fadeoutingTrack;
            if (null !== track) {
                track.setVolume(Player.getVolume(trackType), Player.getVolumeRate(trackType), Player.getVolumeFade(trackType));
                track.setBrightness(Player.getBrightness());
                track.setOpacity(Player.getOpacity(trackType));
                track.setBlur(Player.getBlur(trackType));
            }
        };
        var updateCurrentTrackProperties = function () {
            return updateTrackPropertiesBase("current");
        };
        var updateFadeoutingTrackProperties = function () {
            return updateTrackPropertiesBase("fadeouting");
        };
        Player.updateTrackProperties = function () {
            updateCurrentTrackProperties();
            updateFadeoutingTrackProperties();
        };
        Player.getBrightness = function () {
            return timer_1.Timer.getTimerFade();
        };
        Player.getVolume = function (trackType) {
            return (ui_9.UI.volumeRange.get() / 100) * CrossFade.getProgress(trackType);
        };
        Player.getVolumeRate = function (trackType) {
            return CrossFade.getProgress(trackType);
        };
        Player.getVolumeFade = function (trackType) {
            if (CrossFade.isCrossFading()) {
                switch (trackType) {
                    case "current":
                        return "fadeIn";
                    case "fadeouting":
                        return "fadeOut";
                }
            }
            else {
                return undefined;
            }
        };
        Player.getOpacity = function (trackType) {
            return CrossFade.getProgress(trackType);
        };
        Player.getBlur = function (trackType) {
            return ui_9.UI.SettingsPanel.crossFadeWithBlurCheckbox.get() ?
                (1 - CrossFade.getProgress(trackType)) :
                0;
        };
        Player.makeIndexText = function (track) {
            return "".concat((media_2.Media.mediaList.indexOf(track.media) + 1).toLocaleString(Player.locale), " / ").concat(media_2.Media.mediaList.length.toLocaleString(Player.locale));
        };
        Player.makeTitleText = function (track) {
            return "".concat(track.media.name);
        };
        Player.makeTimeText = function (track) {
            return "".concat(_tools_6.Tools.Timespan.toMediaTimeString(track.getElapsedTime(), Player.locale), " / ").concat(_tools_6.Tools.Timespan.toMediaTimeString(track.getDuration(), Player.locale));
        };
        Player.step = function () {
            if (null !== fadeoutingTrack) {
                fadeoutingTrack.step("fadeouting");
            }
            if (null !== currentTrack) {
                _library_7.Library.UI.setTextContent(ui_9.UI.mediaTime, Player.makeTimeText(currentTrack));
                currentTrack.step("current");
                currentTrack.setPositionState();
            }
        };
        Player.updateMediaSessionPositionState = function () {
            var _a, _b;
            try {
                var duration = Math.max(0, ((_a = currentTrack === null || currentTrack === void 0 ? void 0 : currentTrack.getDuration()) !== null && _a !== void 0 ? _a : 0) / 1000);
                var playbackRate = (currentTrack === null || currentTrack === void 0 ? void 0 : currentTrack.playerElement) instanceof HTMLMediaElement ? currentTrack.playerElement.playbackRate : 1.0;
                var position = _tools_6.Tools.Math.clip(0, ((_b = currentTrack === null || currentTrack === void 0 ? void 0 : currentTrack.getElapsedTime()) !== null && _b !== void 0 ? _b : 0) / 1000, duration);
                navigator.mediaSession.setPositionState({ duration: duration, playbackRate: playbackRate, position: position, });
            }
            catch (error) {
                console.error("🚫 Player.loop: Failed to set position state.", error);
            }
        };
        Player.loop = function (now) {
            if (Player.isPlaying()) {
                try {
                    overlay_1.Overlay.update(now);
                    fps_1.Fps.step(now);
                    Player.updateFps();
                    Player.crossFade();
                    Player.updateTrackProperties();
                    Player.step();
                    Player.updateMediaSessionPositionState();
                }
                finally {
                    loopHandle = window.requestAnimationFrame(Player.loop);
                }
            }
            else {
                loopHandle = null;
            }
        };
        Player.playMedia = function (entry, resume) {
            navigator.mediaSession.metadata = new MediaMetadata({
                title: entry.name,
                artist: "Unknown Artist",
                album: "Temporary Media List",
                artwork: [{ src: entry.thumbnail, }],
            });
            if (resume && currentTrack && entry === currentTrack.media) {
                currentTrack.updateStretch("current");
                currentTrack.play();
                fadeoutingTrack === null || fadeoutingTrack === void 0 ? void 0 : fadeoutingTrack.updateStretch("fadeouting");
                fadeoutingTrack === null || fadeoutingTrack === void 0 ? void 0 : fadeoutingTrack.play();
            }
            else {
                Player.removeFadeoutTrack();
                fadeoutingTrack = currentTrack;
                currentTrack = new track_1.Track(entry, history_1.History.getCurrentIndex());
                updateCurrentTrackProperties();
                _library_7.Library.UI.setTextContent(ui_9.UI.mediaIndex, Player.makeIndexText(currentTrack));
                _library_7.Library.UI.setTextContent(ui_9.UI.mediaTitle, Player.makeTitleText(currentTrack));
                if (0 < parseFloat(ui_9.UI.SettingsPanel.crossFadeSelect.get())) {
                    CrossFade.start();
                    if (CrossFade.isHotCrossFadeTarget(currentTrack)) {
                        currentTrack.play();
                    }
                }
                else {
                    if (fadeoutingTrack) {
                        Player.removeFadeoutTrack();
                    }
                    currentTrack.play();
                }
                if (currentTrack.visualElement) {
                    ui_9.UI.mediaScreen.insertBefore(currentTrack.visualElement, ui_9.UI.AnalogClock.panel);
                    currentTrack.updateStretch("current");
                }
            }
        };
        Player.removeTrack = function (track) {
            if (track) {
                track.pause();
                if (track.visualElement) {
                    ui_9.UI.mediaScreen.removeChild(track.visualElement);
                }
                track.release();
            }
        };
        Player.removeFadeoutTrack = function () {
            Player.removeTrack(fadeoutingTrack);
            fadeoutingTrack = null;
        };
        Player.updateStretch = function () {
            var innerWidth = window.innerWidth, innerHeight = window.innerHeight;
            document.documentElement.style.setProperty('--short-side', "".concat(Math.min(innerWidth, innerHeight) * 0.01, "px"));
            currentTrack === null || currentTrack === void 0 ? void 0 : currentTrack.updateStretch("current");
            fadeoutingTrack === null || fadeoutingTrack === void 0 ? void 0 : fadeoutingTrack.updateStretch("fadeouting");
        };
        Player.updateLoopShortMedia = function () {
            if (null !== currentTrack) {
                currentTrack.updateLoopShortMedia(Player.isPlaying());
            }
        };
        Player.clear = function () {
            ui_9.UI.screenBody.classList.toggle("paused", false);
            _library_7.Library.UI.setTextContent(ui_9.UI.mediaIndex, "");
            _library_7.Library.UI.setTextContent(ui_9.UI.mediaTitle, "");
            _library_7.Library.UI.setTextContent(ui_9.UI.mediaTime, "");
            history_1.History.clear();
            CrossFade.clear();
            Player.removeFadeoutTrack();
            if (null !== currentTrack) {
                var clearedTrack_1 = fadeoutingTrack = currentTrack;
                currentTrack = null;
                if (fadeoutingTrack.visualElement) {
                    _library_7.Library.UI.setStyle(fadeoutingTrack.visualElement, "opacity", undefined);
                    fadeoutingTrack.visualElement.classList.add("fade-out");
                }
                setTimeout(function () {
                    if (clearedTrack_1 === fadeoutingTrack) {
                        Player.removeFadeoutTrack();
                    }
                }, 3000);
            }
        };
        Player.initialize = function (params) {
            Player.locale = params["locale"];
        };
    })(Player || (exports.Player = Player = {}));
});
define("script/features/index", ["require", "exports", "script/features/fps", "script/features/overlay", "script/features/location", "script/features/weather", "script/features/analyser", "script/features/visualizer", "script/features/player", "script/features/timer"], function (require, exports, ImportedFps, ImportedOverlay, ImportedLocation, ImportedWeather, ImportedAnalyser, ImportedVisualizer, ImportedPlayer, ImportedTimer) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Features = void 0;
    ImportedFps = __importStar(ImportedFps);
    ImportedOverlay = __importStar(ImportedOverlay);
    ImportedLocation = __importStar(ImportedLocation);
    ImportedWeather = __importStar(ImportedWeather);
    ImportedAnalyser = __importStar(ImportedAnalyser);
    ImportedVisualizer = __importStar(ImportedVisualizer);
    ImportedPlayer = __importStar(ImportedPlayer);
    ImportedTimer = __importStar(ImportedTimer);
    var Features;
    (function (Features) {
        Features.Fps = ImportedFps.Fps;
        Features.Overlay = ImportedOverlay.Overlay;
        Features.Location = ImportedLocation.Location;
        Features.Weather = ImportedWeather.Weather;
        //export import Media = ImportedMedia.Media;
        //export import History = ImortedHistory.History;
        Features.Analyser = ImportedAnalyser.Analyser;
        //export import Track = ImportedTrack.Track;
        Features.Visualizer = ImportedVisualizer.Visualizer;
        Features.Player = ImportedPlayer.Player;
        Features.Timer = ImportedTimer.Timer;
    })(Features || (exports.Features = Features = {}));
});
define("resource/evil-commonjs.config", [], {
    "log": {
        "config": false,
        "load": false,
        "define": false,
        "readyToCapture": false,
        "results": false
    },
    "loadingTimeout": 500
});
define("resource/evil-timer.js.config", [], {
    "debug": true
});
define("script/progress", ["require", "exports", "script/ui"], function (require, exports, ui_10) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Progress = void 0;
    var Progress;
    (function (Progress) {
        var totalTasks = 0;
        var completedTasks = 0;
        Progress.incrementTask = function (progress) {
            if (progress === void 0) { progress = 1; }
            totalTasks += progress;
            Progress.updateProgress();
        };
        Progress.completeTask = function (progress) {
            if (progress === void 0) { progress = 1; }
            completedTasks += progress;
            Progress.updateProgress();
        };
        Progress.updateProgress = function () {
            document.body.classList.toggle("progress-circle", 0 < totalTasks && completedTasks < totalTasks);
            ui_10.UI.progressCircle.style.setProperty("--progress", "".concat(completedTasks / totalTasks));
            ui_10.UI.progressCircle.setAttribute("aria-volumemin", "0");
            ui_10.UI.progressCircle.setAttribute("aria-volumemax", totalTasks.toString());
            ui_10.UI.progressCircle.setAttribute("aria-valuenow", completedTasks.toString());
            if (totalTasks <= completedTasks) {
                totalTasks = 0;
                completedTasks = 0;
            }
        };
    })(Progress || (exports.Progress = Progress = {}));
});
define("script/medialist", ["require", "exports", "script/tools/index", "script/library/index", "script/features/index", "script/features/media", "script/ui", "script/progress", "resource/config"], function (require, exports, _tools_7, _library_8, _features_1, media_3, ui_11, progress_1, config_json_8) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.MediaList = void 0;
    config_json_8 = __importDefault(config_json_8);
    var MediaList;
    (function (MediaList) {
        var _this = this;
        MediaList.locale = undefined;
        var notSupportedMediaTimer = new _library_8.Library.UI.ToggleClassForWhileTimer();
        MediaList.addMedia = function (file) { return __awaiter(_this, void 0, void 0, function () {
            var entry, _a, _b;
            return __generator(this, function (_c) {
                switch (_c.label) {
                    case 0:
                        console.log("📂 Adding media:", file);
                        return [4 /*yield*/, media_3.Media.fileToEntry(file)];
                    case 1:
                        entry = _c.sent();
                        if (!(null !== entry)) return [3 /*break*/, 3];
                        console.log("✅ Valid media file:", file);
                        media_3.Media.mediaList.push(entry);
                        MediaList.updateInformationDisplay();
                        MediaList.updateNoMediaLabel();
                        _b = (_a = ui_11.UI.mediaList).insertBefore;
                        return [4 /*yield*/, MediaList.makeMediaEntryDom(entry)];
                    case 2:
                        _b.apply(_a, [_c.sent(), ui_11.UI.addMediaButton.dom.parentElement]);
                        if (_features_1.Features.Player.isPlaying()) {
                            _features_1.Features.Player.pause();
                        }
                        MediaList.clearPlayState();
                        console.log("📂 Media added:", media_3.Media.mediaList[media_3.Media.mediaList.length - 1]);
                        return [3 /*break*/, 4];
                    case 3:
                        console.warn("🚫 Invalid media file:", file);
                        notSupportedMediaTimer.start(document.body, "not-supported-media", config_json_8.default.player.notSupportedMediaMessageSpan);
                        _c.label = 4;
                    case 4: return [2 /*return*/];
                }
            });
        }); };
        var addMediaQueue = Promise.resolve();
        MediaList.addMediaSerial = function (file) {
            progress_1.Progress.incrementTask();
            addMediaQueue = addMediaQueue.then(function () { return MediaList.addMedia(file).catch(function (e) { return console.error(e); }).finally(function () { return progress_1.Progress.completeTask(); }); });
        };
        MediaList.removeButton = function (entry) { return __awaiter(_this, void 0, void 0, function () {
            var _a;
            var _this = this;
            return __generator(this, function (_b) {
                switch (_b.label) {
                    case 0:
                        _a = {
                            tag: "button",
                            className: "remove-button",
                            attributes: {
                                tabindex: "0",
                                "data-aria-lang-key": "remove-media",
                                "aria-label": _library_8.Library.Locale.map("remove-media"),
                            }
                        };
                        return [4 /*yield*/, _library_8.Library.Svg.getSvg("SVG:close")];
                    case 1: return [2 /*return*/, (_a.children = [
                            _b.sent()
                        ],
                            _a.events = {
                                "click": function (event) { return __awaiter(_this, void 0, void 0, function () {
                                    var index;
                                    var _a;
                                    return __generator(this, function (_b) {
                                        switch (_b.label) {
                                            case 0:
                                                event.stopPropagation();
                                                (_a = event.target) === null || _a === void 0 ? void 0 : _a.blur();
                                                index = media_3.Media.mediaList.indexOf(entry);
                                                if (!(0 <= index && index < media_3.Media.mediaList.length)) return [3 /*break*/, 2];
                                                console.log("🗑️ Removing media:", media_3.Media.mediaList[index]);
                                                URL.revokeObjectURL(media_3.Media.mediaList[index].url);
                                                media_3.Media.mediaList.splice(index, 1);
                                                MediaList.clearPlayState();
                                                MediaList.updateInformationDisplay();
                                                MediaList.updateNoMediaLabel();
                                                return [4 /*yield*/, MediaList.updateMediaListDisplay()];
                                            case 1:
                                                _b.sent();
                                                _b.label = 2;
                                            case 2: return [2 /*return*/];
                                        }
                                    });
                                }); }
                            },
                            _a)];
                }
            });
        }); };
        MediaList.makeMediaEntryDom = function (entry) { return __awaiter(_this, void 0, void 0, function () {
            var ix, item, _a, _b, _c;
            var _d;
            var _this = this;
            return __generator(this, function (_e) {
                switch (_e.label) {
                    case 0:
                        ix = media_3.Media.mediaList.indexOf(entry);
                        _b = (_a = _library_8.Library.UI).createElement;
                        _d = {
                            tag: "div",
                            className: "item",
                            attributes: {
                                draggable: "true",
                                "data-index": (ix + 1).toLocaleString(MediaList.locale),
                                tabindex: "0",
                            }
                        };
                        return [4 /*yield*/, media_3.Media.makeThumbnailElement(entry)];
                    case 1:
                        _c = [
                            _e.sent(),
                            { tag: "span", className: "name", text: entry.name, },
                            { tag: "span", className: "type", text: entry.category, },
                            { tag: "span", className: "size", text: _tools_7.Tools.Byte.toDisplayString(entry.size, 3, MediaList.locale), },
                            { tag: "span", className: "duration", text: null !== entry.duration ? _tools_7.Tools.Timespan.toMediaTimeString(entry.duration, MediaList.locale) : "", }
                        ];
                        return [4 /*yield*/, MediaList.removeButton(entry)];
                    case 2:
                        item = _b.apply(_a, [(_d.children = _c.concat([
                                _e.sent()
                            ]),
                                _d)]);
                        item.addEventListener("dragstart", function (event) {
                            var _a;
                            ui_11.UI.mediaList.classList.add("dragging");
                            item.classList.add("dragging");
                            (_a = event.dataTransfer) === null || _a === void 0 ? void 0 : _a.setData("text/plain", String(ix));
                        });
                        item.addEventListener("dragend", function () { return __awaiter(_this, void 0, void 0, function () {
                            return __generator(this, function (_a) {
                                switch (_a.label) {
                                    case 0:
                                        ui_11.UI.mediaList.classList.remove("dragging");
                                        item.classList.remove("dragging");
                                        return [4 /*yield*/, MediaList.updateMediaListDisplay()];
                                    case 1:
                                        _a.sent();
                                        return [2 /*return*/];
                                }
                            });
                        }); });
                        item.addEventListener("dragover", function (event) {
                            event.preventDefault();
                            item.classList.add("drag-over");
                        });
                        item.addEventListener("dragleave", function () {
                            item.classList.remove("drag-over");
                        });
                        item.addEventListener("drop", function (event) { return __awaiter(_this, void 0, void 0, function () {
                            var fromIndex, toIndex, moved;
                            var _a;
                            return __generator(this, function (_b) {
                                switch (_b.label) {
                                    case 0:
                                        event.preventDefault();
                                        item.classList.remove("drag-over");
                                        fromIndex = Number((_a = event.dataTransfer) === null || _a === void 0 ? void 0 : _a.getData("text/plain"));
                                        toIndex = ix;
                                        if (fromIndex !== null && fromIndex !== toIndex) {
                                            moved = media_3.Media.mediaList.splice(fromIndex, 1)[0];
                                            media_3.Media.mediaList.splice(toIndex, 0, moved);
                                            MediaList.clearPlayState();
                                        }
                                        return [4 /*yield*/, MediaList.updateMediaListDisplay()];
                                    case 1:
                                        _b.sent();
                                        return [2 /*return*/];
                                }
                            });
                        }); });
                        item.addEventListener("dblclick", function () {
                            _features_1.Features.Player.play(entry);
                        });
                        return [2 /*return*/, item];
                }
            });
        }); };
        MediaList.updateMediaListDisplay = function () { return __awaiter(_this, void 0, void 0, function () {
            var _i, _a, entry, _b, _c;
            return __generator(this, function (_d) {
                switch (_d.label) {
                    case 0:
                        Array.from(ui_11.UI.mediaList.children).forEach(function (child) {
                            if (child instanceof HTMLDivElement && !child.classList.contains("add")) {
                                child.remove();
                            }
                            ;
                        });
                        _i = 0, _a = media_3.Media.mediaList;
                        _d.label = 1;
                    case 1:
                        if (!(_i < _a.length)) return [3 /*break*/, 4];
                        entry = _a[_i];
                        _c = (_b = ui_11.UI.mediaList).insertBefore;
                        return [4 /*yield*/, MediaList.makeMediaEntryDom(entry)];
                    case 2:
                        _c.apply(_b, [_d.sent(), ui_11.UI.addMediaButton.dom.parentElement]);
                        _d.label = 3;
                    case 3:
                        _i++;
                        return [3 /*break*/, 1];
                    case 4: return [2 /*return*/];
                }
            });
        }); };
        MediaList.updateInformationDisplay = function () {
            _library_8.Library.UI.setTextContent(ui_11.UI.SettingsPanel.mediaCount, media_3.Media.mediaList.length.toLocaleString(MediaList.locale));
            var imageSpan = parseInt(ui_11.UI.SettingsPanel.imageSpanSelect.get());
            var totalDuration = media_3.Media.mediaList.reduce(function (sum, entry) { var _a; return sum + ((_a = entry.duration) !== null && _a !== void 0 ? _a : imageSpan); }, 0);
            _library_8.Library.UI.setTextContent(ui_11.UI.SettingsPanel.mediaLength, _tools_7.Tools.Timespan.toMediaTimeString(totalDuration, MediaList.locale));
        };
        MediaList.updateNoMediaLabel = function () {
            var hasNoMedia = ui_11.UI.wakeUpToggle.get() && media_3.Media.mediaList.length <= 0;
            ui_11.UI.noMediaLabel.classList.toggle("hide", !hasNoMedia);
        };
        MediaList.initialize = function (params) {
            MediaList.locale = params["locale"];
            MediaList.updateInformationDisplay();
        };
        MediaList.clearPlayState = function () {
            _features_1.Features.Player.clear();
            ui_11.UI.mediaList.classList.toggle("paused", false);
        };
    })(MediaList || (exports.MediaList = MediaList = {}));
});
define("script/events", ["require", "exports", "script/tools/index", "script/library/index", "script/features/index", "script/features/media", "script/medialist", "script/ui", "script/url", "resource/config", "resource/control"], function (require, exports, _tools_8, _library_9, _features_2, media_4, medialist_1, ui_12, url_4, config_json_9, control_json_2) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Events = void 0;
    config_json_9 = __importDefault(config_json_9);
    control_json_2 = __importDefault(control_json_2);
    var Events;
    (function (Events) {
        var _this = this;
        Events.locale = undefined;
        Events.updateVolume = function (disableLog) {
            var value = ui_12.UI.volumeRange.get();
            var rank = Math.ceil(value / 25);
            if ("disableLog" !== disableLog) {
                console.log("🔊 Volume changed:", value, rank);
            }
            ui_12.UI.volumeLabel.classList.toggle("volume-mute", rank <= 0);
            ui_12.UI.volumeLabel.classList.toggle("volume-0", 1 === rank);
            ui_12.UI.volumeLabel.classList.toggle("volume-1", 2 === rank);
            ui_12.UI.volumeLabel.classList.toggle("volume-2", 3 === rank);
            ui_12.UI.volumeLabel.classList.toggle("volume-3", 4 <= rank);
            //Media.setVolume(value);
            Events.mousemove();
        };
        var updateShowFps = function () {
            ui_12.UI.fpsDisplay.classList.toggle("hide", !ui_12.UI.SettingsPanel.showFpsCheckbox.get());
        };
        var brightnessTimer = new _library_9.Library.UI.ToggleClassForWhileTimer();
        Events.updateBrightness = function (disableLog) {
            var value = ui_12.UI.SettingsPanel.brightnessRange.get();
            if ("disableLog" !== disableLog) {
                console.log("💡 Brightness changed:", value);
            }
            brightnessTimer.start(ui_12.UI.mediaScreen, "disable-transition", 100);
            _library_9.Library.UI.setStyle(ui_12.UI.mediaScreen, "opacity", "".concat(value / 100));
            Events.mousemove();
        };
        var updateLoopShortMedia = function () {
            _features_2.Features.Player.updateLoopShortMedia();
        };
        var updateVisualizer = function () {
            var value = ui_12.UI.SettingsPanel.visualizerSelect.get();
            control_json_2.default.visualizer.enum.forEach(function (i) { return ui_12.UI.mediaScreen.classList.toggle(i, i === value); });
        };
        var updateOverlayStyle = function () {
            control_json_2.default.overlayStyle.enum.forEach(function (i) { return ui_12.UI.overlay.classList.toggle(i, i === ui_12.UI.SettingsPanel.overlayStyleSelect.get()); });
        };
        var updateOverlayPosition = function () {
            control_json_2.default.overlayPosition.enum.forEach(function (i) { return ui_12.UI.overlay.classList.toggle(i, i === ui_12.UI.SettingsPanel.overlayPositionSelect.get()); });
        };
        var updateWeatherLocation = function () {
            if ("geolocation" === ui_12.UI.SettingsPanel.weatherLocationSelect.get()) {
                _features_2.Features.Location.requestToGetGeolocation();
            }
        };
        var updateShortcuts = function (disableLog) {
            var value = ui_12.UI.SettingsPanel.shortcutsSelect.get();
            if ("disableLog" !== disableLog) {
                console.log("⌨️ Keyboard Shortcuts style changed:", value);
            }
            _library_9.Library.Shortcuts.setStyle(value);
            ui_12.UI.updateShortcuts();
        };
        var updateUrlAnchor = function (params) {
            return ui_12.UI.SettingsPanel.urlAnchor.href = url_4.Url.make(params);
        };
        Events.makeTimerLabel = function (remainingTime, locale) {
            if (null === remainingTime || remainingTime <= 0 || isNaN(remainingTime)) {
                //return Library.Locale.map("off");
                return "";
            }
            else {
                return _tools_8.Tools.Timespan.toMediaTimeString(remainingTime, locale);
            }
        };
        Events.updateWakeUpTimer = function (remainingTime) {
            var _a, _b;
            if (remainingTime === void 0) { remainingTime = _features_2.Features.Timer.getTimeUntilWakeUp(); }
            _library_9.Library.UI.setTextContent(ui_12.UI.wakeUpTimerLabel, Events.makeTimerLabel(remainingTime, Events.locale));
            if (_features_2.Features.Timer.isWakeUpFading()) {
                ui_12.UI.wakeUpProgressCircle.classList.toggle("fading-in", true);
                ui_12.UI.wakeUpProgressCircle.style.setProperty("--progress", "".concat((_a = _features_2.Features.Timer.getProgressUntilFadeInComplete()) !== null && _a !== void 0 ? _a : 1));
            }
            else {
                ui_12.UI.wakeUpProgressCircle.classList.toggle("fading-in", false);
                ui_12.UI.wakeUpProgressCircle.style.setProperty("--progress", "".concat((_b = _features_2.Features.Timer.getProgressUntilWakeUp()) !== null && _b !== void 0 ? _b : 1));
            }
        };
        Events.updateSleepTimer = function (remainingTime) {
            var _a;
            if (remainingTime === void 0) { remainingTime = _features_2.Features.Timer.getTimeUntilSleep(); }
            _library_9.Library.UI.setTextContent(ui_12.UI.sleepTimerLabel, Events.makeTimerLabel(remainingTime, Events.locale));
            ui_12.UI.sleepProgressCircle.style.setProperty("--progress", "".concat((_a = _features_2.Features.Timer.getProgressUntilSleep()) !== null && _a !== void 0 ? _a : 1));
        };
        var wakeUpCountDownTimer = null;
        Events.wakeUpCountDownTimerLoop = function () {
            var _a, _b;
            if (null !== wakeUpCountDownTimer) {
                clearTimeout(wakeUpCountDownTimer);
                wakeUpCountDownTimer = null;
            }
            var remainingTime = _features_2.Features.Timer.getTimeUntilWakeUp();
            Events.updateWakeUpTimer(remainingTime);
            var isRunning = _features_2.Features.Timer.isWaitingForWakeUp() || _features_2.Features.Timer.isWakeUpFading();
            if (isRunning) {
                wakeUpCountDownTimer = setTimeout(function () {
                    wakeUpCountDownTimer = null;
                    Events.wakeUpCountDownTimerLoop();
                }, (_b = (_a = _features_2.Features.Timer.getWakeUpCountDownTimerLoopSpan(remainingTime)) !== null && _a !== void 0 ? _a : _features_2.Features.Timer.getFadeInCountDownTimerLoopSpan()) !== null && _b !== void 0 ? _b : 100);
            }
            else {
                ui_12.UI.wakeUpToggle.toggle(false, "preventOnChange");
            }
        };
        Events.updateWakeUp = function () {
            var isOn = ui_12.UI.wakeUpToggle.get();
            var value = ui_12.UI.wakeUpSelect.get();
            console.log("⏰ Wake-up Timer changed:", isOn, value);
            var timespan = isOn ? _tools_8.Tools.Timespan.parse(value) : null;
            _features_2.Features.Timer.setWakeUpTimer(timespan);
            Events.wakeUpCountDownTimerLoop();
            Events.updateNoMediaLabel();
            document.body.classList.toggle("wake-up-timer-not-working", isOn && !_tools_8.Tools.Environment.canAutoplay());
        };
        Events.updateWakeUpSelect = function () {
            var value = ui_12.UI.wakeUpSelect.get();
            console.log("⏰ Wake-up Select changed:", value);
            ui_12.UI.wakeUpToggle.toggle(true, "preventOnChange");
            Events.updateWakeUp();
        };
        Events.updateFadeIn = function (disableLog) {
            var _a;
            var value = ui_12.UI.fadeInSelect.get();
            if ("disableLog" !== disableLog) {
                console.log("🌅 Wake-up Fade-in Time changed:", value);
            }
            _features_2.Features.Timer.setWakeUpFadeInSpan((_a = _tools_8.Tools.Timespan.parse(value)) !== null && _a !== void 0 ? _a : 0);
        };
        Events.updateNoMediaLabel = function () {
            medialist_1.MediaList.updateNoMediaLabel();
        };
        Events.updateSleep = function () {
            var isOn = ui_12.UI.sleepToggle.get();
            var value = ui_12.UI.sleepSelect.get();
            console.log("💤 Sleep Timer changed:", isOn, value);
            var timespan = isOn ? _tools_8.Tools.Timespan.parse(value) : null;
            _features_2.Features.Timer.setSleepTimer(timespan);
            Events.sleepCountDownTimerLoop();
            Events.updateNoRepeatLabel();
        };
        Events.updateSleepSelect = function () {
            var value = ui_12.UI.sleepSelect.get();
            console.log("💤 Sleep Select changed:", value);
            ui_12.UI.sleepToggle.toggle(true, "preventOnChange");
            Events.updateSleep();
        };
        Events.updateFadeOut = function (disableLog) {
            var _a;
            var value = ui_12.UI.fadeOutSelect.get();
            if ("disableLog" !== disableLog) {
                console.log("🌃 Sleep Fade-out Time changed:", value);
            }
            _features_2.Features.Timer.setSleepFadeOutSpan((_a = _tools_8.Tools.Timespan.parse(value)) !== null && _a !== void 0 ? _a : 0);
        };
        Events.updateNoRepeatLabel = function () {
            var noRepeat = ui_12.UI.sleepToggle.get() && !ui_12.UI.ControlPanel.repeat.get();
            ui_12.UI.noRepeatLabel.classList.toggle("hide", !noRepeat);
        };
        var sleepCountDownTimer = null;
        Events.sleepCountDownTimerLoop = function () {
            if (null !== sleepCountDownTimer) {
                clearTimeout(sleepCountDownTimer);
                sleepCountDownTimer = null;
            }
            var remainingTime = _features_2.Features.Timer.getTimeUntilSleep();
            Events.updateSleepTimer(remainingTime);
            var loopSpan = _features_2.Features.Timer.getSleepCountDownTimerLoopSpan(remainingTime);
            if (null !== loopSpan) {
                sleepCountDownTimer = setTimeout(function () {
                    sleepCountDownTimer = null;
                    Events.sleepCountDownTimerLoop();
                }, loopSpan);
            }
            else {
                Events.updateNoRepeatLabel();
            }
        };
        Events.onChangedSleepMode = function (isSleeped) {
            document.body.classList.toggle("sleeped", isSleeped);
        };
        Events.updateLanguage = function () {
            ui_12.UI.updateLanguage();
            Events.updateWakeUpTimer();
            Events.updateSleepTimer();
        };
        var dragover = function (event) {
            var _a;
            var files = (_a = event.dataTransfer) === null || _a === void 0 ? void 0 : _a.files;
            if (files && 0 < files.length) {
                var hasMedia = Array.from(files).some(function (file) { return media_4.Media.isMediaFile(file); });
                if (hasMedia) {
                    event.preventDefault();
                    event.dataTransfer.dropEffect = "copy";
                    ui_12.UI.addMediaButton.dom.classList.add("dragover");
                }
                else {
                    event.dataTransfer.dropEffect = "none";
                }
            }
        };
        var drop = function (event) { return __awaiter(_this, void 0, void 0, function () {
            var _i, _a, file;
            return __generator(this, function (_b) {
                event.preventDefault();
                event.stopPropagation();
                if (event.dataTransfer && event.dataTransfer.files && 0 < event.dataTransfer.files.length) {
                    for (_i = 0, _a = Array.from(event.dataTransfer.files); _i < _a.length; _i++) {
                        file = _a[_i];
                        console.log("📂 File dropped:", file);
                        medialist_1.MediaList.addMediaSerial(file);
                    }
                }
                return [2 /*return*/];
            });
        }); };
        var isSeekingTimer = new _tools_8.Tools.Timer.ExtendableTimer(function () {
            document.body.classList.add("is-seeking");
            if (_features_2.Features.Player.isPlaying()) {
                _features_2.Features.Player.temporaryPause();
            }
        }, function () {
            document.body.classList.remove("is-seeking");
            if (_features_2.Features.Player.isPlaying()) {
                _features_2.Features.Player.temporaryResume();
                _features_2.Features.Player.seek(ui_12.UI.seekRange.valueAsNumber);
            }
        }, 500);
        var updateSeek = function () {
            isSeekingTimer.kick();
            _features_2.Features.Player.seek(ui_12.UI.seekRange.valueAsNumber);
        };
        var mouseMoveTimer = new _library_9.Library.UI.ToggleClassForWhileTimer();
        Events.mousemove = function () {
            return mouseMoveTimer.start(document.body, "mousemove", config_json_9.default.ui.mousemoveTimeout);
        };
        Events.loadToggleButtonParameter = function (button, params) {
            var value = params[button.getId()];
            if (undefined !== value) {
                button.dom.classList.toggle("on", "true" === value.toLowerCase());
            }
        };
        var lastVolume = 100;
        Events.toggleMute = function () {
            if (ui_12.UI.volumeRange.get() <= 0) {
                ui_12.UI.volumeRange.set(lastVolume);
            }
            else {
                lastVolume = ui_12.UI.volumeRange.get();
                ui_12.UI.volumeRange.set(0);
            }
        };
        Events.addKeyboardClickListener = function (label) {
            label.addEventListener("keydown", function (event) {
                if (" " === event.key || "Enter" === event.key) {
                    event.preventDefault();
                    event.stopPropagation();
                    label.click();
                }
            });
        };
        Events.initialize = function (params) {
            var _a, _b, _c, _d, _e;
            Events.locale = params["locale"];
            window.addEventListener("dragover", function (event) { return event.preventDefault(); });
            window.addEventListener("drop", function (event) { return event.preventDefault(); });
            window.addEventListener("resize", function () { return _features_2.Features.Player.updateStretch(); });
            window.addEventListener("orientationchange", function () { return _features_2.Features.Player.updateStretch(); });
            _library_9.Library.Shortcuts.setCommandMap({
                "toggleShuffle": {
                    control: ui_12.UI.ControlPanel.shuffle.dom,
                    fire: function () { return ui_12.UI.ControlPanel.shuffle.toggle(); }
                },
                "toggleRepeat": {
                    control: ui_12.UI.ControlPanel.repeat.dom,
                    fire: function () { return ui_12.UI.ControlPanel.repeat.toggle(); }
                },
                "togglePlay": {
                    control: ui_12.UI.ControlPanel.playButton.dom,
                    fire: function () {
                        if (_features_2.Features.Player.isPlaying()) {
                            _features_2.Features.Player.pause();
                            medialist_1.MediaList.updateMediaListDisplay();
                            medialist_1.MediaList.updateInformationDisplay();
                        }
                        else {
                            _features_2.Features.Player.play();
                        }
                    }
                },
                "toggleMute": {
                    fire: function () { return Events.toggleMute(); }
                },
                "volumeUp": {
                    fire: function () {
                        ui_12.UI.volumeRange.set(ui_12.UI.volumeRange.get() + config_json_9.default.volume.step);
                        ui_12.UI.volumeRange.fire();
                    }
                },
                "volumeDown": {
                    fire: function () {
                        ui_12.UI.volumeRange.set(ui_12.UI.volumeRange.get() - config_json_9.default.volume.step);
                        ui_12.UI.volumeRange.fire();
                    }
                },
                "seekBackward": {
                    control: ui_12.UI.rewindButton.dom,
                    fire: function () {
                        _features_2.Features.Player.rewind();
                    }
                },
                "seekForward": {
                    control: ui_12.UI.fastForwardButton.dom,
                    fire: function () {
                        _features_2.Features.Player.fastForward();
                    }
                },
                "goPreviousMedia": {
                    control: ui_12.UI.backBUtton.dom,
                    fire: function () { return _features_2.Features.Player.previous(); }
                },
                "goNextMedia": {
                    control: ui_12.UI.nextButton.dom,
                    fire: function () { return _features_2.Features.Player.next(); }
                },
                "toggleFullscreen": {
                    control: ui_12.UI.SettingsPanel.withFullscreenCheckbox.dom,
                    fire: function () {
                        if (_library_9.Library.UI.fullscreenEnabled) {
                            ui_12.UI.SettingsPanel.withFullscreenCheckbox.toggle();
                            _features_2.Features.Player.updateFullscreenState();
                        }
                    }
                },
            });
            document.body.addEventListener("dragover", dragover);
            document.body.addEventListener("drop", drop);
            //document.body.className = "play";
            document.body.className = "list";
            ui_12.UI.screenBody.addEventListener("click", function () { return document.body.classList.toggle("show-ui"); });
            var applyParam = function (key, value) {
                url_4.Url.addParameter(url_4.Url.params, key, value);
                updateUrlAnchor(url_4.Url.params);
            };
            navigator.mediaSession.setActionHandler("play", function () { return _features_2.Features.Player.play(); });
            navigator.mediaSession.setActionHandler("pause", _features_2.Features.Player.pause);
            navigator.mediaSession.setActionHandler("previoustrack", _features_2.Features.Player.previous);
            navigator.mediaSession.setActionHandler("nexttrack", _features_2.Features.Player.next);
            Events.addKeyboardClickListener(_library_9.Library.UI.querySelector("label", "label[for='wakeup-button']"));
            Events.addKeyboardClickListener(_library_9.Library.UI.querySelector("label", "label[for='volume-button']"));
            Events.addKeyboardClickListener(_library_9.Library.UI.querySelector("label", "label[for='settings-button']"));
            Events.addKeyboardClickListener(_library_9.Library.UI.querySelector("label", "label[for='sleep-button']"));
            ui_12.UI.mediaList.addEventListener("scroll", function () { return document.body.classList.toggle("show-paused-media", ui_12.UI.screenBody.classList.contains("paused") && ui_12.UI.isScrolledToMediaListBottom()); });
            ui_12.UI.addMediaButton.data.click = function (event, button) {
                event === null || event === void 0 ? void 0 : event.stopPropagation();
                button.dom.blur();
                ui_12.UI.inputFile.click();
            };
            ui_12.UI.inputFile.addEventListener("click", function (event) { return event.stopPropagation(); });
            ui_12.UI.inputFile.addEventListener("change", function () { return __awaiter(_this, void 0, void 0, function () {
                var files, _i, _a, file;
                return __generator(this, function (_b) {
                    files = ui_12.UI.inputFile.files;
                    for (_i = 0, _a = Array.from(files !== null && files !== void 0 ? files : []); _i < _a.length; _i++) {
                        file = _a[_i];
                        console.log("📂 File selected:", file);
                        medialist_1.MediaList.addMediaSerial(file);
                    }
                    ui_12.UI.inputFile.value = "";
                    return [2 /*return*/];
                });
            }); });
            ui_12.UI.ControlPanel.playButton.data.click = function (event, button) {
                event === null || event === void 0 ? void 0 : event.stopPropagation();
                button.dom.blur();
                if (_features_2.Features.Player.isPlaying()) {
                    _features_2.Features.Player.pause();
                    medialist_1.MediaList.updateMediaListDisplay();
                    medialist_1.MediaList.updateInformationDisplay();
                }
                else {
                    _features_2.Features.Player.play();
                }
            };
            ui_12.UI.nextButton.data.click = function (event, button) {
                event === null || event === void 0 ? void 0 : event.stopPropagation();
                button.dom.blur();
                _features_2.Features.Player.next();
            };
            ui_12.UI.backBUtton.data.click = function (event, button) {
                event === null || event === void 0 ? void 0 : event.stopPropagation();
                button.dom.blur();
                _features_2.Features.Player.previous();
            };
            ui_12.UI.fastForwardButton.data.click = function (event, button) {
                event === null || event === void 0 ? void 0 : event.stopPropagation();
                button.dom.blur();
                _features_2.Features.Player.fastForward();
            };
            ui_12.UI.rewindButton.data.click = function (event, button) {
                event === null || event === void 0 ? void 0 : event.stopPropagation();
                button.dom.blur();
                _features_2.Features.Player.rewind();
            };
            ui_12.UI.ControlPanel.shuffle.setChange(function (event, button) {
                event === null || event === void 0 ? void 0 : event.stopPropagation();
                button.dom.blur();
                ui_12.UI.updateParentClassBasedOnCheckbox(ui_12.UI.ControlPanel.shuffle);
            });
            ui_12.UI.ControlPanel.repeat.setChange(function (event, button) {
                event === null || event === void 0 ? void 0 : event.stopPropagation();
                button.dom.blur();
                ui_12.UI.updateParentClassBasedOnCheckbox(ui_12.UI.ControlPanel.repeat);
                Events.updateNoRepeatLabel();
            });
            ui_12.UI.ControlPanel.volumeButton.setChange(function (event, button) {
                event === null || event === void 0 ? void 0 : event.stopPropagation();
                button.dom.blur();
                if (_tools_8.Tools.Environment.isSafari() && !_features_2.Features.Analyser.isSupported()) {
                    ui_12.UI.volumeRange.set(ui_12.UI.volumeRange.get() <= 0 ? 100 : 0);
                    ui_12.UI.ControlPanel.volumeButton.toggle(false, "preventOnChange");
                }
                ui_12.UI.closeOtherPopups(ui_12.UI.ControlPanel.volumeButton);
            });
            // UI.volumeRange.options ||= { }
            // UI.volumeRange.options.change = () => updateVolume();
            ui_12.UI.ControlPanel.settingsButton.setChange(function (event, button) {
                event === null || event === void 0 ? void 0 : event.stopPropagation();
                button.dom.blur();
                ui_12.UI.closeOtherPopups(ui_12.UI.ControlPanel.settingsButton);
                document.body.classList.toggle("show-settings-panel", ui_12.UI.ControlPanel.settingsButton.get());
            });
            ui_12.UI.SettingsPanel.mediaLength.click = function () {
                medialist_1.MediaList.updateMediaListDisplay();
                medialist_1.MediaList.updateInformationDisplay();
            };
            (_a = ui_12.UI.SettingsPanel.withFullscreenCheckbox).options || (_a.options = {});
            ui_12.UI.SettingsPanel.withFullscreenCheckbox.options.change = function (_event, _checkbox) {
                if (document.body.classList.contains("play")) {
                    if (_library_9.Library.UI.fullscreenEnabled) {
                        _features_2.Features.Player.updateFullscreenState();
                    }
                }
            };
            (_b = ui_12.UI.SettingsPanel.brightnessRange).options || (_b.options = {});
            ui_12.UI.SettingsPanel.brightnessRange.options.change = function () { return Events.updateBrightness(); };
            (_c = ui_12.UI.SettingsPanel.stretchRange).options || (_c.options = {});
            ui_12.UI.SettingsPanel.stretchRange.options.change = function (_event, range) {
                var value = range.get();
                console.log("📏 Stretch changed:", value);
                //Features.Media.setStretch(value / 100);
                _features_2.Features.Player.updateStretch();
                Events.mousemove();
            };
            (_d = ui_12.UI.SettingsPanel.imageSpanSelect).options || (_d.options = {});
            ui_12.UI.SettingsPanel.imageSpanSelect.options.change = function (_event, select) {
                var value = select.get();
                console.log("⏱️ Image span changed:", value);
                medialist_1.MediaList.updateInformationDisplay();
            };
            (_e = ui_12.UI.SettingsPanel.loopShortMediaCheckbox).options || (_e.options = {});
            ui_12.UI.SettingsPanel.loopShortMediaCheckbox.options.change = function (_event, _checkbox) {
                console.log("🔁 Loop short media changed:", ui_12.UI.SettingsPanel.loopShortMediaCheckbox.get());
                updateLoopShortMedia();
            };
            ui_12.UI.mediaTitle.addEventListener("click", function (event) {
                event.stopPropagation();
                document.body.classList.toggle("show-seek-bar");
            });
            ui_12.UI.mediaTime.addEventListener("click", function (event) {
                event.stopPropagation();
                document.body.classList.toggle("show-seek-bar");
            });
            ui_12.UI.ControlPanel.wakeUpButton.setChange(function (event, button) {
                event === null || event === void 0 ? void 0 : event.stopPropagation();
                button.dom.blur();
                ui_12.UI.closeOtherPopups(ui_12.UI.ControlPanel.wakeUpButton);
            });
            ui_12.UI.ControlPanel.sleepButton.setChange(function (event, button) {
                event === null || event === void 0 ? void 0 : event.stopPropagation();
                button.dom.blur();
                ui_12.UI.closeOtherPopups(ui_12.UI.ControlPanel.sleepButton);
            });
            _library_9.Library.Shortcuts.setPressedKeyDiv(ui_12.UI.pressedKey);
            ui_12.UI.seekRange.addEventListener("click", function (event) { return event.stopPropagation(); });
            ui_12.UI.seekRange.addEventListener("change", updateSeek);
            ui_12.UI.seekRange.addEventListener("input", updateSeek);
            ui_12.UI.ControlPanel.shuffle.loadParameter(url_4.Url.params, applyParam);
            ui_12.UI.ControlPanel.repeat.loadParameter(url_4.Url.params, applyParam);
            //UI.volumeButton.loadParameter(Url.params, applyParam);
            ui_12.UI.volumeRange.loadParameter(url_4.Url.params, applyParam).setChange(function () { return Events.updateVolume(); });
            //UI.settingsButton.loadParameter(Url.params, applyParam);
            ui_12.UI.SettingsPanel.withFullscreenCheckbox.loadParameter(url_4.Url.params, applyParam).setChange(ui_12.UI.SettingsPanel.withFullscreenCheckbox.options.change);
            ui_12.UI.SettingsPanel.brightnessRange.loadParameter(url_4.Url.params, applyParam).setChange(ui_12.UI.SettingsPanel.brightnessRange.options.change);
            ui_12.UI.SettingsPanel.stretchRange.loadParameter(url_4.Url.params, applyParam).setChange(ui_12.UI.SettingsPanel.stretchRange.options.change);
            ui_12.UI.SettingsPanel.paddingCheckbox.loadParameter(url_4.Url.params, applyParam).setChange(function () { return _features_2.Features.Player.updateStretch(); });
            ui_12.UI.SettingsPanel.crossFadeSelect.loadParameter(url_4.Url.params, applyParam); //.setChange(UI.transitionCheckbox.options.change);
            ui_12.UI.SettingsPanel.crossFadeWithBlurCheckbox.loadParameter(url_4.Url.params, applyParam);
            ui_12.UI.SettingsPanel.imageSpanSelect.loadParameter(url_4.Url.params, applyParam).setChange(ui_12.UI.SettingsPanel.imageSpanSelect.options.change);
            ui_12.UI.SettingsPanel.loopShortMediaCheckbox.loadParameter(url_4.Url.params, applyParam);
            ui_12.UI.SettingsPanel.visualizerSelect.loadParameter(url_4.Url.params, applyParam).setChange(updateVisualizer);
            ui_12.UI.SettingsPanel.analogClockCheckbox.loadParameter(url_4.Url.params, applyParam);
            ui_12.UI.SettingsPanel.dateHandsCheckbox.loadParameter(url_4.Url.params, applyParam);
            ui_12.UI.SettingsPanel.millisecondHandCheckbox.loadParameter(url_4.Url.params, applyParam);
            ui_12.UI.SettingsPanel.overlayStyleSelect.loadParameter(url_4.Url.params, applyParam).setChange(updateOverlayStyle);
            ui_12.UI.SettingsPanel.overlayPositionSelect.loadParameter(url_4.Url.params, applyParam).setChange(updateOverlayPosition);
            ui_12.UI.SettingsPanel.withWeatherCheckbox.loadParameter(url_4.Url.params, applyParam);
            ui_12.UI.SettingsPanel.weatherLocationSelect.loadParameter(url_4.Url.params, applyParam).setChange(updateWeatherLocation);
            ui_12.UI.SettingsPanel.withClockCheckbox.loadParameter(url_4.Url.params, applyParam);
            ui_12.UI.SettingsPanel.withDateCheckbox.loadParameter(url_4.Url.params, applyParam);
            ui_12.UI.SettingsPanel.withCalenderCheckbox.loadParameter(url_4.Url.params, applyParam);
            ui_12.UI.SettingsPanel.withVisualizerCheckbox.loadParameter(url_4.Url.params, applyParam);
            ui_12.UI.SettingsPanel.showFpsCheckbox.loadParameter(url_4.Url.params, applyParam).setChange(updateShowFps);
            ui_12.UI.SettingsPanel.shortcutsSelect.loadParameter(url_4.Url.params, applyParam).setChange(function () { return updateShortcuts(); });
            ui_12.UI.SettingsPanel.languageSelect.loadParameter(url_4.Url.params, applyParam).setChange(Events.updateLanguage);
            ui_12.UI.wakeUpToggle.setChange(Events.updateWakeUp);
            ui_12.UI.wakeUpSelect.loadParameter(url_4.Url.params, applyParam).setChange(Events.updateWakeUpSelect);
            ui_12.UI.fadeInSelect.loadParameter(url_4.Url.params, applyParam).setChange(function () { return Events.updateFadeIn(); });
            ui_12.UI.sleepToggle.setChange(Events.updateSleep);
            ui_12.UI.sleepSelect.loadParameter(url_4.Url.params, applyParam).setChange(Events.updateSleepSelect);
            ui_12.UI.fadeOutSelect.loadParameter(url_4.Url.params, applyParam).setChange(function () { return Events.updateFadeOut(); });
            document.body.addEventListener("mousemove", function (event) {
                if (config_json_9.default.log.mousemove && !mouseMoveTimer.isInTimer()) {
                    console.log("🖱️ MouseMove:", event, ui_12.UI.screenBody);
                }
                Events.mousemove();
            });
            _library_9.Library.UI.querySelectorAllWithFallback("label", ["label[for]:has(select):not(.icon-button)", "label[for]:not(.icon-button)"])
                .forEach(function (label) { return _library_9.Library.UI.showPickerOnLabel(label); });
            [
                // UI.withFullscreen,
                ui_12.UI.SettingsPanel.showFpsCheckbox,
            ].forEach(function (i) { return i.fire(); });
            document.addEventListener("visibilitychange", function () {
                console.log("\uD83D\uDC40 visibilitychange: document.hidden: ".concat(document.hidden));
                _features_2.Features.Fps.reset();
                if (!document.hidden) {
                    _features_2.Features.Player.resume();
                }
            });
            Events.updateVolume("disableLog");
            Events.updateBrightness("disableLog");
            _features_2.Features.Player.updateStretch();
            updateVisualizer();
            updateOverlayStyle();
            updateOverlayPosition();
            Events.updateLanguage();
            updateShortcuts("disableLog");
            updateUrlAnchor(url_4.Url.params);
            Events.updateFadeIn("disableLog");
            Events.updateFadeOut("disableLog");
            document.addEventListener("DOMContentLoaded", function () {
                // Catch up input values that the web browser quietly restores without firing events when a previously closed page is restored
                setTimeout(function () {
                    return [
                        ui_12.UI.ControlPanel.shuffle,
                        ui_12.UI.ControlPanel.repeat,
                        ui_12.UI.SettingsPanel.withFullscreenCheckbox,
                        ui_12.UI.SettingsPanel.brightnessRange,
                        ui_12.UI.SettingsPanel.stretchRange,
                        ui_12.UI.SettingsPanel.paddingCheckbox,
                        ui_12.UI.SettingsPanel.crossFadeSelect,
                        ui_12.UI.SettingsPanel.crossFadeWithBlurCheckbox,
                        ui_12.UI.SettingsPanel.imageSpanSelect,
                        ui_12.UI.SettingsPanel.loopShortMediaCheckbox,
                        ui_12.UI.SettingsPanel.visualizerSelect,
                        ui_12.UI.SettingsPanel.overlayStyleSelect,
                        ui_12.UI.SettingsPanel.overlayPositionSelect,
                        ui_12.UI.SettingsPanel.withWeatherCheckbox,
                        ui_12.UI.SettingsPanel.weatherLocationSelect,
                        ui_12.UI.SettingsPanel.withClockCheckbox,
                        ui_12.UI.SettingsPanel.withDateCheckbox,
                        ui_12.UI.SettingsPanel.withCalenderCheckbox,
                        ui_12.UI.SettingsPanel.showFpsCheckbox,
                        ui_12.UI.SettingsPanel.shortcutsSelect,
                        ui_12.UI.SettingsPanel.languageSelect,
                        ui_12.UI.wakeUpSelect,
                        ui_12.UI.fadeInSelect,
                        ui_12.UI.sleepSelect,
                        ui_12.UI.fadeOutSelect,
                    ]
                        .forEach(function (i) { return i.catchUpRestore(url_4.Url.params); });
                }, 25);
            });
            window.addEventListener("languagechange", function () {
                console.log("🌐 languagechange:", navigator.language, navigator.languages);
                var old = _library_9.Library.Locale.getLocale();
                _library_9.Library.Locale.setLocale(ui_12.UI.SettingsPanel.languageSelect.get());
                if (old !== _library_9.Library.Locale.getLocale()) {
                    Events.updateLanguage();
                }
            });
        };
    })(Events || (exports.Events = Events = {}));
});
define("script/screenshot", ["require", "exports", "script/library/index", "script/ui"], function (require, exports, _library_10, ui_13) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.Screenshot = void 0;
    var Screenshot;
    (function (Screenshot) {
        Screenshot.initialize = function (params) {
            var screenshot = params["screenshot"];
            switch (screenshot) {
                case "favicon":
                    Screenshot.fixCanvasSize("1024px", "1024px");
                    Screenshot.toCenterControlPanel(10);
                    _library_10.Library.UI.getElementById("div", "control-panel").style.setProperty("padding", "0px");
                    Screenshot.setDisplayNone(["#media-screen", "#background-screen", ".item.add", "label[for=shuffle]", "label[for=repeat]", "label[for=volume-button]", "label[for=settings-button]", "label[for=wakeup-button]", "label[for=sleep-button]",]);
                    break;
                case "twitter-card":
                    Screenshot.fixCanvasSize("1200px", "630px");
                    Screenshot.toCenterControlPanel(3.5);
                    Screenshot.setDisplayNone(["#media-screen", "#background-screen", ".item.add", "label[for=wakeup-button]", "label[for=sleep-button]",]);
                    break;
            }
        };
        Screenshot.setDisplayNone = function (querySelectors) { return querySelectors.forEach(function (selector) {
            var element = document.querySelector(selector);
            if (element) {
                element.style.setProperty("display", "none");
            }
            else {
                console.error("\uD83D\uDEAB Screenshot.setDisplayNone: Element not found for selector \"".concat(selector, "\"."));
            }
        }); };
        Screenshot.fixCanvasSize = function (width, height) {
            ui_13.UI.screenBody.style.setProperty("background-color", "white");
            ui_13.UI.screenBody.style.setProperty("display", "flex");
            ui_13.UI.screenBody.style.setProperty("flex-direction", "column");
            ui_13.UI.screenBody.style.setProperty("align-items", "center");
            ui_13.UI.screenBody.style.setProperty("justify-content", "center");
            ui_13.UI.mediaList.style.setProperty("position", "relative");
            ui_13.UI.mediaList.style.setProperty("background-color", "black");
            ["min-width", "max-width",].forEach(function (i) { return ui_13.UI.mediaList.style.setProperty(i, width); });
            ["min-height", "max-height",].forEach(function (i) { return ui_13.UI.mediaList.style.setProperty(i, height); });
        };
        Screenshot.toCenterControlPanel = function (rate) {
            var controlPanel = _library_10.Library.UI.getElementById("div", "control-panel");
            controlPanel.style.setProperty("inset-block-end", "50%");
            controlPanel.style.setProperty("transform", "translate(-50%, 50%) scale(".concat(rate, ")"));
        };
    })(Screenshot || (exports.Screenshot = Screenshot = {}));
});
define("script/index", ["require", "exports", "script/tools/index", "script/library/index", "script/features/index", "resource/config", "resource/control", "resource/evil-commonjs.config", "resource/evil-timer.js.config", "resource/images", "script/url", "script/ui", "script/medialist", "script/events", "script/screenshot"], function (require, exports, _tools_9, _library_11, _features_3, config_json_10, control_json_3, evil_commonjs_config_json_1, evil_timer_js_config_json_1, images_json_1, url_5, ui_14, medialist_2, events_1, screenshot_1) {
    "use strict";
    Object.defineProperty(exports, "__esModule", { value: true });
    config_json_10 = __importDefault(config_json_10);
    control_json_3 = __importDefault(control_json_3);
    evil_commonjs_config_json_1 = __importDefault(evil_commonjs_config_json_1);
    evil_timer_js_config_json_1 = __importDefault(evil_timer_js_config_json_1);
    images_json_1 = __importDefault(images_json_1);
    console.log("\uD83D\uDCE6 BUILD AT: ".concat(build.at, " ( ").concat(_tools_9.Tools.Timespan.toHumanizedString(new Date().getTime() - build.tick, 1), " ").concat(_library_11.Library.Locale.map("ago"), " )"));
    url_5.Url.initialize();
    ui_14.UI.initialize(url_5.Url.params);
    events_1.Events.initialize(url_5.Url.params);
    _library_11.Library.Shortcuts.initialize();
    medialist_2.MediaList.initialize(url_5.Url.params);
    _features_3.Features.Player.initialize(url_5.Url.params);
    _features_3.Features.Overlay.initialize(url_5.Url.params);
    screenshot_1.Screenshot.initialize(url_5.Url.params);
    _features_3.Features.Timer.initialize({
        isPlaying: _features_3.Features.Player.isPlaying,
        play: function () {
            console.log("⏰ Timer: Resuming playback for wake-up.");
            //UI.wakeUpToggle.toggle(false);
            _features_3.Features.Player.play();
        },
        pause: function () {
            console.log("💤 Timer: Pausing playback for sleep mode.");
            ui_14.UI.sleepToggle.toggle(false);
            _features_3.Features.Player.pause();
        },
        onChangedSleepMode: events_1.Events.onChangedSleepMode,
    });
    var consoleInterface = globalThis;
    var Resource = {
        config: config_json_10.default,
        control: control_json_3.default,
        evilCommonJsConfig: evil_commonjs_config_json_1.default,
        evilTimerJsConfig: evil_timer_js_config_json_1.default,
        images: images_json_1.default,
        locale: _library_11.Library.Locale.master,
    };
    var modules = {
        Tools: _tools_9.Tools,
        Library: _library_11.Library,
        Features: _features_3.Features,
        Url: url_5.Url,
        UI: ui_14.UI,
        Events: events_1.Events,
        Resource: Resource
    };
    Object.entries(modules).forEach(function (_a) {
        var name = _a[0], module = _a[1];
        return consoleInterface[name] = module;
    });
    console.log("\uD83D\uDCE6 Available modules: ".concat(Object.keys(modules).join(", ")));
});
//# sourceMappingURL=script/index.js.map
if ("serviceWorker" in navigator)
{
    window.addEventListener
    (
        "load",
        () =>
        {
            navigator.serviceWorker.register("./sw.js")
                .then(reg => console.log("✅ SW registered:", reg.scope))
                .catch(err => console.warn("🚫 SW registration failed:", err));
        }
    );
}
</script>
</html>
